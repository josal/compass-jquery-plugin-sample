(function(a){a.jQTouch=function(e){function i(b){g=a.extend({},{addGlossToIcon:true,backSelector:".back, .cancel, .goback",cacheGetRequests:true,cubeSelector:".cube",dissolveSelector:".dissolve",fadeSelector:".fade",fixedViewport:true,flipSelector:".flip",formSelector:"form",fullScreen:true,fullScreenClass:"fullscreen",icon:null,touchSelector:"a, .touch",popSelector:".pop",preloadImages:false,slideSelector:"body > * > ul li a",slideupSelector:".slideup",startupScreen:null,statusBar:"default",submitSelector:".submit",
swapSelector:".swap",useAnimations:true,useFastTouch:true},b);if(g.preloadImages)for(b=g.preloadImages.length-1;b>=0;b--)(new Image).src=g.preloadImages[b];if(g.icon)s+='<link rel="apple-touch-icon'+(g.addGlossToIcon?"":"-precomposed")+'" href="'+g.icon+'" />';if(g.startupScreen)s+='<link rel="apple-touch-startup-image" href="'+g.startupScreen+'" />';if(g.fixedViewport)s+='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"/>';if(g.fullScreen){s+=
'<meta name="apple-mobile-web-app-capable" content="yes" />';if(g.statusBar)s+='<meta name="apple-mobile-web-app-status-bar-style" content="'+g.statusBar+'" />'}s&&L.append(s);a(document).ready(function(){for(var c in D){var d=D[c];a.isFunction(d)&&a.extend(w,d(w))}for(c in E){d=E[c];var f=g[d+"Selector"];typeof f=="string"&&F({name:d,selector:f})}t.push("input");t.push(g.touchSelector);t.push(g.backSelector);t.push(g.submitSelector);a(t.join(", ")).css("-webkit-touch-callout","none");a(g.backSelector).tap(j);
a(g.submitSelector).tap(M);u=a("body");g.fullScreenClass&&window.navigator.standalone==true&&u.addClass(g.fullScreenClass+" "+g.statusBar);u.bind("touchstart",N).bind("orientationchange",O).trigger("orientationchange").submit(G);if(g.useFastTouch&&a.support.touch){u.click(function(k){k=a(k.target);return k.attr("target")=="_blank"||k.attr("rel")=="external"||k.is('input[type="checkbox"]')?true:false});u.mousedown(function(){if((new Date).getTime()-H<200)return false})}if(a("body > .current").length==
0)q=a("body > *:first");else{q=a("body > .current:first");a("body > .current").removeClass("current")}a(q).addClass("current");location.hash=a(q).attr("id");o(q);scrollTo(0,0);x()})}function h(b){if(p.length>1){var c=Math.min(parseInt(b||1,10),p.length-1);if(isNaN(c)&&typeof b==="string"&&b!="#")for(var d=1,f=p.length;d<f;d++)if("#"+p[d].id===b){c=d;break}if(isNaN(c)||c<1)c=1;b=p[0].animation;d=p[0].page;p.splice(0,c);n(d,p[0].page,b,true);return w}else{console.error("No pages in history.");return false}}
function l(b,c){var d=p[0].page;if(typeof b==="string")b=a(b);if(typeof c==="string")for(var f=r.length-1;f>=0;f--)if(r[f].name===c){c=r[f];break}if(n(d,b,c)){o(b,c);return w}else{console.error("Could not animate pages.");return false}}function m(){return z}function j(b){var c=a(b.target);if(c.attr("nodeName")!=="A")c=c.parent("a");b=c.attr("target");var d=c.attr("hash"),f=null;if(B==false||!c.length){console.warn("Not able to tap element.");return false}if(c.attr("target")=="_blank"||c.attr("rel")==
"external")return true;for(var k=r.length-1;k>=0;k--)if(c.is(r[k].selector)){f=r[k];break}if(b=="_webapp")window.location=c.attr("href");else if(c.is(g.backSelector))h(d);else if(d&&d!="#"){c.addClass("active");l(a(d).data("referrer",c),f)}else{c.addClass("loading active");I(c.attr("href"),{animation:f,callback:function(){c.removeClass("loading");setTimeout(a.fn.unselect,250,c)},$referrer:c})}return false}function o(b,c){var d=b.attr("id");p.unshift({page:b,animation:c,id:d})}function n(b,c,d,f){if(c.length===
0){a.fn.unselect();console.error("Target element is missing.");return false}a(":focus").blur();scrollTo(0,0);var k=function(){if(d){c.removeClass("in reverse "+d.name);b.removeClass("current out reverse "+d.name)}else b.removeClass("current");c.trigger("pageAnimationEnd",{direction:"in"});b.trigger("pageAnimationEnd",{direction:"out"});clearInterval(dumbLoop);q=c;location.hash=q.attr("id");x();var v=c.data("referrer");v&&v.unselect();H=(new Date).getTime();B=true};b.trigger("pageAnimationStart",{direction:"out"});
c.trigger("pageAnimationStart",{direction:"in"});if(a.support.WebKitAnimationEvent&&d&&g.useAnimations){c.one("webkitAnimationEnd",k);B=false;c.addClass(d.name+" in current "+(f?" reverse":""));b.addClass(d.name+" out"+(f?" reverse":""))}else{c.addClass("current");k()}return true}function x(){dumbLoop=setInterval(function(){var b=q.attr("id");if(location.hash=="")location.hash="#"+b;else if(location.hash!="#"+b)try{h(location.hash)}catch(c){console.error("Unknown hash change.")}},100)}function P(b,
c){var d=null;a(b).each(function(){var f=a(this);f.attr("id")||f.attr("id","page-"+ ++Q);f.appendTo(u);if(f.hasClass("current")||!d)d=f});if(d!==null){l(d,c);return d}else return false}function I(b,c){var d=a.extend({},{data:null,method:"GET",animation:null,callback:null,$referrer:null},c);if(b!="#")a.ajax({url:b,data:d.data,type:d.method,success:function(f){if(f=P(f,d.animation)){d.method=="GET"&&g.cacheGetRequests&&d.$referrer&&d.$referrer.attr("href","#"+f.attr("id"));d.callback&&d.callback(true)}},
error:function(){d.$referrer&&d.$referrer.unselect();d.callback&&d.callback(false)}});else $referrer&&$referrer.unselect()}function G(b,c){b=typeof b==="string"?a(b):a(b.target);if(b.length&&b.is(g.formSelector)&&b.attr("action")){I(b.attr("action"),{data:b.serialize(),method:b.attr("method")||"POST",animation:r[0]||null,callback:c});return false}return true}function M(){var b=a(this).closest("form");if(b.length){evt=jQuery.Event("submit");evt.preventDefault();b.trigger(evt);return false}return true}
function F(b){if(typeof b.selector=="string"&&typeof b.name=="string"){r.push(b);a(b.selector).tap(j);t.push(b.selector)}}function O(){z=window.innerWidth<window.innerHeight?"profile":"landscape";u.removeClass("profile landscape").addClass(z).trigger("turn",{orientation:z})}function N(b){function c(){f();var y=Math.abs(A),J=Math.abs(C);if(y>J&&y>35&&K<1E3)k.trigger("swipe",{direction:A<0?"left":"right"}).unbind("touchmove touchend");else J>1&&k.removeClass("active");clearTimeout(v)}function d(){f();
if(C===0&&A===0){k.makeActive();k.trigger("tap")}else k.removeClass("active");k.unbind("touchmove touchend");clearTimeout(v)}function f(){var y=event.changedTouches[0]||null;A=y.pageX-R;C=y.pageY-S;K=(new Date).getTime()-T}var k=a(b.target);if(!a(b.target).is(t.join(", "))){b=a(b.target).closest("a");if(b.length)k=b;else return}if(event){var v=null,R=event.changedTouches[0].clientX,S=event.changedTouches[0].clientY,T=(new Date).getTime(),A=0,C=0,K=0;k.bind("touchmove",c).bind("touchend",d);v=setTimeout(function(){k.makeActive()},
100)}}a.support.WebKitCSSMatrix=typeof WebKitCSSMatrix=="object";a.support.touch=typeof Touch=="object";a.support.WebKitAnimationEvent=typeof WebKitTransitionEvent=="object";var u,L=a("head"),p=[],Q=0,g={},q,z;RegExp(" Mobile/").test(navigator.userAgent);var B=true,H=0,t=[],w={},D=a.jQTouch.prototype.extensions,E=["slide","flip","slideup","swap","cube","pop","dissolve","fade","back"],r=[],s="";i(e);a.fn.unselect=function(b){b?b.removeClass("active"):a(".active").removeClass("active")};a.fn.makeActive=
function(){return a(this).addClass("active")};a.fn.swipe=function(b){if(a.isFunction(b))return this.each(function(c,d){a(d).bind("swipe",b)})};a.fn.tap=function(b){if(a.isFunction(b)){var c=g.useFastTouch&&a.support.touch?"tap":"click";return a(this).live(c,b)}else a(this).trigger("tap")};return w={getOrientation:m,goBack:h,goTo:l,addAnimation:F,submitForm:G}};a.jQTouch.prototype.extensions=[];a.jQTouch.addExtension=function(e){a.jQTouch.prototype.extensions.push(e)}})(jQuery);
(function(a){a.fn.transition=function(e,i){return this.each(function(){var h=a(this),l=a.extend({},{speed:"300ms",callback:null,ease:"ease-in-out"},i);if(l.speed===0){h.css(e);window.setTimeout(l.callback,0)}else if(a.browser.safari){var m=[];for(var j in e)m.push(j);h.css({webkitTransitionProperty:m.join(", "),webkitTransitionDuration:l.speed,webkitTransitionTimingFunction:l.ease});l.callback&&h.one("webkitTransitionEnd",l.callback);setTimeout(function(o){o.css(e)},0,h)}else h.animate(e,l.speed,
l.callback)})}})(jQuery);(function(a){a.jQTouch&&a.jQTouch.addExtension(function(){function e(h){i=h}var i=".toolbar h1";a(function(){a("body").bind("pageAnimationStart",function(h,l){if(l.direction==="in"){l=a(i,a(h.target));h=a(h.target).data("referrer");l.length&&h&&l.html(h.text())}})});return{setTitleSelector:e}})})(jQuery);
(function(a){a.jQTouch&&a.jQTouch.addExtension(function(){a.fn.makeFloaty=function(e){var i=a.extend({},{align:"top",spacing:20,time:".3s"},e);i.align=i.align=="top"?"top":"bottom";return this.each(function(){var h=a(this);h.css({"-webkit-transition":"top "+i.time+" ease-in-out",display:"block","min-height":"0 !important"}).data("settings",i);a(document).bind("scroll",function(){h.data("floatyVisible")===true&&h.scrollFloaty()});h.scrollFloaty()})};a.fn.scrollFloaty=function(){return this.each(function(){var e=
a(this),i=e.data("settings"),h=a("html").attr("clientHeight");i=window.pageYOffset+(i.align=="top"?i.spacing:h-i.spacing-e.get(0).offsetHeight);e.css("top",i).data("floatyVisible",true)})};a.fn.hideFloaty=function(){return this.each(function(){var e=a(this),i=e.get(0).offsetHeight;e.css("top",-i-10).data("floatyVisible",false)})};a.fn.toggleFloaty=function(){return this.each(function(){var e=a(this);e.data("floatyVisible")===true?e.hideFloaty():e.scrollFloaty()})}})})(jQuery);
(function(a){a.jQTouch&&a.jQTouch.addExtension(function(){function e(){return navigator.geolocation}function i(n){if(e()){o=n;navigator.geolocation.getCurrentPosition(h);return true}else{console.log("Device not capable of geo-location.");n(false);return false}}function h(n){m=n.coords.latitude;j=n.coords.longitude;o&&o(l())}function l(){if(m&&j)return{latitude:m,longitude:j};else{console.log("No location available. Try calling updateLocation() first.");return false}}var m,j,o;return{updateLocation:i,
getLocation:l}})})(jQuery);
(function(a){a.jQTouch&&a.jQTouch.addExtension(function(){function e(o){var n,x;n=i()?"yes":"no";x=m[j.status];o=o.type;n="online: "+n;n+=", event: "+o;n+=", status: "+x;if(o=="error"&&navigator.onLine)n+=" There was an unknown error, check your Cache Manifest.";console.log(n)}function i(){return navigator.onLine}function h(){j.update()}function l(){setInterval(function(){j.update()},1E4)}var m=[];m[0]="uncached";m[1]="idle";m[2]="checking";m[3]="downloading";m[4]="updateready";m[5]="obsolete";var j=
window.applicationCache;j.addEventListener("cached",e,false);j.addEventListener("checking",e,false);j.addEventListener("downloading",e,false);j.addEventListener("error",e,false);j.addEventListener("noupdate",e,false);j.addEventListener("obsolete",e,false);j.addEventListener("progress",e,false);j.addEventListener("updateready",e,false);a("html").attr("manifest")||console.log("No Cache Manifest listed on the <html> tag.");j.addEventListener("updateready",function(){if(m[j.status]!="idle"){j.swapCache();
console.log("Swapped/updated the Cache Manifest.")}},false);return{isOnline:i,checkForUpdates:h,autoCheckForUpdates:l}})})(jQuery);
