(function(a){a.jQTouch=function(e){a.support.WebKitCSSMatrix=(typeof WebKitCSSMatrix=="object");a.support.touch=(typeof Touch=="object");a.support.WebKitAnimationEvent=(typeof WebKitTransitionEvent=="object");var t,p=a("head"),j=[],i=0,l={},B,v,d,b=RegExp(" Mobile/").test(navigator.userAgent),f=true,u=0,D=[],r={},C=a.jQTouch.prototype.extensions,E=["slide","flip","slideup","swap","cube","pop","dissolve","fade","back"],n=[],h="";w(e);function w(I){var L={addGlossToIcon:true,backSelector:".back, .cancel, .goback",cacheGetRequests:true,cubeSelector:".cube",dissolveSelector:".dissolve",fadeSelector:".fade",fixedViewport:true,flipSelector:".flip",formSelector:"form",fullScreen:true,fullScreenClass:"fullscreen",icon:null,touchSelector:"a, .touch",popSelector:".pop",preloadImages:false,slideSelector:"body > * > ul li a",slideupSelector:".slideup",startupScreen:null,statusBar:"default",submitSelector:".submit",swapSelector:".swap",useAnimations:true,useFastTouch:true};l=a.extend({},L,I);if(l.preloadImages){for(var J=l.preloadImages.length-1;J>=0;J--){(new Image()).src=l.preloadImages[J]}}if(l.icon){var K=(l.addGlossToIcon)?"":"-precomposed";h+='<link rel="apple-touch-icon'+K+'" href="'+l.icon+'" />'}if(l.startupScreen){h+='<link rel="apple-touch-startup-image" href="'+l.startupScreen+'" />'}if(l.fixedViewport){h+='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"/>'}if(l.fullScreen){h+='<meta name="apple-mobile-web-app-capable" content="yes" />';if(l.statusBar){h+='<meta name="apple-mobile-web-app-status-bar-style" content="'+l.statusBar+'" />'}}if(h){p.append(h)}a(document).ready(function(){for(var O in C){var P=C[O];if(a.isFunction(P)){a.extend(r,P(r))}}for(var O in E){var N=E[O];var M=l[N+"Selector"];if(typeof(M)=="string"){y({name:N,selector:M})}}D.push("input");D.push(l.touchSelector);D.push(l.backSelector);D.push(l.submitSelector);a(D.join(", ")).css("-webkit-touch-callout","none");a(l.backSelector).tap(m);a(l.submitSelector).tap(q);t=a("body");if(l.fullScreenClass&&window.navigator.standalone==true){t.addClass(l.fullScreenClass+" "+l.statusBar)}t.bind("touchstart",G).bind("orientationchange",z).trigger("orientationchange").submit(o);if(l.useFastTouch&&a.support.touch){t.click(function(R){var Q=a(R.target);if(Q.attr("target")=="_blank"||Q.attr("rel")=="external"||Q.is('input[type="checkbox"]')){return true}else{return false}});t.mousedown(function(Q){var R=(new Date()).getTime()-u;if(R<200){return false}})}if(a("body > .current").length==0){v=a("body > *:first")}else{v=a("body > .current:first");a("body > .current").removeClass("current")}a(v).addClass("current");location.hash=a(v).attr("id");s(v);scrollTo(0,0);A()})}function H(O){if(j.length>1){var N=Math.min(parseInt(O||1,10),j.length-1);if(isNaN(N)&&typeof(O)==="string"&&O!="#"){for(var I=1,K=j.length;I<K;I++){if("#"+j[I].id===O){N=I;break}}}if(isNaN(N)||N<1){N=1}var L=j[0].animation;var M=j[0].page;j.splice(0,N);var J=j[0].page;g(M,J,L,true);return r}else{console.error("No pages in history.");return false}}function F(J,K){var L=j[0].page;if(typeof(J)==="string"){J=a(J)}if(typeof(K)==="string"){for(var I=n.length-1;I>=0;I--){if(n[I].name===K){K=n[I];break}}}if(g(L,J,K)){s(J,K);return r}else{console.error("Could not animate pages.");return false}}function k(){return d}function m(N){var J=a(N.target);if(J.attr("nodeName")!=="A"){J=J.parent("a")}var M=J.attr("target"),L=J.attr("hash"),K=null;if(f==false||!J.length){console.warn("Not able to tap element.");return false}if(J.attr("target")=="_blank"||J.attr("rel")=="external"){return true}for(var I=n.length-1;I>=0;I--){if(J.is(n[I].selector)){K=n[I];break}}if(M=="_webapp"){window.location=J.attr("href")}else{if(J.is(l.backSelector)){H(L)}else{if(L&&L!="#"){J.addClass("active");F(a(L).data("referrer",J),K)}else{J.addClass("loading active");x(J.attr("href"),{animation:K,callback:function(){J.removeClass("loading");setTimeout(a.fn.unselect,250,J)},$referrer:J})}}}return false}function s(K,J){var I=K.attr("id");j.unshift({page:K,animation:J,id:I})}function g(L,J,K,I){if(J.length===0){a.fn.unselect();console.error("Target element is missing.");return false}a(":focus").blur();scrollTo(0,0);var M=function(O){if(K){J.removeClass("in reverse "+K.name);L.removeClass("current out reverse "+K.name)}else{L.removeClass("current")}J.trigger("pageAnimationEnd",{direction:"in"});L.trigger("pageAnimationEnd",{direction:"out"});clearInterval(dumbLoop);v=J;location.hash=v.attr("id");A();var N=J.data("referrer");if(N){N.unselect()}u=(new Date()).getTime();f=true};L.trigger("pageAnimationStart",{direction:"out"});J.trigger("pageAnimationStart",{direction:"in"});if(a.support.WebKitAnimationEvent&&K&&l.useAnimations){J.one("webkitAnimationEnd",M);f=false;J.addClass(K.name+" in current "+(I?" reverse":""));L.addClass(K.name+" out"+(I?" reverse":""))}else{J.addClass("current");M()}return true}function A(){dumbLoop=setInterval(function(){var I=v.attr("id");if(location.hash==""){location.hash="#"+I}else{if(location.hash!="#"+I){try{H(location.hash)}catch(J){console.error("Unknown hash change.")}}}},100)}function c(I,J){var K=null;a(I).each(function(M,N){var L=a(this);if(!L.attr("id")){L.attr("id","page-"+(++i))}L.appendTo(t);if(L.hasClass("current")||!K){K=L}});if(K!==null){F(K,J);return K}else{return false}}function x(I,J){var L={data:null,method:"GET",animation:null,callback:null,$referrer:null};var K=a.extend({},L,J);if(I!="#"){a.ajax({url:I,data:K.data,type:K.method,success:function(M,O){var N=c(M,K.animation);if(N){if(K.method=="GET"&&l.cacheGetRequests&&K.$referrer){K.$referrer.attr("href","#"+N.attr("id"))}if(K.callback){K.callback(true)}}},error:function(M){if(K.$referrer){K.$referrer.unselect()}if(K.callback){K.callback(false)}}})}else{if($referrer){$referrer.unselect()}}}function o(J,K){var I=(typeof(J)==="string")?a(J):a(J.target);if(I.length&&I.is(l.formSelector)&&I.attr("action")){x(I.attr("action"),{data:I.serialize(),method:I.attr("method")||"POST",animation:n[0]||null,callback:K});return false}return true}function q(J){var I=a(this).closest("form");if(I.length){evt=jQuery.Event("submit");evt.preventDefault();I.trigger(evt);return false}return true}function y(I){if(typeof(I.selector)=="string"&&typeof(I.name)=="string"){n.push(I);a(I.selector).tap(m);D.push(I.selector)}}function z(){d=window.innerWidth<window.innerHeight?"profile":"landscape";t.removeClass("profile landscape").addClass(d).trigger("turn",{orientation:d})}function G(Q){var U=a(Q.target);if(!a(Q.target).is(D.join(", "))){var R=a(Q.target).closest("a");if(R.length){U=R}else{return}}if(event){var I=null,O=event.changedTouches[0].clientX,N=event.changedTouches[0].clientY,J=(new Date).getTime(),M=0,K=0,P=0;U.bind("touchmove",L).bind("touchend",S);I=setTimeout(function(){U.makeActive()},100)}function L(X){T();var W=Math.abs(M);var V=Math.abs(K);if(W>V&&(W>35)&&P<1000){U.trigger("swipe",{direction:(M<0)?"left":"right"}).unbind("touchmove touchend")}else{if(V>1){U.removeClass("active")}}clearTimeout(I)}function S(){T();if(K===0&&M===0){U.makeActive();U.trigger("tap")}else{U.removeClass("active")}U.unbind("touchmove touchend");clearTimeout(I)}function T(){var V=event.changedTouches[0]||null;M=V.pageX-O;K=V.pageY-N;P=(new Date).getTime()-J}}a.fn.unselect=function(I){if(I){I.removeClass("active")}else{a(".active").removeClass("active")}};a.fn.makeActive=function(){return a(this).addClass("active")};a.fn.swipe=function(I){if(a.isFunction(I)){return this.each(function(J,K){a(K).bind("swipe",I)})}};a.fn.tap=function(J){if(a.isFunction(J)){var I=(l.useFastTouch&&a.support.touch)?"tap":"click";return a(this).live(I,J)}else{a(this).trigger("tap")}};r={getOrientation:k,goBack:H,goTo:F,addAnimation:y,submitForm:o};return r};a.jQTouch.prototype.extensions=[];a.jQTouch.addExtension=function(b){a.jQTouch.prototype.extensions.push(b)}})(jQuery);(function(a){a.fn.transition=function(c,b){return this.each(function(){var e=a(this);var h={speed:"300ms",callback:null,ease:"ease-in-out"};var g=a.extend({},h,b);if(g.speed===0){e.css(c);window.setTimeout(g.callback,0)}else{if(a.browser.safari){var f=[];for(var d in c){f.push(d)}e.css({webkitTransitionProperty:f.join(", "),webkitTransitionDuration:g.speed,webkitTransitionTimingFunction:g.ease});if(g.callback){e.one("webkitTransitionEnd",g.callback)}setTimeout(function(i){i.css(c)},0,e)}else{e.animate(c,g.speed,g.callback)}}})}})(jQuery);(function(a){if(a.jQTouch){a.jQTouch.addExtension(function b(e){var d=".toolbar h1";a(function(){a("body").bind("pageAnimationStart",function(i,g){if(g.direction==="in"){var f=a(d,a(i.target));var h=a(i.target).data("referrer");if(f.length&&h){f.html(h.text())}}})});function c(f){d=f}return{setTitleSelector:c}})}})(jQuery);(function(b){if(b.jQTouch){b.jQTouch.addExtension(function a(c){b.fn.makeFloaty=function(d){var f={align:"top",spacing:20,time:".3s"};var e=b.extend({},f,d);e.align=(e.align=="top")?"top":"bottom";return this.each(function(){var g=b(this);g.css({"-webkit-transition":"top "+e.time+" ease-in-out",display:"block","min-height":"0 !important"}).data("settings",e);b(document).bind("scroll",function(){if(g.data("floatyVisible")===true){g.scrollFloaty()}});g.scrollFloaty()})};b.fn.scrollFloaty=function(){return this.each(function(){var d=b(this);var f=d.data("settings");var e=b("html").attr("clientHeight");var g=window.pageYOffset+((f.align=="top")?f.spacing:e-f.spacing-d.get(0).offsetHeight);d.css("top",g).data("floatyVisible",true)})};b.fn.hideFloaty=function(){return this.each(function(){var d=b(this);var e=d.get(0).offsetHeight;d.css("top",-e-10).data("floatyVisible",false)})};b.fn.toggleFloaty=function(){return this.each(function(){var d=b(this);if(d.data("floatyVisible")===true){d.hideFloaty()}else{d.scrollFloaty()}})}})}})(jQuery);(function(b){if(b.jQTouch){b.jQTouch.addExtension(function a(){var i,f,h;function d(){return navigator.geolocation}function g(j){if(d()){h=j;navigator.geolocation.getCurrentPosition(c);return true}else{console.log("Device not capable of geo-location.");j(false);return false}}function c(j){i=j.coords.latitude;f=j.coords.longitude;if(h){h(e())}}function e(){if(i&&f){return{latitude:i,longitude:f}}else{console.log("No location available. Try calling updateLocation() first.");return false}}return{updateLocation:g,getLocation:e}})}})(jQuery);(function(b){if(b.jQTouch){b.jQTouch.addExtension(function a(){var c=[];c[0]="uncached";c[1]="idle";c[2]="checking";c[3]="downloading";c[4]="updateready";c[5]="obsolete";var d=window.applicationCache;d.addEventListener("cached",f,false);d.addEventListener("checking",f,false);d.addEventListener("downloading",f,false);d.addEventListener("error",f,false);d.addEventListener("noupdate",f,false);d.addEventListener("obsolete",f,false);d.addEventListener("progress",f,false);d.addEventListener("updateready",f,false);function f(m){var j,i,k,l;j=(h())?"yes":"no";i=c[d.status];k=m.type;l="online: "+j;l+=", event: "+k;l+=", status: "+i;if(k=="error"&&navigator.onLine){l+=" There was an unknown error, check your Cache Manifest."}console.log(l)}function h(){return navigator.onLine}if(!b("html").attr("manifest")){console.log("No Cache Manifest listed on the <html> tag.")}d.addEventListener("updateready",function(i){if(c[d.status]!="idle"){d.swapCache();console.log("Swapped/updated the Cache Manifest.")}},false);function e(){d.update()}function g(){setInterval(function(){d.update()},10000)}return{isOnline:h,checkForUpdates:e,autoCheckForUpdates:g}})}})(jQuery);