var a;
(function(b){function i(d,g){d._id=d._id||(d.id==$?"_fc"+Wa++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=G(d.start=hb(d.start));d.end=hb(d.end);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?G(d.end):null;if(d.allDay==$)d.allDay=g.allDayDefault;if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[]}function l(d,g,o){function n(v,F,ha,X){Y=v;ca=F;K=g.theme?"ui":"fc";za=g.weekends?0:1;oa=g.firstDay;if(Ha=g.isRTL){La=-1;Ia=
ca-1}else{La=1;Ia=0}var ra=U.start.getMonth(),la=Na(new Date),ea,V=G(U.visStart);if(ma){B();F=ma.find("tr").length;if(Y<F)ma.find("tr:gt("+(Y-1)+")").remove();else if(Y>F){v="";for(F=F;F<Y;F++){v+="<tr class='fc-week"+F+"'>";for(ea=0;ea<ca;ea++){v+="<td class='fc-"+Qa[V.getDay()]+" "+K+"-state-default fc-new fc-day"+(F*ca+ea)+(ea==Ia?" fc-leftmost":"")+"'>"+(X?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";C(V,1);za&&Aa(V)}v+=
"</tr>"}ma.append(v)}ma.find("td.fc-new").removeClass("fc-new").click(s);V=G(U.visStart);ma.find("td").each(function(){var Ca=b(this);if(Y>1)V.getMonth()==ra?Ca.removeClass("fc-other-month"):Ca.addClass("fc-other-month");+V==+la?Ca.removeClass("fc-not-today").addClass("fc-today").addClass(K+"-state-highlight"):Ca.addClass("fc-not-today").removeClass("fc-today").removeClass(K+"-state-highlight");Ca.find("div.fc-day-number").text(V.getDate());C(V,1);za&&Aa(V)});if(Y==1){V=G(U.visStart);Ba.find("th").each(function(){b(this).text(Ma(V,
ha,g));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+Qa[V.getDay()]);C(V,1);za&&Aa(V)});V=G(U.visStart);ma.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+Qa[V.getDay()]);C(V,1);za&&Aa(V)})}}else{var pa=b("<table/>").appendTo(d);v="<thead><tr>";for(F=0;F<ca;F++){v+="<th class='fc-"+Qa[V.getDay()]+" "+K+"-state-default"+(F==Ia?" fc-leftmost":"")+"'>"+Ma(V,ha,g)+"</th>";C(V,1);za&&Aa(V)}Ba=b(v+"</tr></thead>").appendTo(pa);v="<tbody>";V=G(U.visStart);
for(F=0;F<Y;F++){v+="<tr class='fc-week"+F+"'>";for(ea=0;ea<ca;ea++){v+="<td class='fc-"+Qa[V.getDay()]+" "+K+"-state-default fc-day"+(F*ca+ea)+(ea==Ia?" fc-leftmost":"")+(Y>1&&V.getMonth()!=ra?" fc-other-month":"")+(+V==+la?" fc-today "+K+"-state-highlight":" fc-not-today")+"'>"+(X?"<div class='fc-day-number'>"+V.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";C(V,1);za&&Aa(V)}v+="</tr>"}ma=b(v+"</tbody>").appendTo(pa);ma.find("td").click(s);
na=b("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(d)}}function s(v){var F=parseInt(this.className.match(/fc\-day(\d+)/)[1]);F=C(G(U.visStart),Math.floor(F/ca)*7+F%ca);U.trigger("dayClick",this,F,true,v)}function z(v){Ga=v;v=ma.find("tr td:first-child");var F=Ga-Ba.height(),ha;if(g.weekMode=="variable")ha=F=Math.floor(F/(Y==1?2:6));else{ha=Math.floor(F/Y);F=F-ha*(Y-1)}if(Xa==$){var X=ma.find("tr:first").find("td:first");X.height(ha);Xa=ha!=X.height()}if(Xa){v.slice(0,-1).height(ha);
v.slice(-1).height(F)}else{$a(v.slice(0,-1),ha);$a(v.slice(-1),F)}}function w(v){ua=v;T.clear();Ra(Ba.find("th").slice(0,-1),Oa=Math.floor(ua/ca))}function O(v){U.reportEvents(Fa=v);Q(sa(v))}function N(v){B();Q(sa(Fa),v)}function B(){U._clearEvents();na.empty()}function sa(v){var F=G(U.visStart),ha=C(G(F),ca),X=b.map(v,qa),ra,la,ea,V,pa,Ca,t=[];for(ra=0;ra<Y;ra++){la=m(U.sliceSegs(v,X,F,ha));for(ea=0;ea<la.length;ea++){V=la[ea];for(pa=0;pa<V.length;pa++){Ca=V[pa];Ca.row=ra;Ca.level=ea;t.push(Ca)}}C(F,
7);C(ha,7)}return t}function Q(v,F){c(v,Y,U,0,ua,function(ha){return ma.find("tr:eq("+ha+")")},T.left,T.right,na,ba,F)}function qa(v){if(v.end){var F=G(v.end);return v.allDay||F.getHours()||F.getMinutes()?C(F,1):F}else return C(G(v.start),1)}function ba(v,F,ha){U.eventElementHandlers(v,F);if(v.editable||v.editable==$&&g.editable){Ja(v,F);ha.isEnd&&U.resizableDayEvent(v,F,Oa)}}function Ja(v,F){if(!g.disableDragging&&F.draggable){var ha;F.draggable({zIndex:9,delay:50,opacity:U.option("dragOpacity"),
revertDuration:g.dragRevertDuration,start:function(X,ra){U.hideEvents(v,F);U.trigger("eventDragStart",F,v,X,ra);ha=new E(function(la){F.draggable("option","revert",!la||!la.rowDelta&&!la.colDelta);la?U.showOverlay(la):U.hideOverlay()});ma.find("tr").each(function(){ha.row(this)});ra=ma.find("tr:first td");if(Ha)ra=b(ra.get().reverse());ra.each(function(){ha.col(this)});ha.mouse(X.pageX,X.pageY)},drag:function(X){ha.mouse(X.pageX,X.pageY)},stop:function(X,ra){U.hideOverlay();U.trigger("eventDragStop",
F,v,X,ra);var la=ha.cell;if(!la||!la.rowDelta&&!la.colDelta){b.browser.msie&&F.css("filter","");U.showEvents(v,F)}else{F.find("a").removeAttr("href");U.eventDrop(this,v,la.rowDelta*7+la.colDelta*La,0,v.allDay,X,ra)}}})}}var K,oa,za,Ha,La,Ia,ua,Ga,Y,ca,Oa,Ba,ma,Fa=[],na,T=new xa(function(v){return ma.find("td:eq("+(v-Math.max(oa,za)+ca)%ca+") div div")}),U=b.extend(this,ab,o,{renderGrid:n,renderEvents:O,rerenderEvents:N,clearEvents:B,setHeight:z,setWidth:w,defaultEventEnd:function(v){return G(v.start)}});
U.init(d,g);d.addClass("fc-grid");d.disableSelection&&d.disableSelection()}function c(d,g,o,n,s,z,w,O,N,B,sa){var Q=o.options,qa=Q.isRTL,ba,Ja=d.length,K,oa,za,Ha,La,Ia="",ua={},Ga={},Y=[],ca=[];for(ba=0;ba<Ja;ba++){K=d[ba];oa=K.event;za="fc-event fc-event-hori ";if(qa){if(K.isStart)za+="fc-corner-right ";if(K.isEnd)za+="fc-corner-left ";Ha=K.isEnd?w(K.end.getDay()-1):n;La=K.isStart?O(K.start.getDay()):s}else{if(K.isStart)za+="fc-corner-left ";if(K.isEnd)za+="fc-corner-right ";Ha=K.isStart?w(K.start.getDay()):
n;La=K.isEnd?O(K.end.getDay()-1):s}Ia+="<div class='"+za+oa.className.join(" ")+"' style='position:absolute;z-index:8;left:"+Ha+"px'><a"+(oa.url?" href='"+fa(oa.url)+"'":"")+">"+(!oa.allDay&&K.isStart?"<span class='fc-event-time'>"+fa(Va(oa.start,oa.end,o.option("timeFormat"),Q))+"</span>":"")+"<span class='fc-event-title'>"+fa(oa.title)+"</span></a>"+((oa.editable||oa.editable==$&&Q.editable)&&!Q.disableResizing&&b.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(qa?"w":"e")+"'></div>":
"")+"</div>";K.left=Ha;K.outerWidth=La-Ha}N[0].innerHTML=Ia;s=N.children();for(ba=0;ba<Ja;ba++){K=d[ba];n=b(s[ba]);oa=K.event;w=o.trigger("eventRender",oa,oa,n);if(w===false)n.remove();else{if(w&&w!==true){n.remove();n=b(w).css({position:"absolute",left:K.left}).appendTo(N)}K.element=n;if(oa._id===sa)B(oa,n,K);else n[0]._fci=ba;o.reportEventElement(oa,n)}}e(N,d,B);for(ba=0;ba<Ja;ba++){K=d[ba];if(n=K.element){B=ua[N=K.key=R(n[0])];K.hsides=B==$?(ua[N]=bb(n[0],true)):B}}for(ba=0;ba<Ja;ba++){K=d[ba];
if(n=K.element)n[0].style.width=K.outerWidth-K.hsides+"px"}for(ba=0;ba<Ja;ba++){K=d[ba];if(n=K.element){B=Ga[N=K.key];K.outerHeight=n[0].offsetHeight+(B==$?(Ga[N]=eb(n[0])):B)}}for(ua=ba=0;ua<g;ua++){for(Ga=N=B=0;ba<Ja&&(K=d[ba]).row==ua;){if(K.level!=N){Ga+=B;B=0;N++}B=Math.max(B,K.outerHeight||0);K.top=Ga;ba++}Y[ua]=z(ua).find("td:first div.fc-day-content > div").height(Ga+B)}for(ua=0;ua<g;ua++)ca[ua]=Y[ua][0].offsetTop;for(ba=0;ba<Ja;ba++){K=d[ba];if(n=K.element){n[0].style.top=ca[K.row]+K.top+
"px";oa=K.event;o.trigger("eventAfterRender",oa,oa,n)}}}function k(d,g,o){function n(p,u){Fa=p;ea=g.theme?"ui":"fc";pa=g.weekends?0:1;V=g.firstDay;if(Ca=g.isRTL){t=-1;M=Fa-1}else{t=1;M=0}da=ib(g.minTime);Z=ib(g.maxTime);p=Ca?C(G(H.visEnd),-1):G(H.visStart);var x=G(p),P=Na(new Date);if(Y){sa();Y.find("tr:first th").slice(1,-1).each(function(){b(this).text(Ma(x,u,g));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+Qa[x.getDay()]);C(x,t);pa&&Aa(x,t)});x=G(p);ma.find("td").each(function(){this.className=
this.className.replace(/^fc-\w+(?= )/,"fc-"+Qa[x.getDay()]);+x==+P?b(this).removeClass("fc-not-today").addClass("fc-today").addClass(ea+"-state-highlight"):b(this).addClass("fc-not-today").removeClass("fc-today").removeClass(ea+"-state-highlight");C(x,t);pa&&Aa(x,t)})}else{var A,J,L=g.slotMinutes%15==0,S="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(g.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+ea+"-state-default'>&nbsp;</th>";
for(A=0;A<Fa;A++){S+="<th class='fc-"+Qa[x.getDay()]+" "+ea+"-state-default'>"+Ma(x,u,g)+"</th>";C(x,t);pa&&Aa(x,t)}S+="<th class='"+ea+"-state-default'>&nbsp;</th></tr>";if(g.allDaySlot)S+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+ea+"-state-default'>"+g.allDayText+"</th><td colspan='"+Fa+"' class='"+ea+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+ea+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+
(Fa+2)+"' class='"+ea+"-state-default fc-leftmost'><div/></th></tr>";S+="</table></div>";Y=b(S).appendTo(d);Y.find("td").click(O);ra=b("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Y);x=Ya();var ia=I(G(x),Z);I(x,da);S="<table>";for(A=0;x<ia;A++){J=x.getMinutes();S+="<tr class='"+(A==0?"fc-first":J==0?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+ea+"-state-default'>"+(!L||J==0?Ma(x,g.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+A+" "+ea+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";
I(x,g.slotMinutes)}S+="</table>";ca=b("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(Oa=b("<div style='position:relative;overflow:hidden'>").append(Ba=b(S))).appendTo(d);ca.find("td").click(O);la=b("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Oa);x=G(p);S="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(A=0;A<Fa;A++){S+="<td class='fc-"+Qa[x.getDay()]+" "+
ea+"-state-default "+(A==0?"fc-leftmost ":"")+(+x==+P?ea+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";C(x,t);pa&&Aa(x,t)}S+="</tr></table></div>";ma=b(S).appendTo(d)}}function s(){var p=Ya(),u=G(p);u.setHours(g.firstHour);var x=ua(p,u)+1;p=function(){ca.scrollTop(x)};p();setTimeout(p,0)}function z(p,u){F=p;Da={};ca.height(p-Y.height());U=ca.find("tr:first div").height()+1;ma.css({top:Y.find("tr").height(),height:p});u&&s()}function w(p){v=
p;Ka.clear();ca.width(p);Ba.width("");p=Y.find("tr:first th");var u=ma.find("td"),x=ca[0].clientWidth;Ba.width(x);na=0;Ra(Y.find("tr:lt(2) th:first").add(ca.find("tr:first th")).width("").each(function(){na=Math.max(na,b(this).outerWidth())}),na);T=Math.floor((x-na)/Fa);Ra(u.slice(0,-1),T);Ra(p.slice(1,-2),T);Ra(p.slice(-2,-1),x-na-T*(Fa-1));ma.css({left:na,width:x-na})}function O(p){var u=Math.floor((p.pageX-ma.offset().left)/T);u=C(G(H.visStart),M+t*u);var x=this.className.match(/fc-slot(\d+)/);
if(x){x=parseInt(x[1])*g.slotMinutes;var P=Math.floor(x/60);u.setHours(P);u.setMinutes(x%60+da);H.trigger("dayClick",this,u,false,p)}else H.trigger("dayClick",this,u,true,p)}function N(p,u){H.reportEvents(X=p);var x,P=p.length,A=[],J=[];for(x=0;x<P;x++)p[x].allDay?A.push(p[x]):J.push(p[x]);ba(Q(A),u);Ja(qa(J),u)}function B(p){sa();N(X,p)}function sa(){H._clearEvents();ra.empty();la.empty()}function Q(p){p=m(H.sliceSegs(p,b.map(p,K),H.visStart,H.visEnd));var u,x=p.length,P,A,J,L=[];for(u=0;u<x;u++){P=
p[u];for(A=0;A<P.length;A++){J=P[A];J.row=0;J.level=u;L.push(J)}}return L}function qa(p){var u=I(G(H.visStart),da),x=b.map(p,K),P,A,J,L,S,ia,ta=[];for(P=0;P<Fa;P++){A=m(H.sliceSegs(p,x,u,I(G(u),Z-da)));f(A);for(J=0;J<A.length;J++){L=A[J];for(S=0;S<L.length;S++){ia=L[S];ia.col=P;ia.level=J;ta.push(ia)}}C(u,1,true)}return ta}function ba(p,u){if(g.allDaySlot){c(p,1,H,na,v,function(){return Y.find("tr.fc-all-day")},function(x){return na+Ka.left(Ga(x))},function(x){return na+Ka.right(Ga(x))},ra,oa,u);
z(F)}}function Ja(p,u){var x,P=p.length,A,J,L,S,ia,ta,ka,Ea,Sa,Ta,jb="",fb={},kb={};for(x=0;x<P;x++){A=p[x];J=A.event;L="fc-event fc-event-vert ";if(A.isStart)L+="fc-corner-top ";if(A.isEnd)L+="fc-corner-bottom ";S=ua(A.start,A.start);ia=ua(A.start,A.end);ta=A.col;ka=A.level;Ea=A.forward||0;Sa=na+Ka.left(ta*t+M);Ta=na+Ka.right(ta*t+M)-Sa;Ta=Math.min(Ta-6,Ta*0.95);ta=ka?Ta/(ka+Ea+1):Ea?(Ta/(Ea+1)-6)*2:Ta;ka=Sa+Ta/(ka+Ea+1)*ka*t+(Ca?Ta-ta:0);A.top=S;A.left=ka;A.outerWidth=ta;A.outerHeight=ia-S;jb+=
"<div class='"+L+J.className.join(" ")+"' style='position:absolute;z-index:8;top:"+S+"px;left:"+ka+"px'><a"+(J.url?" href='"+fa(J.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+fa(Va(J.start,J.end,H.option("timeFormat")))+"</span><span class='fc-event-title'>"+fa(J.title)+"</span></a>"+((J.editable||J.editable==$&&g.editable)&&!g.disableResizing&&b.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}la[0].innerHTML=jb;S=la.children();
for(x=0;x<P;x++){A=p[x];J=A.event;L=b(S[x]);ia=H.trigger("eventRender",J,J,L);if(ia===false)L.remove();else{if(ia&&ia!==true){L.remove();L=b(ia).css({position:"absolute",top:A.top,left:A.left}).appendTo(la)}A.element=L;if(J._id===u)za(J,L,A);else L[0]._fci=x;H.reportEventElement(J,L)}}e(la,p,za);for(x=0;x<P;x++){A=p[x];if(L=A.element){u=fb[J=A.key=R(L[0])];A.vsides=u==$?(fb[J]=cb(L[0],true)):u;u=kb[J];A.hsides=u==$?(kb[J]=bb(L[0],true)):u;J=L.find("span.fc-event-title");if(J.length)A.titleTop=J[0].offsetTop}}for(x=
0;x<P;x++){A=p[x];if(L=A.element){L[0].style.width=A.outerWidth-A.hsides+"px";L[0].style.height=(fb=A.outerHeight-A.vsides)+"px";J=A.event;if(A.titleTop!=$&&fb-A.titleTop<10){L.find("span.fc-event-time").text(Ma(J.start,H.option("timeFormat"))+" - "+J.title);L.find("span.fc-event-title").remove()}H.trigger("eventAfterRender",J,J,L)}}}function K(p){if(p.allDay)if(p.end){var u=G(p.end);return p.allDay||u.getHours()||u.getMinutes()?C(u,1):u}else return C(G(p.start),1);return p.end?G(p.end):I(G(p.start),
g.defaultEventMinutes)}function oa(p,u,x){H.eventElementHandlers(p,u);if(p.editable||p.editable==$&&g.editable){Ha(p,u,x.isStart);x.isEnd&&H.resizableDayEvent(p,u,T)}}function za(p,u,x){H.eventElementHandlers(p,u);if(p.editable||p.editable==$&&g.editable){var P=u.find("span.fc-event-time");La(p,u,P);x.isEnd&&Ia(p,u,P)}}function Ha(p,u,x){if(!g.disableDragging&&u.draggable){var P,A,J,L=true,S;u.draggable({zIndex:9,opacity:H.option("dragOpacity","month"),revertDuration:g.dragRevertDuration,start:function(ia,
ta){H.hideEvents(p,u);H.trigger("eventDragStart",u,p,ia,ta);P=u.position();A=u.width();J=function(){if(!L){u.width(A).height("").draggable("option","grid",null);L=true}};S=new E(function(ka){u.draggable("option","revert",!ka||!ka.rowDelta&&!ka.colDelta);if(ka)if(ka.row){if(x&&L){$a(u.width(T-10),U*Math.round((p.end?(p.end-p.start)/lb:g.defaultEventMinutes)/g.slotMinutes));u.draggable("option","grid",[T,1]);L=false}H.hideOverlay()}else{J();H.showOverlay(ka)}else H.hideOverlay()});S.row(Y.find("td"));
ma.find("td").each(function(){S.col(this)});S.row(ca);S.mouse(ia.pageX,ia.pageY)},drag:function(ia){S.mouse(ia.pageX,ia.pageY)},stop:function(ia,ta){H.hideOverlay();H.trigger("eventDragStop",u,p,ia,ta);var ka=S.cell,Ea=t*(L?ka?ka.colDelta:0:Math.floor((ta.position.left-P.left)/T));if(!ka||!Ea&&!ka.rowDelta){J();b.browser.msie&&u.css("filter","");H.showEvents(p,u)}else{u.find("a").removeAttr("href");H.eventDrop(this,p,Ea,L?0:Math.round((u.offset().top-Oa.offset().top)/U)*g.slotMinutes+da-(p.start.getHours()*
60+p.start.getMinutes()),L,ia,ta)}}})}}function La(p,u,x){if(!g.disableDragging&&u.draggable){var P,A,J,L,S=false,ia;u.draggable({zIndex:9,scroll:false,grid:[T,U],axis:Fa==1?"y":false,opacity:H.option("dragOpacity"),revertDuration:g.dragRevertDuration,start:function(ta,ka){H.hideEvents(p,u);H.trigger("eventDragStart",u,p,ta,ka);b.browser.msie&&u.find("span.fc-event-bg").hide();P=u.position();A=function(){if(S){x.css("display","");u.draggable("option","grid",[T,U]);S=false}};J=0;ia=new E(function(Ea){u.draggable("option",
"revert",!Ea);if(Ea)if(!Ea.row&&g.allDaySlot){if(!S){S=true;x.hide();u.draggable("option","grid",null)}H.showOverlay(Ea)}else{A();H.hideOverlay()}else H.hideOverlay()});g.allDaySlot&&ia.row(Y.find("td"));ma.find("td").each(function(){ia.col(this)});ia.row(ca);ia.mouse(ta.pageX,ta.pageY)},drag:function(ta,ka){L=Math.round((ka.position.top-P.top)/U);if(L!=J){if(!S){ka=L*g.slotMinutes;var Ea=I(G(p.start),ka),Sa;if(p.end)Sa=I(G(p.end),ka);x.text(Va(Ea,Sa,H.option("timeFormat")))}J=L}ia.mouse(ta.pageX,
ta.pageY)},stop:function(ta,ka){H.hideOverlay();H.trigger("eventDragStop",u,p,ta,ka);var Ea=ia.cell,Sa=t*(S?Ea?Ea.colDelta:0:Math.floor((ka.position.left-P.left)/T));if(!Ea||!L&&!Sa){A();b.browser.msie&&u.css("filter","").find("span.fc-event-bg").css("display","");u.css(P);H.showEvents(p,u)}else H.eventDrop(this,p,Sa,S?0:L*g.slotMinutes,S,ta,ka)}})}}function Ia(p,u,x){if(!g.disableResizing&&u.resizable){var P,A;u.resizable({handles:{s:"div.ui-resizable-s"},grid:U,start:function(J,L){P=A=0;H.hideEvents(p,
u);b.browser.msie&&b.browser.version=="6.0"&&u.css("overflow","hidden");u.css("z-index",9);H.trigger("eventResizeStart",this,p,J,L)},resize:function(J,L){P=Math.round((Math.max(U,u.height())-L.originalSize.height)/U);if(P!=A){x.text(Va(p.start,!P&&!p.end?null:I(H.eventEnd(p),g.slotMinutes*P),H.option("timeFormat")));A=P}},stop:function(J,L){H.trigger("eventResizeStop",this,p,J,L);if(P)H.eventResize(this,p,0,g.slotMinutes*P,J,L);else{u.css("z-index",8);H.showEvents(p,u)}}})}}function ua(p,u){p=G(p,
true);if(u<I(G(p),da))return 0;if(u>=I(G(p),Z))return Oa.height();p=g.slotMinutes;u=u.getHours()*60+u.getMinutes()-da;var x=Math.floor(u/p),P=Da[x];if(P==$)P=Da[x]=ca.find("tr:eq("+x+") td div")[0].offsetTop;return Math.max(0,Math.round(P-1+U*(u%p/p)))}function Ga(p){return(p-Math.max(V,pa)+Fa)%Fa*t+M}var Y,ca,Oa,Ba,ma,Fa,na,T,U,v,F,ha,X=[],ra,la,ea,V,pa,Ca,t,M,da,Z,Ka=new xa(function(p){return ma.find("td:eq("+p+") div div")}),Da={},H=b.extend(this,ab,o,{renderAgenda:n,renderEvents:N,rerenderEvents:B,
clearEvents:sa,setHeight:z,setWidth:w,beforeHide:function(){ha=ca.scrollTop()},afterShow:function(){ca.scrollTop(ha)},defaultEventEnd:function(p){var u=G(p.start);if(p.allDay)return u;return I(u,g.defaultEventMinutes)}});H.init(d,g);d.addClass("fc-agenda");d.disableSelection&&d.disableSelection()}function f(d){var g,o,n,s,z,w;for(g=d.length-1;g>0;g--){s=d[g];for(o=0;o<s.length;o++){z=s[o];for(n=0;n<d[g-1].length;n++){w=d[g-1][n];if(q(z,w))w.forward=Math.max(w.forward||0,(z.forward||0)+1)}}}}function e(d,
g,o){d.unbind("mouseover").mouseover(function(n){for(var s=n.target,z;s!=this;){z=s;s=s.parentNode}if((s=z._fci)!=$){z._fci=$;z=g[s];o(z.event,z.element,z);b(n.target).trigger(n)}n.stopPropagation()})}function m(d){var g=[],o,n=d.length,s,z,w,O;for(o=0;o<n;o++){s=d[o];for(z=0;;){w=false;if(g[z])for(O=0;O<g[z].length;O++)if(q(g[z][O],s)){w=true;break}if(w)z++;else break}if(g[z])g[z].push(s);else g[z]=[s]}return g}function j(d,g){return(g.msLength-d.msLength)*100+(d.event.start-g.event.start)}function q(d,
g){return d.end>g.start&&d.start<g.end}function y(d,g,o){d.setFullYear(d.getFullYear()+g);o||Na(d);return d}function W(d,g,o){if(+d){g=d.getMonth()+g;var n=G(d);n.setDate(1);n.setMonth(g);d.setMonth(g);for(o||Na(d);d.getMonth()!=n.getMonth();)d.setDate(d.getDate()+(d<n?1:-1))}return d}function C(d,g,o){if(+d){g=d.getDate()+g;var n=G(d);n.setHours(9);n.setDate(g);d.setDate(g);o||Na(d);ga(d,n)}return d}function ga(d,g){if(+d)for(;d.getDate()!=g.getDate();)d.setTime(+d+(d<g?1:-1)*mb)}function I(d,g){d.setMinutes(d.getMinutes()+
g);return d}function Na(d){d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0);return d}function G(d,g){if(g)return Na(new Date(+d));return new Date(+d)}function Ya(){var d=0,g;do g=new Date(1970,d++,1);while(g.getHours()!=0);return g}function Aa(d,g,o){for(g=g||1;d.getDay()==0||o&&d.getDay()==1||!o&&d.getDay()==6;)C(d,g);return d}function Ra(d,g,o){d.each(function(n,s){s.style.width=g-bb(s,o)+"px"})}function $a(d,g,o){d.each(function(n,s){s.style.height=g-cb(s,o)+"px"})}function bb(d,
g){return(parseFloat(jQuery.curCSS(d,"paddingLeft",true))||0)+(parseFloat(jQuery.curCSS(d,"paddingRight",true))||0)+(parseFloat(jQuery.curCSS(d,"borderLeftWidth",true))||0)+(parseFloat(jQuery.curCSS(d,"borderRightWidth",true))||0)+(g?Za(d):0)}function Za(d){return(parseFloat(jQuery.curCSS(d,"marginLeft",true))||0)+(parseFloat(jQuery.curCSS(d,"marginRight",true))||0)}function cb(d,g){return(parseFloat(jQuery.curCSS(d,"paddingTop",true))||0)+(parseFloat(jQuery.curCSS(d,"paddingBottom",true))||0)+(parseFloat(jQuery.curCSS(d,
"borderTopWidth",true))||0)+(parseFloat(jQuery.curCSS(d,"borderBottomWidth",true))||0)+(g?eb(d):0)}function eb(d){return(parseFloat(jQuery.curCSS(d,"marginTop",true))||0)+(parseFloat(jQuery.curCSS(d,"marginBottom",true))||0)}function db(d,g){g=typeof g=="number"?g+"px":g;d[0].style.cssText+=";min-height:"+g+";_height:"+g}function D(d){if(gb!==false){var g;if(d.is("th,td"))d=(g=d).parent();if(gb==$&&d.is("tr"))gb=d.position().top!=d.children().position().top;if(gb)return d.parent().position().top+
(g?d.position().top-g.position().top:0)}return 0}function E(d){var g=this,o=[],n=[],s,z,w,O,N,B;g.row=function(sa){s=b(sa);o.push(s.offset().top+D(s))};g.col=function(sa){z=b(sa);n.push(z.offset().left)};g.mouse=function(sa,Q){if(w==$){o.push(o[o.length-1]+s.outerHeight());n.push(n[n.length-1]+z.outerWidth());N=B=-1}var qa;for(qa=0;qa<o.length&&Q>=o[qa];qa++);for(Q=0;Q<n.length&&sa>=n[Q];Q++);qa=qa>=o.length?-1:qa-1;Q=Q>=n.length?-1:Q-1;if(qa!=N||Q!=B){N=qa;B=Q;if(qa==-1||Q==-1)g.cell=null;else{if(w==
$){w=qa;O=Q}g.cell={row:qa,col:Q,top:o[qa],left:n[Q],width:n[Q+1]-n[Q],height:o[qa+1]-o[qa],isOrig:qa==w&&Q==O,rowDelta:qa-w,colDelta:Q-O}}d(g.cell)}}}function ja(d){return(d<10?"0":"")+d}function ya(d,g){if(d[g]!=$)return d[g];g=g.split(/(?=[A-Z])/);for(var o=g.length-1,n;o>=0;o--){n=d[g[o].toLowerCase()];if(n!=$)return n}return d[""]}function fa(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")}function xa(d){function g(w){return n[w]=
n[w]||d(w)}var o=this,n={},s={},z={};o.left=function(w){return s[w]=s[w]==$?g(w).position().left:s[w]};o.right=function(w){return z[w]=z[w]==$?o.left(w)+g(w).width():z[w]};o.clear=function(){n={};s={};z={}}}function R(d){return d.id+"/"+d.className+"/"+d.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}var aa=b.fullCalendar={},va=aa.views={},wa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,lazyFetching:true,
startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday",
"Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}},Pa={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",
nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ua=aa.setDefaults=function(d){b.extend(true,wa,d)};b.fn.fullCalendar=function(d){if(typeof d=="string"){var g=Array.prototype.slice.call(arguments,1),o;this.each(function(){var z=b.data(this,"fullCalendar");if(z){z=z[d].apply(this,g);if(o==$)o=z}});if(o!=$)return o;return this}var n=d.eventSources||[];delete d.eventSources;if(d.events){n.push(d.events);delete d.events}n.unshift([]);d=b.extend(true,{},
wa,d.isRTL||d.isRTL==$&&wa.isRTL?Pa:{},d);var s=d.theme?"ui":"fc";this.each(function(){function z(t){if(t!=U){na++;var M=v,da;if(M){if(M.eventsChanged){sa();M.eventDirty=M.eventsChanged=false}M.beforeHide&&M.beforeHide();db(Ba,Ba.height());M.element.hide()}else db(Ba,1);Ba.css("overflow","hidden");if(F[t])(v=F[t]).element.show();else v=F[t]=b.fullCalendar.views[t](da=ha=b("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(Ba),d);if(pa){pa.find("div.fc-button-"+U).removeClass(s+
"-state-active");pa.find("div.fc-button-"+t).addClass(s+"-state-active")}v.name=U=t;w();Ba.css("overflow","");M&&db(Ba,1);!da&&v.afterShow&&v.afterShow();na--}}function w(t){if(O()){na++;ma==$&&La();if(!v.start||t||T<v.start||T>=v.end){v.render(T,t||0);Ia(true);!ra||!d.lazyFetching||v.visStart<ra||v.visEnd>la?K():v.renderEvents(X)}else if(v.sizeDirty||v.eventsDirty||!d.lazyFetching){v.clearEvents();v.sizeDirty&&Ia();d.lazyFetching?v.renderEvents(X):K()}Oa=ca.outerWidth();v.sizeDirty=false;v.eventsDirty=
false;if(pa){pa.find("h2.fc-header-title").html(v.title);t=new Date;t>=v.start&&t<v.end?pa.find("div.fc-button-today").addClass(s+"-state-disabled"):pa.find("div.fc-button-today").removeClass(s+"-state-disabled")}na--;v.trigger("viewDisplay",Y)}}function O(){return Y.offsetWidth!==0}function N(){return b("body")[0].offsetWidth!==0}function B(){sa();if(O()){v.clearEvents();v.renderEvents(X);v.eventsDirty=false}}function sa(){b.each(F,function(){this.eventsDirty=true})}function Q(){qa();if(O()){La();
Ia();v.rerenderEvents();v.sizeDirty=false}}function qa(){b.each(F,function(){this.sizeDirty=true})}function ba(t){X=[];ra=G(v.visStart);la=G(v.visEnd);for(var M=n.length,da=function(){--M==0&&t&&t(X)},Z=0;Z<n.length;Z++)Ja(n[Z],da)}function Ja(t,M){var da=v.name,Z=G(T),Ka=function(p){if(da==v.name&&+Z==+T&&b.inArray(t,n)!=-1){for(var u=0;u<p.length;u++){i(p[u],d);p[u].source=t}X=X.concat(p);M&&M(p)}},Da=function(p){Ka(p);za()};if(typeof t=="string"){var H={};H[d.startParam]=Math.round(ra.getTime()/
1E3);H[d.endParam]=Math.round(la.getTime()/1E3);if(d.cacheParam)H[d.cacheParam]=(new Date).getTime();oa();b.ajax({url:t,dataType:"json",data:H,cache:d.cacheParam||false,success:Da})}else if(b.isFunction(t)){oa();t(G(ra),G(la),Da)}else Ka(t)}function K(){ba(function(t){v.renderEvents(t)})}function oa(){ea++||v.trigger("loading",Y,true)}function za(){--ea||v.trigger("loading",Y,false)}function Ha(t){if(t){var M=b("<tr/>");b.each(t.split(" "),function(da){da>0&&M.append("<td><span class='fc-header-space'/></td>");
var Z;b.each(this.split(","),function(Ka,Da){if(Da=="title"){M.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");Z&&Z.addClass(s+"-corner-right");Z=null}else{var H;if(V[Da])H=V[Da];else if(va[Da])H=function(){p.removeClass(s+"-state-hover");z(Da)};if(H){Z&&Z.addClass(s+"-no-right");var p;Ka=d.theme?ya(d.buttonIcons,Da):null;var u=ya(d.buttonText,Da);if(Ka)p=b("<div class='fc-button-"+Da+" ui-state-default'><a><span class='ui-icon ui-icon-"+Ka+"'/></a></div>");else if(u)p=b("<div class='fc-button-"+
Da+" "+s+"-state-default'><a><span>"+u+"</span></a></div>");if(p){p.click(function(){p.hasClass(s+"-state-disabled")||H()}).mousedown(function(){p.not("."+s+"-state-active").not("."+s+"-state-disabled").addClass(s+"-state-down")}).mouseup(function(){p.removeClass(s+"-state-down")}).hover(function(){p.not("."+s+"-state-active").not("."+s+"-state-disabled").addClass(s+"-state-hover")},function(){p.removeClass(s+"-state-hover").removeClass(s+"-state-down")}).appendTo(b("<td/>").appendTo(M));Z?Z.addClass(s+
"-no-right"):p.addClass(s+"-corner-left");Z=p}}}});Z&&Z.addClass(s+"-corner-right")});return b("<table/>").append(M)}}function La(){ma=d.contentHeight?d.contentHeight:d.height?d.height-(pa?pa.height():0)-cb(Ba[0]):Math.round(Ba.width()/Math.max(d.aspectRatio,0.5))}function Ia(t){na++;v.setHeight(ma,t);if(ha){ha.css("position","relative");ha=null}v.setWidth(Ba.width(),t);na--}function ua(){if(!na)if(v.start){var t=++Fa;setTimeout(function(){if(t==Fa&&!na&&O())if(Oa!=(Oa=ca.outerWidth())){na++;Q();
v.trigger("windowResize",Y);na--}},200)}else Ga()}function Ga(){setTimeout(function(){!v.start&&N()&&w()},0)}var Y=this,ca=b(Y).addClass("fc"),Oa,Ba=b("<div class='fc-content "+s+"-widget-content' style='position:relative'/>").prependTo(Y),ma,Fa=0,na=0,T=new Date,U,v,F={},ha;d.isRTL&&ca.addClass("fc-rtl");d.theme&&ca.addClass("ui-widget");if(d.year!=$&&d.year!=T.getFullYear()){T.setDate(1);T.setMonth(0);T.setFullYear(d.year)}if(d.month!=$&&d.month!=T.getMonth()){T.setDate(1);T.setMonth(d.month)}d.date!=
$&&T.setDate(d.date);var X=[],ra,la,ea=0,V={render:function(){La();qa();sa();w()},changeView:z,getView:function(){return v},getDate:function(){return T},option:function(t,M){if(M==$)return d[t];if(t=="height"||t=="contentHeight"||t=="aspectRatio"){d[t]=M;Q()}},destroy:function(){b(window).unbind("resize",ua);pa&&pa.remove();Ba.remove();b.removeData(Y,"fullCalendar")},prev:function(){w(-1)},next:function(){w(1)},prevYear:function(){y(T,-1);w()},nextYear:function(){y(T,1);w()},today:function(){T=new Date;
w()},gotoDate:function(t,M,da){if(typeof t=="object")T=G(t);else{t!=$&&T.setFullYear(t);M!=$&&T.setMonth(M);da!=$&&T.setDate(da)}w()},incrementDate:function(t,M,da){t!=$&&y(T,t);M!=$&&W(T,M);da!=$&&C(T,da);w()},updateEvent:function(t){var M,da=X.length,Z,Ka=t.start-t._start,Da=t.end?t.end-(t._end||v.defaultEventEnd(t)):0;for(M=0;M<da;M++){Z=X[M];if(Z._id==t._id&&Z!=t){Z.start=new Date(+Z.start+Ka);Z.end=t.end?Z.end?new Date(+Z.end+Da):new Date(+v.defaultEventEnd(Z)+Da):null;Z.title=t.title;Z.url=
t.url;Z.allDay=t.allDay;Z.className=t.className;Z.editable=t.editable;i(Z,d)}}i(t,d);B()},renderEvent:function(t,M){i(t,d);if(!t.source){if(M)(t.source=n[0]).push(t);X.push(t)}B()},removeEvents:function(t){if(t){if(!b.isFunction(t)){var M=t+"";t=function(Z){return Z._id==M}}X=b.grep(X,t,true);for(da=0;da<n.length;da++)if(typeof n[da]=="object")n[da]=b.grep(n[da],t,true)}else{X=[];for(var da=0;da<n.length;da++)if(typeof n[da]=="object")n[da]=[]}B()},clientEvents:function(t){if(b.isFunction(t))return b.grep(X,
t);else if(t){t+="";return b.grep(X,function(M){return M._id==t})}return X},rerenderEvents:B,addEventSource:function(t){n.push(t);Ja(t,B)},removeEventSource:function(t){n=b.grep(n,function(M){return M!=t});X=b.grep(X,function(M){return M.source!=t});B()},refetchEvents:function(){ba(B)}};b.data(this,"fullCalendar",V);var pa,Ca=d.header;if(Ca)pa=b("<table class='fc-header'/>").append(b("<tr/>").append(b("<td class='fc-header-left'/>").append(Ha(Ca.left))).append(b("<td class='fc-header-center'/>").append(Ha(Ca.center))).append(b("<td class='fc-header-right'/>").append(Ha(Ca.right)))).prependTo(ca);
b(window).resize(ua);z(d.defaultView);N()||Ga()});return this};var Wa=0;Ua({weekMode:"fixed"});va.month=function(d,g){return new l(d,g,{render:function(o,n){if(n){W(o,n);o.setDate(1)}o=this.start=G(o,true);o.setDate(1);this.end=W(G(o),1);var s=this.visStart=G(o);n=this.visEnd=G(this.end);var z=g.weekends?0:1;if(z){Aa(s);Aa(n,-1,true)}C(s,-((s.getDay()-Math.max(g.firstDay,z)+7)%7));C(n,(7-n.getDay()+Math.max(g.firstDay,z))%7);s=Math.round((n-s)/(nb*7));if(g.weekMode=="fixed"){C(n,(6-s)*7);s=6}this.title=
Ma(o,this.option("titleFormat"),g);this.renderGrid(s,g.weekends?7:5,this.option("columnFormat"),true)}})};va.basicWeek=function(d,g){return new l(d,g,{render:function(o,n){n&&C(o,n*7);o=this.visStart=G(this.start=C(G(o),-((o.getDay()-g.firstDay+7)%7)));n=this.visEnd=G(this.end=C(G(o),7));if(!g.weekends){Aa(o);Aa(n,-1,true)}this.title=Va(o,C(G(n),-1),this.option("titleFormat"),g);this.renderGrid(1,g.weekends?7:5,this.option("columnFormat"),false)}})};va.basicDay=function(d,g){return new l(d,g,{render:function(o,
n){if(n){C(o,n);g.weekends||Aa(o,n<0?-1:1)}this.title=Ma(o,this.option("titleFormat"),g);this.start=this.visStart=G(o,true);this.end=this.visEnd=C(G(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false)}})};var Xa;Ua({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});va.agendaWeek=function(d,g){return new k(d,g,{render:function(o,n){n&&C(o,
n*7);o=this.visStart=G(this.start=C(G(o),-((o.getDay()-g.firstDay+7)%7)));n=this.visEnd=G(this.end=C(G(o),7));if(!g.weekends){Aa(o);Aa(n,-1,true)}this.title=Va(o,C(G(n),-1),this.option("titleFormat"),g);this.renderAgenda(g.weekends?7:5,this.option("columnFormat"))}})};va.agendaDay=function(d,g){return new k(d,g,{render:function(o,n){if(n){C(o,n);g.weekends||Aa(o,n<0?-1:1)}this.title=Ma(o,this.option("titleFormat"),g);this.start=this.visStart=G(o,true);this.end=this.visEnd=C(G(this.start),1);this.renderAgenda(1,
this.option("columnFormat"))}})};var ab={init:function(d,g){this.element=d;this.options=g;this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(d,g){if(this.options[d])return this.options[d].apply(g||this,Array.prototype.slice.call(arguments,2).concat([this]))},eventEnd:function(d){return d.end?G(d.end):this.defaultEventEnd(d)},reportEvents:function(d){var g,o=d.length,n,s=this.eventsByID={};for(g=0;g<o;g++){n=d[g];if(s[n._id])s[n._id].push(n);else s[n._id]=[n]}},reportEventElement:function(d,
g){this.eventElements.push(g);var o=this.eventElementsByID;if(o[d._id])o[d._id].push(g);else o[d._id]=[g]},_clearEvents:function(){this.eventElements=[];this.eventElementsByID={}},showEvents:function(d,g){this._eee(d,g,"show")},hideEvents:function(d,g){this._eee(d,g,"hide")},_eee:function(d,g,o){d=this.eventElementsByID[d._id];var n,s=d.length;for(n=0;n<s;n++)d[n][0]!=g[0]&&d[n][o]()},eventDrop:function(d,g,o,n,s,z,w){var O=this,N=g.allDay,B=g._id;O.moveEvents(O.eventsByID[B],o,n,s);O.trigger("eventDrop",
d,g,o,n,s,function(){O.moveEvents(O.eventsByID[B],-o,-n,N);O.rerenderEvents()},z,w);O.eventsChanged=true;O.rerenderEvents(B)},eventResize:function(d,g,o,n,s,z){var w=this,O=g._id;w.elongateEvents(w.eventsByID[O],o,n);w.trigger("eventResize",d,g,o,n,function(){w.elongateEvents(w.eventsByID[O],-o,-n);w.rerenderEvents()},s,z);w.eventsChanged=true;w.rerenderEvents(O)},moveEvents:function(d,g,o,n){o=o||0;for(var s,z=d.length,w=0;w<z;w++){s=d[w];if(n!=$)s.allDay=n;I(C(s.start,g,true),o);if(s.end)s.end=
I(C(s.end,g,true),o);i(s,this.options)}},elongateEvents:function(d,g,o){o=o||0;for(var n,s=d.length,z=0;z<s;z++){n=d[z];n.end=I(C(this.eventEnd(n),g,true),o);i(n,this.options)}},showOverlay:function(d){if(!this.dayOverlay)this.dayOverlay=b("<div class='fc-cell-overlay' style='position:absolute;z-index:3;display:none'/>").appendTo(this.element);var g=this.element.offset();this.dayOverlay.css({top:d.top-g.top,left:d.left-g.left,width:d.width,height:d.height}).show()},hideOverlay:function(){this.dayOverlay&&
this.dayOverlay.hide()},resizableDayEvent:function(d,g,o){var n=this;if(!n.options.disableResizing&&g.resizable)g.resizable({handles:n.options.isRTL?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:o,minWidth:o/2,containment:n.element.parent().parent(),start:function(s,z){g.css("z-index",9);n.hideEvents(d,g);n.trigger("eventResizeStart",this,d,s,z)},stop:function(s,z){n.trigger("eventResizeStop",this,d,s,z);var w=Math.round((g.width()-z.originalSize.width)/o);if(w)n.eventResize(this,d,w,0,s,
z);else{g.css("z-index",8);n.showEvents(d,g)}}})},eventElementHandlers:function(d,g){var o=this;g.click(function(n){if(!g.hasClass("ui-draggable-dragging")&&!g.hasClass("ui-resizable-resizing"))return o.trigger("eventClick",this,d,n)}).hover(function(n){o.trigger("eventMouseover",this,d,n)},function(n){o.trigger("eventMouseout",this,d,n)})},option:function(d,g){d=this.options[d];if(typeof d=="object")return ya(d,g||this.name);return d},sliceSegs:function(d,g,o,n){var s=[],z,w=d.length,O,N,B,sa,Q;
for(z=0;z<w;z++){O=d[z];N=O.start;B=g[z];if(B>o&&N<n){if(N<o){N=G(o);sa=false}else{N=N;sa=true}if(B>n){B=G(n);Q=false}else{B=B;Q=true}s.push({event:O,start:N,end:B,isStart:sa,isEnd:Q,msLength:B-N})}}return s.sort(j)}},nb=864E5,mb=36E5,lb=6E4;aa.addDays=C;var hb=aa.parseDate=function(d){if(typeof d=="object")return d;if(typeof d=="number")return new Date(d*1E3);if(typeof d=="string"){if(d.match(/^\d+$/))return new Date(parseInt(d)*1E3);return ob(d,true)||(d?new Date(d):null)}return null},ob=aa.parseISO8601=
function(d,g){d=d.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!d)return null;var o=new Date(d[1],0,1),n=new Date(d[1],0,1,9,0),s=0;if(d[3]){o.setMonth(d[3]-1);n.setMonth(d[3]-1)}if(d[5]){o.setDate(d[5]);n.setDate(d[5])}ga(o,n);d[7]&&o.setHours(d[7]);d[8]&&o.setMinutes(d[8]);d[10]&&o.setSeconds(d[10]);d[12]&&o.setMilliseconds(Number("0."+d[12])*1E3);ga(o,n);if(!g){if(d[14]){s=Number(d[16])*60+Number(d[17]);
s*=d[15]=="-"?1:-1}s-=o.getTimezoneOffset()}return new Date(+o+s*60*1E3)},ib=aa.parseTime=function(d){if(typeof d=="number")return d*60;if(typeof d=="object")return d.getHours()*60+d.getMinutes();if(d=d.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var g=parseInt(d[1]);if(d[3]){g%=12;if(d[3].toLowerCase().charAt(0)=="p")g+=12}return g*60+(d[2]?parseInt(d[2]):0)}},Ma=aa.formatDate=function(d,g,o){return Va(d,null,g,o)},Va=aa.formatDates=function(d,g,o,n){n=n||wa;var s=d,z=g,w,O=o.length,N,B,sa,Q="";for(w=0;w<
O;w++){N=o.charAt(w);if(N=="'")for(B=w+1;B<O;B++){if(o.charAt(B)=="'"){if(s){Q+=B==w+1?"'":o.substring(w+1,B);w=B}break}}else if(N=="(")for(B=w+1;B<O;B++){if(o.charAt(B)==")"){w=Ma(s,o.substring(w+1,B),n);if(parseInt(w.replace(/\D/,"")))Q+=w;w=B;break}}else if(N=="[")for(B=w+1;B<O;B++){if(o.charAt(B)=="]"){N=o.substring(w+1,B);w=Ma(s,N,n);if(w!=Ma(z,N,n))Q+=w;w=B;break}}else if(N=="{"){s=g;z=d}else if(N=="}"){s=d;z=g}else{for(B=O;B>w;B--)if(sa=pb[o.substring(w,B)]){if(s)Q+=sa(s,n);w=B-1;break}if(B==
w)if(s)Q+=N}}return Q},pb={s:function(d){return d.getSeconds()},ss:function(d){return ja(d.getSeconds())},m:function(d){return d.getMinutes()},mm:function(d){return ja(d.getMinutes())},h:function(d){return d.getHours()%12||12},hh:function(d){return ja(d.getHours()%12||12)},H:function(d){return d.getHours()},HH:function(d){return ja(d.getHours())},d:function(d){return d.getDate()},dd:function(d){return ja(d.getDate())},ddd:function(d,g){return g.dayNamesShort[d.getDay()]},dddd:function(d,g){return g.dayNames[d.getDay()]},
M:function(d){return d.getMonth()+1},MM:function(d){return ja(d.getMonth()+1)},MMM:function(d,g){return g.monthNamesShort[d.getMonth()]},MMMM:function(d,g){return g.monthNames[d.getMonth()]},yy:function(d){return(d.getFullYear()+"").substring(2)},yyyy:function(d){return d.getFullYear()},t:function(d){return d.getHours()<12?"a":"p"},tt:function(d){return d.getHours()<12?"am":"pm"},T:function(d){return d.getHours()<12?"A":"P"},TT:function(d){return d.getHours()<12?"AM":"PM"},u:function(d){return Ma(d,
"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(d){d=d.getDate();if(d>10&&d<20)return"th";return["st","nd","rd"][d%10-1]||"th"}},gb,$,Qa=["sun","mon","tue","wed","thu","fri","sat"]})(jQuery);
(function(b){b.widget("ui.weekCalendar",{options:{date:new Date,timeFormat:"h:i a",dateFormat:"M d, Y",alwaysDisplayTimeMinutes:true,use24Hour:false,daysToShow:7,firstDayOfWeek:0,useShortDayNames:false,timeSeparator:" to ",startParam:"start",endParam:"end",businessHours:{start:8,end:18,limitDisplay:false},newEventText:"New Event",timeslotHeight:20,defaultEventLength:2,timeslotsPerHour:4,buttons:true,buttonText:{today:"today",lastWeek:"&nbsp;&lt;&nbsp;",nextWeek:"&nbsp;&gt;&nbsp;"},scrollToHourMillis:500,
allowCalEventOverlap:false,overlapEventsSeparate:false,readonly:false,draggable:function(){return true},resizable:function(){return true},eventClick:function(){},eventRender:function(c,k){return k},eventAfterRender:function(c,k){return k},eventDrag:function(){},eventDrop:function(){},eventResize:function(){},eventNew:function(){},eventMouseover:function(){},eventMouseout:function(){},calendarBeforeLoad:function(){},calendarAfterLoad:function(){},noEvents:function(){},shortMonths:["Jan","Feb","Mar",
"Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_create:function(){var c=this;c._computeOptions();c._setupEventDelegation();c._renderCalendar();c._loadCalEvents();c._resizeCalendar();c._scrollToHour(c.options.date.getHours());b(window).unbind("resize.weekcalendar");
b(window).bind("resize.weekcalendar",function(){c._resizeCalendar()})},refresh:function(){this._loadCalEvents(this.element.data("startDate"))},clear:function(){this._clearCalendar()},today:function(){this._clearCalendar();this._loadCalEvents(new Date)},prevWeek:function(){var c=new Date(this.element.data("startDate").getTime()-l/6);this._clearCalendar();this._loadCalEvents(c)},nextWeek:function(){var c=new Date(this.element.data("startDate").getTime()+l+l/7);this._clearCalendar();this._loadCalEvents(c)},
gotoWeek:function(c){this._clearCalendar();this._loadCalEvents(c)},removeEvent:function(c){var k=this;k.element.find(".wc-cal-event").each(function(){if(b(this).data("calEvent").id===c){b(this).remove();return false}});k.element.find(".wc-day-column-inner").each(function(){k._adjustOverlappingEvents(b(this))})},removeUnsavedEvents:function(){var c=this;c.element.find(".wc-new-cal-event").each(function(){b(this).remove()});c.element.find(".wc-day-column-inner").each(function(){c._adjustOverlappingEvents(b(this))})},
updateEvent:function(c){this._updateEventInCalendar(c)},getTimeslotTimes:function(c){var k=this.options,f=k.businessHours.limitDisplay?k.businessHours.start:0,e=[];c=(new Date(c.getFullYear(),c.getMonth(),c.getDate(),f)).getTime();for(f=0;f<k.timeslotsPerDay;f++){var m=c+k.millisPerTimeslot;e[f]={start:new Date(c),startFormatted:this._formatDate(new Date(c),k.timeFormat),end:new Date(m),endFormatted:this._formatDate(new Date(m),k.timeFormat)};c=m}return e},formatDate:function(c,k){return k?this._formatDate(c,
k):this._formatDate(c,this.options.dateFormat)},formatTime:function(c,k){return k?this._formatDate(c,k):this._formatDate(c,this.options.timeFormat)},_setOption:function(c,k){if(this.options[c]!=k){var f=b.map(this.element.find(".wc-cal-event"),function(){return b(this).data("calEvent")}),e={};e[c]=k;this._renderEvents({events:f,options:e},this.element.find(".wc-day-column-inner"))}},_computeOptions:function(){var c=this.options;if(c.businessHours.limitDisplay){c.timeslotsPerDay=c.timeslotsPerHour*
(c.businessHours.end-c.businessHours.start);c.millisToDisplay=(c.businessHours.end-c.businessHours.start)*60*60*1E3;c.millisPerTimeslot=c.millisToDisplay/c.timeslotsPerDay}else{c.timeslotsPerDay=c.timeslotsPerHour*24;c.millisToDisplay=i;c.millisPerTimeslot=i/c.timeslotsPerDay}},_resizeCalendar:function(){var c=this.options;if(c&&b.isFunction(c.height)){c=c.height(this.element);var k=this.element.find(".wc-header").outerHeight(),f=this.element.find(".wc-nav").outerHeight();this.element.find(".wc-scrollable-grid").height(c-
f-k)}},_setupEventDelegation:function(){var c=this,k=this.options;this.element.click(function(f){var e=b(f.target);if(!e.data("preventClick"))if(e.hasClass("wc-cal-event"))k.eventClick(e.data("calEvent"),e,f);else e.parent().hasClass("wc-cal-event")&&k.eventClick(e.parent().data("calEvent"),e.parent(),f)}).mouseover(function(f){var e=b(f.target);c._isDraggingOrResizing(e)||e.hasClass("wc-cal-event")&&k.eventMouseover(e.data("calEvent"),e,f)}).mouseout(function(f){var e=b(f.target);if(!c._isDraggingOrResizing(e))if(e.hasClass("wc-cal-event"))e.data("sizing")||
k.eventMouseout(e.data("calEvent"),e,f)})},_isDraggingOrResizing:function(c){return c.hasClass("ui-draggable-dragging")||c.hasClass("ui-resizable-resizing")},_renderCalendar:function(){var c,k,f,e=this,m=this.options;c=b('<div class="wc-container">').appendTo(e.element);if(m.buttons){k='<div class="wc-nav">                    <button class="wc-today">'+m.buttonText.today+'</button>                    <button class="wc-prev">'+m.buttonText.lastWeek+'</button>                    <button class="wc-next">'+
m.buttonText.nextWeek+"</button>                    </div>";b(k).appendTo(c);c.find(".wc-nav .wc-today").click(function(){e.element.weekCalendar("today");return false});c.find(".wc-nav .wc-prev").click(function(){e.element.weekCalendar("prevWeek");return false});c.find(".wc-nav .wc-next").click(function(){e.element.weekCalendar("nextWeek");return false})}k='<table class="wc-header"><tbody><tr><td class="wc-time-column-header"></td>';for(var j=1;j<=m.daysToShow;j++)k+='<td class="wc-day-column-header wc-day-'+
j+'"></td>';k+='<td class="wc-scrollbar-shim"></td></tr></tbody></table>';f='<div class="wc-scrollable-grid">                <table class="wc-time-slots">                <tbody>                <tr>                <td class="wc-grid-timeslot-header"></td>                <td colspan="'+m.daysToShow+'">                <div class="wc-time-slot-wrapper">                <div class="wc-time-slots">';var q=m.businessHours.limitDisplay?m.businessHours.start:0,y=m.businessHours.limitDisplay?m.businessHours.end:
24;for(j=q;j<y;j++){for(var W=0;W<m.timeslotsPerHour-1;W++)f+='<div class="wc-time-slot"></div>';f+='<div class="wc-time-slot wc-hour-end"></div>'}f+='</div></div></td></tr><tr><td class="wc-grid-timeslot-header">';for(j=q;j<y;j++){f+='<div class="wc-hour-header '+(m.businessHours.start<=j&&m.businessHours.end>j?"wc-business-hours":"")+'">';f+=m.use24Hour?'<div class="wc-time-header-cell">'+e._24HourForIndex(j)+"</div>":'<div class="wc-time-header-cell">'+e._hourForIndex(j)+'<span class="wc-am-pm">'+
e._amOrPm(j)+"</span></div>";f+="</div>"}f+="</td>";for(j=1;j<=m.daysToShow;j++)f+='<td class="wc-day-column day-'+j+'"><div class="wc-day-column-inner"></div></td>';f+="</tr></tbody></table></div>";b(k+f).appendTo(c);c.find(".wc-day-column-inner").each(function(){b(this).height(m.timeslotHeight*m.timeslotsPerDay);if(!m.readonly){e._addDroppableToWeekDay(b(this));e._setupEventCreationForWeekDay(b(this))}});c.find(".wc-time-slot").height(m.timeslotHeight-1);c.find(".wc-time-header-cell").css({height:m.timeslotHeight*
m.timeslotsPerHour-11,padding:5})},_setupEventCreationForWeekDay:function(c){var k=this,f=this.options;c.mousedown(function(e){var m=b(e.target);if(m.hasClass("wc-day-column-inner")){var j=b('<div class="wc-cal-event wc-new-cal-event wc-new-cal-event-creating"></div>');j.css({lineHeight:f.timeslotHeight-2+"px",fontSize:f.timeslotHeight/2+"px"});m.append(j);var q=m.offset().top;e=e.pageY-q;var y=(e-e%f.timeslotHeight)/f.timeslotHeight*f.timeslotHeight;j.css({top:y});m.bind("mousemove.newevent",function(W){j.show();
j.addClass("ui-resizable-resizing");W=Math.round(W.pageY-q-y);var C=W%f.timeslotHeight;if(C<W/2){W=W-C;j.css("height",W<f.timeslotHeight?f.timeslotHeight:W)}else j.css("height",W+(f.timeslotHeight-C))}).mouseup(function(){m.unbind("mousemove.newevent");j.addClass("ui-corner-all")})}}).mouseup(function(e){e=b(e.target).closest(".wc-day-column-inner");var m=e.find(".wc-new-cal-event-creating");if(m.length){m.hasClass("ui-resizable-resizing")||m.css({height:f.timeslotHeight*f.defaultEventLength}).show();
var j=parseInt(m.css("top"));j=k._getEventDurationFromPositionedEventElement(e,m,j);m.remove();m={start:j.start,end:j.end,title:f.newEventText};var q=k._renderEvent(m,e);if(f.allowCalEventOverlap)k._adjustOverlappingEvents(e);else{k._adjustForEventCollisions(e,q,m,m);k._positionEvent(e,q)}f.eventNew(j,q)}})},_loadCalEvents:function(c){var k,f,e=this,m=this.options;k=c||m.date;c=e._dateFirstDayOfWeek(k);weekEndDate=e._dateLastMilliOfWeek(k);m.calendarBeforeLoad(e.element);e.element.data("startDate",
c);e.element.data("endDate",weekEndDate);f=e.element.find(".wc-day-column-inner");e._updateDayColumnHeader(f);if(typeof m.data=="string"){m.loading&&m.loading(true);k={};k[m.startParam||"start"]=Math.round(c.getTime()/1E3);k[m.endParam||"end"]=Math.round(weekEndDate.getTime()/1E3);b.getJSON(m.data,k,function(j){e._renderEvents(j,f);m.loading&&m.loading(false)})}else if(b.isFunction(m.data))m.data(c,weekEndDate,function(j){e._renderEvents(j,f)});else m.data&&e._renderEvents(m.data,f);e._disableTextSelect(f)},
_updateDayColumnHeader:function(c){var k=this,f=this.options,e=k._cloneDate(k.element.data("startDate"));k.element.find(".wc-header td.wc-day-column-header").each(function(){var m=f.useShortDayNames?f.shortDays[e.getDay()]:f.longDays[e.getDay()];b(this).html(m+"<br/>"+k._formatDate(e,f.dateFormat));k._isToday(e)?b(this).addClass("wc-today"):b(this).removeClass("wc-today");e=k._addDays(e,1)});e=k._dateFirstDayOfWeek(k._cloneDate(k.element.data("startDate")));c.each(function(){b(this).data("startDate",
k._cloneDate(e));b(this).data("endDate",new Date(e.getTime()+i));k._isToday(e)?b(this).parent().addClass("wc-today"):b(this).parent().removeClass("wc-today");e=k._addDays(e,1)})},_renderEvents:function(c,k){this._clearCalendar();var f=this,e=this.options,m;if(b.isArray(c))m=f._cleanEvents(c);else if(c.events)m=f._cleanEvents(c.events);if(c.options){var j=false;b.each(c.options,function(q,y){if(y!==e[q]){e[q]=y;j=true}});f._computeOptions();if(j){f.element.empty();f._renderCalendar();k=f.element.find(".wc-time-slots .wc-day-column-inner");
f._updateDayColumnHeader(k);f._resizeCalendar()}}b.each(m,function(q,y){(q=f._findWeekDayForEvent(y,k))&&f._renderEvent(y,q)});k.each(function(){f._adjustOverlappingEvents(b(this))});e.calendarAfterLoad(f.element);m.length||e.noEvents()},_renderEvent:function(c,k){var f=this.options;if(!(c.start.getTime()>c.end.getTime())){var e,m;e=b('<div class="'+(c.id?"wc-cal-event":"wc-cal-event wc-new-cal-event")+' ui-corner-all">                <div class="wc-time ui-corner-all"></div>                <div class="wc-title"></div></div>');
e=(m=f.eventRender(c,e))?m.appendTo(k):e.appendTo(k);e.css({lineHeight:f.timeslotHeight-2+"px",fontSize:f.timeslotHeight/2+"px"});this._refreshEventDetails(c,e);this._positionEvent(k,e);e.show();!f.readonly&&f.resizable(c,e)&&this._addResizableToCalEvent(c,e,k);!f.readonly&&f.draggable(c,e)&&this._addDraggableToCalEvent(c,e);f.eventAfterRender(c,e);return e}},_adjustOverlappingEvents:function(c){var k=this;if(k.options.allowCalEventOverlap){c=k._groupOverlappingEventElements(c);b.each(c,function(){var f=
this;b.each(f,function(e){var m=this;if(k.options.overlapEventsSeparate)var j=100/f.length,q=e*j;else{j=100-(f.length-1)*10;q=e*10}b.each(m,function(){k.options.overlapEventsSeparate||b(this).bind("mouseover.z-index",function(){var y=b(this);b.each(m,function(){b(this).css({"z-index":"1"})});y.css({"z-index":"3"})});b(this).css({width:j+"%",left:q+"%",right:0})})})})}},_groupOverlappingEventElements:function(c){c=c.find(".wc-cal-event:visible").sort(function(j,q){return b(j).data("calEvent").start.getTime()-
b(q).data("calEvent").start.getTime()});var k=new Date(0,0,0),f=[],e=[],m;b.each(c,function(){m=b(this);if(e.length>0)if(k.getTime()<=m.data("calEvent").start.getTime()){f.push(e);e=[]}for(var j=0;j<e.length;j++)if(e[j].length>0)if(e[j][e[j].length-1].data("calEvent").end.getTime()<=m.data("calEvent").start.getTime()){e[j].push(m);if(k.getTime()<m.data("calEvent").end.getTime())k=m.data("calEvent").end;return}e.push([m]);if(k.getTime()<m.data("calEvent").end.getTime())k=m.data("calEvent").end});e.length>
0&&f.push(e);return f},_findWeekDayForEvent:function(c,k){var f;k.each(function(){if(b(this).data("startDate").getTime()<=c.start.getTime()&&b(this).data("endDate").getTime()>=c.end.getTime()){f=b(this);return false}});return f},_updateEventInCalendar:function(c){this._cleanEvent(c);c.id&&this.element.find(".wc-cal-event").each(function(){if(b(this).data("calEvent").id===c.id||b(this).hasClass("wc-new-cal-event")){b(this).remove();return false}});var k=this._findWeekDayForEvent(c,this.element.find(".wc-time-slots .wc-day-column-inner"));
if(k){var f=this._renderEvent(c,k);this._adjustForEventCollisions(k,f,c,c);this._refreshEventDetails(c,f);this._positionEvent(k,f);this._adjustOverlappingEvents(k)}},_positionEvent:function(c,k){var f=this.options,e=k.data("calEvent");c=c.height()/f.millisToDisplay;f=f.businessHours.limitDisplay?f.businessHours.start:0;f=e.start.getTime()-(new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate(),f)).getTime();e=e.end.getTime()-e.start.getTime();k.css({top:c*f,height:c*e})},_getEventDurationFromPositionedEventElement:function(c,
k,f){var e=this.options,m=e.businessHours.limitDisplay?e.businessHours.start*60*60*1E3:0;c=new Date(c.data("startDate").getTime()+m+Math.round(f/e.timeslotHeight)*e.millisPerTimeslot);k=new Date(c.getTime()+k.height()/e.timeslotHeight*e.millisPerTimeslot);return{start:c,end:k}},_adjustForEventCollisions:function(c,k,f,e,m){if(!this.options.allowCalEventOverlap){var j,q;c.find(".wc-cal-event").not(k).each(function(){var y=b(this).data("calEvent");if(f.start.getTime()<y.end.getTime()&&f.end.getTime()>=
y.end.getTime())j=y.end;if(f.end.getTime()>y.start.getTime()&&f.start.getTime()<=y.start.getTime())q=y.start;if(e.resizable==false||f.end.getTime()<=y.end.getTime()&&f.start.getTime()>=y.start.getTime()){j=e.start;q=e.end;return false}});f.start=j||f.start;if(j&&m){f.end=new Date(j.getTime()+(e.end.getTime()-e.start.getTime()));this._adjustForEventCollisions(c,k,f,e)}else f.end=q||f.end;if(f.start.getTime()>=f.end.getTime()){f.start=e.start;f.end=e.end}k.data("calEvent",f)}},_addDraggableToCalEvent:function(c,
k){var f=this.options;this._findWeekDayForEvent(c,this.element.find(".wc-time-slots .wc-day-column-inner"));k.draggable({handle:".wc-time",containment:".wc-scrollable-grid",revert:"valid",opacity:0.5,grid:[k.outerWidth()+1,f.timeslotHeight],start:function(e,m){f.eventDrag(c,m.draggable)}})},_addDroppableToWeekDay:function(c){var k=this,f=this.options;c.droppable({accept:".wc-cal-event",drop:function(e,m){var j=m.draggable;e=Math.round(parseInt(m.position.top));m=k._getEventDurationFromPositionedEventElement(c,
j,e);e=j.data("calEvent");m=b.extend(true,{},e,{start:m.start,end:m.end});k._adjustForEventCollisions(c,j,m,e,true);var q=k.element.find(".wc-day-column-inner");f.eventDrop(m,e,y);var y=k._renderEvent(m,k._findWeekDayForEvent(m,q));j.hide();j.data("preventClick",true);y=k._findWeekDayForEvent(j.data("calEvent"),k.element.find(".wc-time-slots .wc-day-column-inner"));y.data("startDate")!=c.data("startDate")&&k._adjustOverlappingEvents(y);k._adjustOverlappingEvents(c);setTimeout(function(){j.remove()},
1E3)}})},_addResizableToCalEvent:function(c,k,f){var e=this,m=this.options;k.resizable({grid:m.timeslotHeight,containment:f,handles:"s",minHeight:m.timeslotHeight,stop:function(j,q){var y=q.element;j=new Date(y.data("calEvent").start.getTime()+y.height()/m.timeslotHeight*m.millisPerTimeslot);j=b.extend(true,{},c,{start:c.start,end:j});e._adjustForEventCollisions(f,y,j,c);e._refreshEventDetails(j,y);e._positionEvent(f,y);e._adjustOverlappingEvents(f);m.eventResize(j,c,y);y.data("preventClick",true);
setTimeout(function(){y.removeData("preventClick")},500)}})},_refreshEventDetails:function(c,k){var f=this.options;c.end.getTime()-c.start.getTime()<=36E5/f.timeslotsPerHour?k.find(".wc-time").html(this._formatDate(c.start,f.timeFormat)+": "+c.title):k.find(".wc-time").html(this._formatDate(c.start,f.timeFormat)+f.timeSeparator+this._formatDate(c.end,f.timeFormat));k.find(".wc-title").html(c.title);k.data("calEvent",c)},_clearCalendar:function(){this.element.find(".wc-day-column-inner div").remove()},
_scrollToHour:function(c){var k=this.options,f=this.element.find(".wc-scrollable-grid"),e=c;if(this.options.businessHours.limitDisplay)e=c<=this.options.businessHours.start?0:c>this.options.businessHours.end?this.options.businessHours.end-this.options.businessHours.start-1:c-this.options.businessHours.start;var m=this.element.find(".wc-grid-timeslot-header .wc-hour-header:eq("+e+")");f.animate({scrollTop:0},0,function(){var j=m.offset().top-f.offset().top-m.outerHeight();f.animate({scrollTop:j},k.scrollToHourMillis)})},
_hourForIndex:function(c){return c===0?12:c<13?c:c-12},_24HourForIndex:function(c){return c===0?"00:00":c<10?"0"+c+":00":c+":00"},_amOrPm:function(c){return c<12?"AM":"PM"},_isToday:function(c){c=this._cloneDate(c);this._clearTime(c);var k=new Date;this._clearTime(k);return k.getTime()===c.getTime()},_cleanEvents:function(c){var k=this;b.each(c,function(f,e){k._cleanEvent(e)});return c},_cleanEvent:function(c){if(c.date)c.start=c.date;c.start=this._cleanDate(c.start);c.end=this._cleanDate(c.end);
if(!c.end)c.end=this._addDays(this._cloneDate(c.start),1)},_disableTextSelect:function(c){c.each(function(){if(b.browser.mozilla)b(this).css("MozUserSelect","none");else b.browser.msie?b(this).bind("selectstart",function(){return false}):b(this).mousedown(function(){return false})})},_dateFirstDayOfWeek:function(c){c=new Date(c.getFullYear(),c.getMonth(),c.getDate());var k=new Date(c);k.setDate(k.getDate()-this._getAdjustedDayIndex(c));return k},_dateLastDayOfWeek:function(c){c=new Date(c.getFullYear(),
c.getMonth(),c.getDate());var k=new Date(c);k.setDate(k.getDate()+(6-this._getAdjustedDayIndex(c)));return k},_getAdjustedDayIndex:function(c){c=(new Date(c.getFullYear(),c.getMonth(),c.getDate())).getDay();var k=[0,1,2,3,4,5,6];this._rotate(k,this.options.firstDayOfWeek);return k[c]},_dateLastMilliOfWeek:function(c){c=this._dateLastDayOfWeek(c);return new Date(c.getTime()+i)},_clearTime:function(c){c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);return c},_addDays:function(c,k,
f){c.setDate(c.getDate()+k);if(f)return c;return this._clearTime(c)},_rotate:function(c,k){var f=c.length;k=(Math.abs(k)>=f&&(k%=f),k<0&&(k+=f),k);for(var e,m;k;k=(Math.ceil(f/k)-1)*k-f+(f=k))for(e=f;e>k;m=c[--e],c[e]=c[e-k],c[e-k]=m);return c},_cloneDate:function(c){return new Date(c.getTime())},_cleanDate:function(c){if(typeof c=="string")return b.weekCalendar.parseISO8601(c,true)||Date.parse(c)||new Date(parseInt(c));if(typeof c=="number")return new Date(c);return c},_formatDate:function(c,k){for(var f=
this.options,e="",m=0;m<k.length;m++){var j=k.charAt(m);if(b.isFunction(this._replaceChars[j])){j=this._replaceChars[j](c,f);if(j==="00"&&f.alwaysDisplayTimeMinutes===false)e=e.slice(0,-1);else e+=j}else e+=j}return e},_replaceChars:{d:function(c){return(c.getDate()<10?"0":"")+c.getDate()},D:function(c,k){return k.shortDays[c.getDay()]},j:function(c){return c.getDate()},l:function(c,k){return k.longDays[c.getDay()]},N:function(c){return c.getDay()+1},S:function(c){return c.getDate()%10==1&&c.getDate()!=
11?"st":c.getDate()%10==2&&c.getDate()!=12?"nd":c.getDate()%10==3&&c.getDate()!=13?"rd":"th"},w:function(c){return c.getDay()},z:function(){return"Not Yet Supported"},W:function(){return"Not Yet Supported"},F:function(c,k){return k.longMonths[c.getMonth()]},m:function(c){return(c.getMonth()<9?"0":"")+(c.getMonth()+1)},M:function(c,k){return k.shortMonths[c.getMonth()]},n:function(c){return c.getMonth()+1},t:function(){return"Not Yet Supported"},L:function(){return"Not Yet Supported"},o:function(){return"Not Supported"},
Y:function(c){return c.getFullYear()},y:function(c){return(""+c.getFullYear()).substr(2)},a:function(c){return c.getHours()<12?"am":"pm"},A:function(c){return c.getHours()<12?"AM":"PM"},B:function(){return"Not Yet Supported"},g:function(c){return c.getHours()%12||12},G:function(c){return c.getHours()},h:function(c){return((c.getHours()%12||12)<10?"0":"")+(c.getHours()%12||12)},H:function(c){return(c.getHours()<10?"0":"")+c.getHours()},i:function(c){return(c.getMinutes()<10?"0":"")+c.getMinutes()},
s:function(c){return(c.getSeconds()<10?"0":"")+c.getSeconds()},e:function(){return"Not Yet Supported"},I:function(){return"Not Supported"},O:function(c){return(c.getTimezoneOffset()<0?"-":"+")+(c.getTimezoneOffset()/60<10?"0":"")+c.getTimezoneOffset()/60+"00"},T:function(){return"Not Yet Supported"},Z:function(c){return c.getTimezoneOffset()*60},c:function(){return"Not Yet Supported"},r:function(c){return c.toString()},U:function(c){return c.getTime()/1E3}}});b.extend(b.ui.weekCalendar,{version:"1.2.2-pre"});
var i=864E5,l=i*7;b.weekCalendar=function(){return{parseISO8601:function(c,k){c=c.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?"));if(!c)return null;var f=0,e=new Date(c[1],0,1);c[3]&&e.setMonth(c[3]-1);c[5]&&e.setDate(c[5]);c[7]&&e.setHours(c[7]);c[8]&&e.setMinutes(c[8]);c[10]&&e.setSeconds(c[10]);c[12]&&e.setMilliseconds(Number("0."+c[12])*1E3);if(!k){if(c[14]){f=Number(c[16])*60+Number(c[17]);f*=c[15]==
"-"?1:-1}f-=e.getTimezoneOffset()}return new Date(Number(e)+f*60*1E3)}}}()})(jQuery);
(function(b){function i(D,E,ja,ya){this.id=D;this.date=E;this.cell=ja;this.label=ya;this.weekNumber=Math.floor(D/7);this.events=[];this.isTooManySet=false;this.vOffset=0;this.echo=function(){alert("Date: "+this.date+" WeekNumber: "+this.weekNumber+" ID: "+this.id)};this.clear=function(){this.events=[];this.isTooManySet=false;this.vOffset=0};this.getCellPosition=function(){if(this.cell)return this.cell.position()};this.getCellBox=function(){if(this.cell)return this.cell};this.getLabelWidth=function(){if(this.label)return this.label.innerWidth()};
this.getLabelHeight=function(){if(this.label)return this.label.height()};this.getDate=function(){return this.date}}var l=[],c={},k=null,f=0,e=null,m=null,j=0,q=0,y=0,W=0,C={startDate:null,endDate:null},ga=[],I={containerId:"#jMonthCalendar",headerHeight:50,firstDayOfWeek:0,calendarStartDate:new Date,dragableEvents:true,dragHoverClass:"DateBoxOver",navLinks:{enableToday:true,enableNextYear:true,enablePrevYear:true,p:"&lsaquo; Prev",n:"Next &rsaquo;",t:"Today",showMore:"Show More"},onMonthChanging:function(){},
onMonthChanged:function(){},onEventLinkClick:function(){},onEventBlockClick:function(){},onEventBlockOver:function(){},onEventBlockOut:function(){},onDayLinkClick:function(){},onDayCellClick:function(){},onDayCellDblClick:function(){},onEventDropped:function(){},onShowMoreClick:function(){}};b.jMonthCalendar=b.J=function(){};var Na=function(D){var E;if(typeof D=="string"){var ja=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})$/,ya=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/;if(E=D.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{7})$/))return new Date(E[1],
E[2]-1,E[3],E[4],E[5],E[6]);else if(E=D.match(ja))return new Date(E[1],E[2]-1,E[3],E[4],E[5],E[6]);else if(E=D.match(ya))return new Date(E[1],E[2]-1,E[3]);if(E=D.match(/^\\\/Date\(([0-9]{13})-([0-9]{4})\)\\\/$/))return new Date(E[1]);if(D.match(/^new/))return eval("("+D+")")}},G=function(){if(ga&&ga.length>0){var D=[],E=[];b.each(ga,function(){if(this.StartDateTime){if(typeof this.StartDateTime=="object"&&this.StartDateTime.getDate)this.StartDateTime=this.StartDateTime;if(typeof this.StartDateTime==
"string"&&this.StartDateTime.split)this.StartDateTime=Na(this.StartDateTime)}else if(this.Date){if(typeof this.Date=="object"&&this.Date.getDate)this.StartDateTime=this.Date;if(typeof this.Date=="string"&&this.Date.split)this.StartDateTime=Na(this.Date)}else return;if(this.EndDateTime){if(typeof this.EndDateTime=="object"&&this.EndDateTime.getDate)this.EndDateTime=this.EndDateTime;if(typeof this.EndDateTime=="string"&&this.EndDateTime.split)this.EndDateTime=Na(this.EndDateTime)}else this.EndDateTime=
this.StartDateTime.clone();if(this.StartDateTime.clone().clearTime().compareTo(this.EndDateTime.clone().clearTime())==0)E.push(this);else this.StartDateTime.clone().clearTime().compareTo(this.EndDateTime.clone().clearTime())==-1&&D.push(this)});D.sort(Ya);E.sort(Ya);ga=[];b.merge(ga,D);b.merge(ga,E)}},Ya=function(D,E){return D.StartDateTime.compareTo(E.StartDateTime)},Aa=function(){Ra();l=[]},Ra=function(){for(var D=0;D<l.length;D++)l[D].clear();c={}},$a=function(D){var E=I.calendarStartDate;if(D==
undefined)k=new Date(E.getFullYear(),E.getMonth(),1);else{k=D;k.setDate(1)}f=k.getDaysInMonth();e=k.clone().moveToFirstDayOfMonth();m=k.clone().moveToLastDayOfMonth();j=e.getDay()-I.firstDayOfWeek;q=j+f;y=Math.ceil(q/7);W=y*7;C.startDate=e.clone().addDays(-1*j);C.endDate=m.clone().addDays(W-(f+j))},bb=function(){var D=k.clone().addMonths(-1),E=b('<div class="MonthNavPrev"><a class="link-prev">'+I.navLinks.p+"</a></div>").click(function(){b.J.ChangeMonth(D);return false}),ja=k.clone().addMonths(1),
ya=b('<div class="MonthNavNext"><a class="link-next">'+I.navLinks.n+"</a></div>").click(function(){b.J.ChangeMonth(ja);return false}),fa=k.clone().addYears(-1),xa;if(I.navLinks.enablePrevYear)xa=b('<div class="YearNavPrev"><a>'+fa.getFullYear()+"</a></div>").click(function(){b.J.ChangeMonth(fa);return false});var R=k.clone().addYears(1),aa;if(I.navLinks.enableNextYear)aa=b('<div class="YearNavNext"><a>'+R.getFullYear()+"</a></div>").click(function(){b.J.ChangeMonth(R);return false});var va;if(I.navLinks.enableToday)va=
b('<div class="TodayLink"><a class="link-today">'+I.navLinks.t+"</a></div>").click(function(){b.J.ChangeMonth(new Date);return false});var wa=b('<tr><td colspan="7"><div class="FormHeader MonthNavigation"></div></td></tr>'),Pa=b(".MonthNavigation",wa);Pa.append(E,ya);I.navLinks.enableToday&&Pa.append(va);Pa.append(b('<div class="MonthName"></div>').append(Date.CultureInfo.monthNames[k.getMonth()]+" "+k.getFullYear()));I.navLinks.enablePrevYear&&Pa.append(xa);I.navLinks.enableNextYear&&Pa.append(aa);
E=b("<tr></tr>");for(ya=I.firstDayOfWeek;ya<I.firstDayOfWeek+7;ya++){xa=ya%7;aa=Date.CultureInfo.dayNames[xa];E.append('<th title="'+aa+'" class="DateHeader'+(xa==0||xa==6?" Weekend":"")+'"><span>'+aa+"</span></th>")}E=b('<thead id="CalendarHead"></thead>').css({height:I.headerHeight+"px"}).append(E);return E=E.prepend(wa)};b.J.DrawCalendar=function(D){var E=new Date;E.clearTime();var ja=I.calendarStartDate;Aa();$a(D);D=bb();k.getMonth()==ja.getMonth()&&(k.getFullYear(),ja.getFullYear());var ya=(b(I.containerId).outerHeight()-
I.headerHeight)/y,fa=null;ja=b('<tbody id="CalendarBody"></tbody>');for(var xa=0;xa<W;xa++){var R=C.startDate.clone().addDays(xa);if(xa%7==0||xa==0){fa=b("<tr></tr>");fa.css({height:ya+"px"});ja.append(fa)}var aa=(I.firstDayOfWeek+xa)%7,va={"class":"DateBox"+(aa==0||aa==6?" Weekend ":""),date:R.toString("M/d/yyyy")};if(R.compareTo(e)==-1||R.compareTo(m)==1)va["class"]+=" Inactive";if(R.compareTo(E)==0)va["class"]+=" Today";aa=b('<div class="DateLabel"><a>'+R.getDate()+"</a></div>");aa.bind("click",
{Date:R.clone()},I.onDayLinkClick);va=b("<td></td>").attr(va).append(aa);va.bind("dblclick",{Date:R.clone()},I.onDayCellDblClick);va.bind("click",{Date:R.clone()},I.onDayCellClick);I.dragableEvents&&va.droppable({hoverClass:I.dragHoverClass,tolerance:"pointer",drop:function(wa,Pa){var Ua=Pa.draggable.attr("eventid"),Wa=(new Date(b(this).attr("date"))).clearTime(),Xa;b.each(ga,function(){if(this.EventID==Ua){var ab=(new TimeSpan(Wa-this.StartDateTime)).days;this.StartDateTime.addDays(ab);this.EndDateTime.addDays(ab);
Xa=this}});b.J.ClearEventsOnCalendar();Za();I.onEventDropped.call(this,Xa,Wa)}});l.push(new i(xa,R,va,aa));fa.append(va)}ja.append(fa);E=b(I.containerId);D=b('<table class="MonthlyCalendar" cellpadding="0" tablespacing="0"></table>').append(D,ja);E.hide();E.html(D);E.fadeIn("normal");Za()};var Za=function(){G();Ra();if(ga&&ga.length>0){var D=b(I.containerId);b.each(ga,function(){var ja=this.StartDateTime.clone().clearTime(),ya=this.EndDateTime.clone().clearTime(),fa=(new TimeSpan(ja-C.startDate)).days,
xa=(new TimeSpan(ya-C.startDate)).days;xa=xa>l.length-1?l.length-1:xa;for(fa=fa<0?0:fa;fa<=xa;fa++){var R=l[fa],aa=ja.compareTo(R.date),va=ya.compareTo(R.date),wa=fa!=0&&aa==-1&&va>=0&&R.weekNumber!=l[fa-1].weekNumber||fa==0&&aa==-1;if((aa==0||fa==0&&aa==-1||wa||aa==-1&&va>=0)&&R.vOffset>=R.getCellBox().height()-R.getLabelHeight()-32){if(!R.isTooManySet){wa=b('<div class="MoreEvents" id="ME_'+fa+'">'+I.navLinks.showMore+"</div>");aa=R.getCellPosition();var Pa=fa;wa.css({top:aa.top+(R.getCellBox().height()-
R.getLabelHeight()),left:aa.left,width:R.getLabelWidth()-7,position:"absolute"});wa.click(function(Wa){db(Wa,Pa)});c[wa.attr("id")]=wa;R.isTooManySet=true}R.events.push(this)}else if(aa==0||fa==0&&aa==-1||wa){var Ua=cb(this,R.weekNumber);aa=R.getCellPosition();Ua.css({top:aa.top+R.getLabelHeight()+R.vOffset,left:aa.left,width:R.getLabelWidth()-7,position:"absolute"});R.vOffset+=19;if(wa){Ua.prepend(b("<span />").addClass("ui-icon").addClass("ui-icon-triangle-1-w"));(wa=c["Event_"+this.EventID+"_"+
(R.weekNumber-1)])&&wa.prepend(b("<span />").addClass("ui-icon").addClass("ui-icon-triangle-1-e"))}c[Ua.attr("id")]=Ua;R.events.push(this)}else if(aa==-1&&va>=0)if(wa=c["Event_"+this.EventID+"_"+R.weekNumber]){aa=wa.css("width");wa.css({width:parseInt(aa)+R.getLabelWidth()+1});R.vOffset+=19;R.events.push(this)}if(fa==xa&&va>0)(wa=c["Event_"+this.EventID+"_"+R.weekNumber])&&wa.prepend(b("<span />").addClass("ui-icon").addClass("ui-icon-triangle-1-e"))}});for(var E in c){c[E].hide();D.append(c[E]);
c[E].show()}}},cb=function(D,E){var ja=b('<div class="Event" id="Event_'+D.EventID+"_"+E+'" eventid="'+D.EventID+'"></div>');D.CssClass&&ja.addClass(D.CssClass);ja.bind("click",{Event:D},I.onEventBlockClick);ja.bind("mouseover",{Event:D},I.onEventBlockOver);ja.bind("mouseout",{Event:D},I.onEventBlockOut);I.dragableEvents&&eb(D,ja,E);E=D.URL&&D.URL.length>0?b('<a href="'+D.URL+'">'+D.Title+"</a>"):b("<a>"+D.Title+"</a>");E.bind("click",{Event:D},I.onEventLinkClick);ja.append(E);return ja},eb=function(D,
E,ja){E.draggable({zIndex:4,delay:50,opacity:0.5,revertDuration:1E3,cursorAt:{left:5},start:function(){for(var ya=0;ya<=y;ya++)if(ya!=ja){var fa=c["Event_"+D.EventID+"_"+ya];fa&&fa.hide()}}})},db=function(D,E){I.onShowMoreClick.call(this,l[E].events);D.stopPropagation()};b.J.ClearEventsOnCalendar=function(){Ra();b(".Event",b(I.containerId)).remove();b(".MoreEvents",b(I.containerId)).remove()};b.J.AddEvents=function(D){if(D){D.length>0?b.merge(ga,D):ga.push(D);b.J.ClearEventsOnCalendar();Za()}};b.J.ReplaceEventCollection=
function(D){if(D){ga=[];ga=D}b.J.ClearEventsOnCalendar();Za()};b.J.ChangeMonth=function(D){if(!I.onMonthChanging.call(this,D)){b.J.DrawCalendar(D);I.onMonthChanged.call(this,D)}};b.J.Initialize=function(D,E){b.extend(I,D);if(E){b.J.ClearEventsOnCalendar();ga=E}b.J.DrawCalendar()}})(jQuery);
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,
feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,
tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",
PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var i=Date.CultureInfo.monthNames,l=Date.CultureInfo.abbreviatedMonthNames;b=b.toLowerCase();for(var c=0;c<i.length;c++)if(i[c].toLowerCase()==b||l[c].toLowerCase()==b)return c;return-1};
Date.getDayNumberFromName=function(b){var i=Date.CultureInfo.dayNames,l=Date.CultureInfo.abbreviatedDayNames;b=b.toLowerCase();for(var c=0;c<i.length;c++)if(i[c].toLowerCase()==b||l[c].toLowerCase()==b)return c;return-1};Date.isLeapYear=function(b){return b%4===0&&b%100!==0||b%400===0};Date.getDaysInMonth=function(b,i){return[31,Date.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][i]};Date.getTimezoneOffset=function(b,i){return i?Date.CultureInfo.abbreviatedTimeZoneDST[b.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[b.toUpperCase()]};
Date.getTimezoneAbbreviation=function(b,i){i=i?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;var l;for(l in i)if(i[l]===b)return l;return null};a=Date.prototype;a.clone=function(){return new Date(this.getTime())};a.compareTo=function(b){if(isNaN(this))throw new Error(this);if(b instanceof Date&&!isNaN(b))return this>b?1:this<b?-1:0;else throw new TypeError(b);};a.equals=function(b){return this.compareTo(b)===0};
a.between=function(b,i){var l=this.getTime();return l>=b.getTime()&&l<=i.getTime()};a.addMilliseconds=function(b){this.setMilliseconds(this.getMilliseconds()+b);return this};a.addSeconds=function(b){return this.addMilliseconds(b*1E3)};a.addMinutes=function(b){return this.addMilliseconds(b*6E4)};a.addHours=function(b){return this.addMilliseconds(b*36E5)};a.addDays=function(b){return this.addMilliseconds(b*864E5)};a.addWeeks=function(b){return this.addMilliseconds(b*6048E5)};
a.addMonths=function(b){var i=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(i,this.getDaysInMonth()));return this};a.addYears=function(b){return this.addMonths(b*12)};
a.add=function(b){if(typeof b=="number"){this._orient=b;return this}if(b.millisecond||b.milliseconds)this.addMilliseconds(b.millisecond||b.milliseconds);if(b.second||b.seconds)this.addSeconds(b.second||b.seconds);if(b.minute||b.minutes)this.addMinutes(b.minute||b.minutes);if(b.hour||b.hours)this.addHours(b.hour||b.hours);if(b.month||b.months)this.addMonths(b.month||b.months);if(b.year||b.years)this.addYears(b.year||b.years);if(b.day||b.days)this.addDays(b.day||b.days);return this};
Date._validate=function(b,i,l,c){if(typeof b!="number")throw new TypeError(b+" is not a Number.");else if(b<i||b>l)throw new RangeError(b+" is not a valid value for "+c+".");return true};Date.validateMillisecond=function(b){return Date._validate(b,0,999,"milliseconds")};Date.validateSecond=function(b){return Date._validate(b,0,59,"seconds")};Date.validateMinute=function(b){return Date._validate(b,0,59,"minutes")};Date.validateHour=function(b){return Date._validate(b,0,23,"hours")};
Date.validateDay=function(b,i,l){return Date._validate(b,1,Date.getDaysInMonth(i,l),"days")};Date.validateMonth=function(b){return Date._validate(b,0,11,"months")};Date.validateYear=function(b){return Date._validate(b,1,9999,"seconds")};a=Date.prototype;
a.set=function(b){if(!b.millisecond&&b.millisecond!==0)b.millisecond=-1;if(!b.second&&b.second!==0)b.second=-1;if(!b.minute&&b.minute!==0)b.minute=-1;if(!b.hour&&b.hour!==0)b.hour=-1;if(!b.day&&b.day!==0)b.day=-1;if(!b.month&&b.month!==0)b.month=-1;if(!b.year&&b.year!==0)b.year=-1;b.millisecond!=-1&&Date.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());b.second!=-1&&Date.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());b.minute!=-1&&
Date.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());b.hour!=-1&&Date.validateHour(b.hour)&&this.addHours(b.hour-this.getHours());b.month!==-1&&Date.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());b.year!=-1&&Date.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());b.day!=-1&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);
return this};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};a.isLeapYear=function(){var b=this.getFullYear();return b%4===0&&b%100!==0||b%400===0};a.isWeekday=function(){return!(this.is().sat()||this.is().sun())};a.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};a.moveToFirstDayOfMonth=function(){return this.set({day:1})};a.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};
a.moveToDayOfWeek=function(b,i){b=(b-this.getDay()+7*(i||+1))%7;return this.addDays(b===0?(b+=7*(i||+1)):b)};a.moveToMonth=function(b,i){b=(b-this.getMonth()+12*(i||+1))%12;return this.addMonths(b===0?(b+=12*(i||+1)):b)};a.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864E5)};
a.getWeekOfYear=function(b){var i=this.getFullYear(),l=this.getMonth(),c=this.getDate();b=b||Date.CultureInfo.firstDayOfWeek;var k=8-(new Date(i,0,1)).getDay();if(k==8)k=1;l=(Date.UTC(i,l,c,0,0,0)-Date.UTC(i,0,1,0,0,0))/864E5+1;l=Math.floor((l-k+7)/7);if(l===b){i--;i=8-(new Date(i,0,1)).getDay();l=i==2||i==8?53:52}return l};a.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};
a.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};a.setTimezoneOffset=function(b){var i=this.getTimezoneOffset();this.addMinutes(Number(b)*-6/10-i);return this};a.setTimezone=function(b){return this.setTimezoneOffset(Date.getTimezoneOffset(b))};a.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6;if(b<0){b=(b-1E4).toString();return b[0]+b.substr(2)}else{b=(b+1E4).toString();return"+"+b.substr(1)}};
a.getDayName=function(b){return b?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};a.getMonthName=function(b){return b?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};a._toString=Date.prototype.toString;
a.toString=function(b){var i=this,l=function(c){return c.toString().length==1?"0"+c:c};return b?b.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(c){switch(c){case "hh":return l(i.getHours()<13?i.getHours():i.getHours()-12);case "h":return i.getHours()<13?i.getHours():i.getHours()-12;case "HH":return l(i.getHours());case "H":return i.getHours();case "mm":return l(i.getMinutes());case "m":return i.getMinutes();case "ss":return l(i.getSeconds());case "s":return i.getSeconds();
case "yyyy":return i.getFullYear();case "yy":return i.getFullYear().toString().substring(2,4);case "dddd":return i.getDayName();case "ddd":return i.getDayName(true);case "dd":return l(i.getDate());case "d":return i.getDate().toString();case "MMMM":return i.getMonthName();case "MMM":return i.getMonthName(true);case "MM":return l(i.getMonth()+1);case "M":return i.getMonth()+1;case "t":return i.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case "tt":return i.getHours()<
12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case "zzz":case "zz":case "z":return""}}):this._toString()};Date.now=function(){return new Date};Date.today=function(){return Date.now().clearTime()};a=Date.prototype;a._orient=+1;a.next=function(){this._orient=+1;return this};a.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};a._is=false;a.is=function(){this._is=true;return this};Number.prototype._dateElement="day";
Number.prototype.fromNow=function(){var b={};b[this._dateElement]=this;return Date.now().add(b)};Number.prototype.ago=function(){var b={};b[this._dateElement]=this*-1;return Date.now().add(b)};
(function(){for(var b=Date.prototype,i=Number.prototype,l="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),c="january february march april may june july august september october november december".split(/\s/),k="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),f=function(m){return function(){if(this._is){this._is=false;return this.getDay()==m}return this.moveToDayOfWeek(m,this._orient)}},e=0;e<l.length;e++)b[l[e]]=b[l[e].substring(0,3)]=f(e);l=function(m){return function(){if(this._is){this._is=
false;return this.getMonth()===m}return this.moveToMonth(m,this._orient)}};for(f=0;f<c.length;f++)b[c[f]]=b[c[f].substring(0,3)]=l(f);l=function(m){return function(){if(m.substring(m.length-1)!="s")m+="s";return this["add"+m](this._orient)}};f=function(m){return function(){this._dateElement=m;return this}};for(e=0;e<k.length;e++){c=k[e].toLowerCase();b[c]=b[c+"s"]=l(k[e]);i[c]=i[c+"s"]=f(c)}})();a=Date.prototype;a.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};
a.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};a.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};a.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};a.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};
a.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};
(function(){Date.Parsing={Exception:function(f){this.message="Parse error at '"+f.substring(0,10)+" ...'"}};for(var b=Date.Parsing,i=b.Operators={rtoken:function(f){return function(e){var m=e.match(f);if(m)return[m[0],e.substring(m[0].length)];else throw new b.Exception(e);}},token:function(){return function(f){return i.rtoken(new RegExp("^s*"+f+"s*"))(f)}},stoken:function(f){return i.rtoken(new RegExp("^"+f))},until:function(f){return function(e){for(var m=[],j=null;e.length;){try{j=f.call(this,
e)}catch(q){m.push(j[0]);e=j[1];continue}break}return[m,e]}},many:function(f){return function(e){for(var m=[],j=null;e.length;){try{j=f.call(this,e)}catch(q){return[m,e]}m.push(j[0]);e=j[1]}return[m,e]}},optional:function(f){return function(e){var m=null;try{m=f.call(this,e)}catch(j){return[null,e]}return[m[0],m[1]]}},not:function(f){return function(e){try{f.call(this,e)}catch(m){return[null,e]}throw new b.Exception(e);}},ignore:function(f){return f?function(e){var m=null;m=f.call(this,e);return[null,
m[1]]}:null},product:function(){for(var f=arguments[0],e=Array.prototype.slice.call(arguments,1),m=[],j=0;j<f.length;j++)m.push(i.each(f[j],e));return m},cache:function(f){var e={},m=null;return function(j){try{m=e[j]=e[j]||f.call(this,j)}catch(q){m=e[j]=q}if(m instanceof b.Exception)throw m;else return m}},any:function(){var f=arguments;return function(e){for(var m=null,j=0;j<f.length;j++)if(f[j]!=null){try{m=f[j].call(this,e)}catch(q){m=null}if(m)return m}throw new b.Exception(e);}},each:function(){var f=
arguments;return function(e){for(var m=[],j=null,q=0;q<f.length;q++)if(f[q]!=null){try{j=f[q].call(this,e)}catch(y){throw new b.Exception(e);}m.push(j[0]);e=j[1]}return[m,e]}},all:function(){var f=f;return f.each(f.optional(arguments))},sequence:function(f,e,m){e=e||i.rtoken(/^\s*/);m=m||null;if(f.length==1)return f[0];return function(j){for(var q=null,y=null,W=[],C=0;C<f.length;C++){try{q=f[C].call(this,j)}catch(ga){break}W.push(q[0]);try{y=e.call(this,q[1])}catch(I){y=null;break}j=y[1]}if(!q)throw new b.Exception(j);
if(y)throw new b.Exception(y[1]);if(m)try{q=m.call(this,q[1])}catch(Na){throw new b.Exception(q[1]);}return[W,q?q[1]:j]}},between:function(f,e,m){m=m||f;var j=i.each(i.ignore(f),e,i.ignore(m));return function(q){q=j.call(this,q);return[[q[0][0],r[0][2]],q[1]]}},list:function(f,e,m){e=e||i.rtoken(/^\s*/);m=m||null;return f instanceof Array?i.each(i.product(f.slice(0,-1),i.ignore(e)),f.slice(-1),i.ignore(m)):i.each(i.many(i.each(f,i.ignore(e))),px,i.ignore(m))},set:function(f,e,m){e=e||i.rtoken(/^\s*/);
m=m||null;return function(j){var q=null;for(var y=q=null,W=null,C=[[],j],ga=false,I=0;I<f.length;I++){q=y=null;ga=f.length==1;try{q=f[I].call(this,j)}catch(Na){continue}W=[[q[0]],q[1]];if(q[1].length>0&&!ga)try{y=e.call(this,q[1])}catch(G){ga=true}else ga=true;if(!ga&&y[1].length===0)ga=true;if(!ga){q=[];for(ga=0;ga<f.length;ga++)I!=ga&&q.push(f[ga]);q=i.set(q,e).call(this,y[1]);if(q[0].length>0){W[0]=W[0].concat(q[0]);W[1]=q[1]}}if(W[1].length<C[1].length)C=W;if(C[1].length===0)break}if(C[0].length===
0)return C;if(m){try{y=m.call(this,C[1])}catch(Ya){throw new b.Exception(C[1]);}C[1]=y[1]}return C}},forward:function(f,e){return function(m){return f[e].call(this,m)}},replace:function(f,e){return function(m){m=f.call(this,m);return[e,m[1]]}},process:function(f,e){return function(m){m=f.call(this,m);return[e.call(this,m[0]),m[1]]}},min:function(f,e){return function(m){var j=e.call(this,m);if(j[0].length<f)throw new b.Exception(m);return j}}},l=function(f){return function(){var e=null,m=[];if(arguments.length>
1)e=Array.prototype.slice.call(arguments);else if(arguments[0]instanceof Array)e=arguments[0];if(e)for(var j=e.shift();0<j.length;){e.unshift(j[0]);m.push(f.apply(null,e));e.shift();return m}else return f.apply(null,arguments)}},c="optional not ignore cache".split(/\s/),k=0;k<c.length;k++)i[c[k]]=l(i[c[k]]);l=function(f){return function(){return arguments[0]instanceof Array?f.apply(null,arguments[0]):f.apply(null,arguments)}};c="each any all".split(/\s/);for(k=0;k<c.length;k++)i[c[k]]=l(i[c[k]])})();
(function(){var b=function(j){for(var q=[],y=0;y<j.length;y++)if(j[y]instanceof Array)q=q.concat(b(j[y]));else j[y]&&q.push(j[y]);return q};Date.Grammar={};Date.Translator={hour:function(j){return function(){this.hour=Number(j)}},minute:function(j){return function(){this.minute=Number(j)}},second:function(j){return function(){this.second=Number(j)}},meridian:function(j){return function(){this.meridian=j.slice(0,1).toLowerCase()}},timezone:function(j){return function(){var q=j.replace(/[^\d\+\-]/g,
"");if(q.length)this.timezoneOffset=Number(q);else this.timezone=j.toLowerCase()}},day:function(j){var q=j[0];return function(){this.day=Number(q.match(/\d+/)[0])}},month:function(j){return function(){this.month=j.length==3?Date.getMonthNumberFromName(j):Number(j)-1}},year:function(j){return function(){var q=Number(j);this.year=j.length>2?q:q+(q+2E3<Date.CultureInfo.twoDigitYearMax?2E3:1900)}},rday:function(j){return function(){switch(j){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0;this.now=true;break}}},finishExact:function(j){j=j instanceof Array?j:[j];var q=new Date;this.year=q.getFullYear();this.month=q.getMonth();this.day=1;for(q=this.second=this.minute=this.hour=0;q<j.length;q++)j[q]&&j[q].call(this);this.hour=this.meridian=="p"&&this.hour<13?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");j=new Date(this.year,this.month,
this.day,this.hour,this.minute,this.second);if(this.timezone)j.set({timezone:this.timezone});else this.timezoneOffset&&j.set({timezoneOffset:this.timezoneOffset});return j},finish:function(j){j=j instanceof Array?b(j):[j];if(j.length===0)return null;for(var q=0;q<j.length;q++)typeof j[q]=="function"&&j[q].call(this);if(this.now)return new Date;j=Date.today();if(this.days!=null||this.orient||this.operator){var y,W;W=this.orient=="past"||this.operator=="subtract"?-1:1;if(this.weekday){this.unit="day";
q=Date.getDayNumberFromName(this.weekday)-j.getDay();y=7;this.days=q?(q+W*y)%y:W*y}if(this.month){this.unit="month";q=this.month-j.getMonth();y=12;this.months=q?(q+W*y)%y:W*y;this.month=null}if(!this.unit)this.unit="day";if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value)this.value=1;if(this.unit=="week"){this.unit="day";this.value*=7}this[this.unit+"s"]=this.value*W}return j.add(this)}else{if(this.meridian&&this.hour)this.hour=this.hour<13&&this.meridian=="p"?this.hour+12:this.hour;
if(this.weekday&&!this.day)this.day=j.addDays(Date.getDayNumberFromName(this.weekday)-j.getDay()).getDate();if(this.month&&!this.day)this.day=1;return j.set(this)}}};var i=Date.Parsing.Operators,l=Date.Grammar,c=Date.Translator,k;l.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/);l.timePartDelimiter=i.stoken(":");l.whiteSpace=i.rtoken(/^\s*/);l.generalDelimiter=i.rtoken(/^(([\s\,]|at|on)+)/);var f={};l.ctoken=function(j){var q=f[j];if(!q){q=Date.CultureInfo.regexPatterns;for(var y=j.split(/\s+/),
W=[],C=0;C<y.length;C++)W.push(i.replace(i.rtoken(q[y[C]]),y[C]));q=f[j]=i.any.apply(null,W)}return q};l.ctoken2=function(j){return i.rtoken(Date.CultureInfo.regexPatterns[j])};l.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),c.hour));l.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),c.hour));l.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),c.hour));l.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),c.hour));l.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),c.minute));
l.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),c.minute));l.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),c.second));l.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),c.second));l.hms=i.cache(i.sequence([l.H,l.mm,l.ss],l.timePartDelimiter));l.t=i.cache(i.process(l.ctoken2("shortMeridian"),c.meridian));l.tt=i.cache(i.process(l.ctoken2("longMeridian"),c.meridian));l.z=i.cache(i.process(i.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),c.timezone));l.zz=i.cache(i.process(i.rtoken(/^(\+|\-)\s*\d\d\d\d/),c.timezone));
l.zzz=i.cache(i.process(l.ctoken2("timezone"),c.timezone));l.timeSuffix=i.each(i.ignore(l.whiteSpace),i.set([l.tt,l.zzz]));l.time=i.each(i.optional(i.ignore(i.stoken("T"))),l.hms,l.timeSuffix);l.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(l.ctoken2("ordinalSuffix"))),c.day));l.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(l.ctoken2("ordinalSuffix"))),c.day));l.ddd=l.dddd=i.cache(i.process(l.ctoken("sun mon tue wed thu fri sat"),function(j){return function(){this.weekday=
j}}));l.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),c.month));l.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),c.month));l.MMM=l.MMMM=i.cache(i.process(l.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),c.month));l.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),c.year));l.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),c.year));l.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),c.year));l.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),c.year));k=function(){return i.each(i.any.apply(null,arguments),
i.not(l.ctoken2("timeContext")))};l.day=k(l.d,l.dd);l.month=k(l.M,l.MMM);l.year=k(l.yyyy,l.yy);l.orientation=i.process(l.ctoken("past future"),function(j){return function(){this.orient=j}});l.operator=i.process(l.ctoken("add subtract"),function(j){return function(){this.operator=j}});l.rday=i.process(l.ctoken("yesterday tomorrow today now"),c.rday);l.unit=i.process(l.ctoken("minute hour day week month year"),function(j){return function(){this.unit=j}});l.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),
function(j){return function(){this.value=j.replace(/\D/g,"")}});l.expression=i.set([l.rday,l.operator,l.value,l.unit,l.orientation,l.ddd,l.MMM]);k=function(){return i.set(arguments,l.datePartDelimiter)};l.mdy=k(l.ddd,l.month,l.day,l.year);l.ymd=k(l.ddd,l.year,l.month,l.day);l.dmy=k(l.ddd,l.day,l.month,l.year);l.date=function(j){return(l[Date.CultureInfo.dateElementOrder]||l.mdy).call(this,j)};l.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),
function(j){if(l[j])return l[j];else throw Date.Parsing.Exception(j);}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(j){return i.ignore(i.stoken(j))}))),function(j){return i.process(i.each.apply(null,j),c.finishExact)});var e={},m=function(j){return e[j]=e[j]||l.format(j)[0]};l.formats=function(j){if(j instanceof Array){for(var q=[],y=0;y<j.length;y++)q.push(m(j[y]));return i.any.apply(null,q)}else return m(j)};l._formats=l.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz",
"d"]);l._start=i.process(i.set([l.date,l.time,l.expression],l.generalDelimiter,l.whiteSpace),c.finish);l.start=function(j){try{var q=l._formats.call({},j);if(q[1].length===0)return q}catch(y){}return l._start.call({},j)}})();Date._parse=Date.parse;Date.parse=function(b){var i=null;if(!b)return null;try{i=Date.Grammar.start.call({},b)}catch(l){return null}return i[1].length===0?i[0]:null};
Date.getParseFunction=function(b){var i=Date.Grammar.formats(b);return function(l){var c=null;try{c=i.call({},l)}catch(k){return null}return c[1].length===0?c[0]:null}};Date.parseExact=function(b,i){return Date.getParseFunction(i)(b)};
TimeSpan=function(b,i,l,c,k){this.milliseconds=this.seconds=this.minutes=this.hours=this.days=0;if(arguments.length==5){this.days=b;this.hours=i;this.minutes=l;this.seconds=c;this.milliseconds=k}else if(arguments.length==1&&typeof b=="number"){var f=b<0?-1:+1;this.milliseconds=Math.abs(b);this.days=Math.floor(this.milliseconds/864E5)*f;this.milliseconds%=864E5;this.hours=Math.floor(this.milliseconds/36E5)*f;this.milliseconds%=36E5;this.minutes=Math.floor(this.milliseconds/6E4)*f;this.milliseconds%=
6E4;this.seconds=Math.floor(this.milliseconds/1E3)*f;this.milliseconds%=1E3;this.milliseconds*=f;return this}else return null};a=TimeSpan.prototype;a.compare=function(b){var i=new Date(1970,1,1,this.hours(),this.minutes(),this.seconds());b=b===null?new Date(1970,1,1,0,0,0):new Date(1970,1,1,b.hours(),b.minutes(),b.seconds());return i>b?1:i<b?-1:0};a.add=function(b){return b===null?this:this.addSeconds(b.getTotalMilliseconds()/1E3)};
a.subtract=function(b){return b===null?this:this.addSeconds(-b.getTotalMilliseconds()/1E3)};a.addDays=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*24*60*60*1E3)};a.addHours=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*60*60*1E3)};a.addMinutes=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*60*1E3)};a.addSeconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*1E3)};
a.addMilliseconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+b)};a.getTotalMilliseconds=function(){return this.days()*864E5+this.hours()*36E5+this.minutes()*6E4+this.seconds()*1E3};a.get12HourHour=function(){return(h=this.hours()%12)?h:12};a.getDesignator=function(){return this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};
a.toString=function(b){function i(c){return c.toString().length<2?"0"+c:c}var l=this;return b?b.replace(/d|dd|HH|H|hh|h|mm|m|ss|s|tt|t/g,function(c){switch(c){case "d":return l.days();case "dd":return i(l.days());case "H":return l.hours();case "HH":return i(l.hours());case "h":return l.get12HourHour();case "hh":return i(l.get12HourHour());case "m":return l.minutes();case "mm":return i(l.minutes());case "s":return l.seconds();case "ss":return i(l.seconds());case "t":return(this.hours()<12?Date.CultureInfo.amDesignator:
Date.CultureInfo.pmDesignator).substring(0,1);case "tt":return this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};
var TimePeriod=function(b,i){this.milliseconds=this.seconds=this.minutes=this.hours=this.days=this.months=this.years=0;if(arguments.length==2&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var l=b.clone(),c=i.clone(),k=l.clone(),f=l>c?-1:+1;this.years=c.getFullYear()-l.getFullYear();k.addYears(this.years);if(f==+1)k>c&&this.years!==0&&this.years--;else k<c&&this.years!==0&&this.years++;l.addYears(this.years);if(f==+1)for(;l<c&&l.clone().addDays(l.getDaysInMonth())<c;){l.addMonths(1);this.months++}else for(;l>
c&&l.clone().addDays(-l.getDaysInMonth())>c;){l.addMonths(-1);this.months--}l=c-l;if(l!==0){l=new TimeSpan(l);this.days=l.days;this.hours=l.hours;this.minutes=l.minutes;this.seconds=l.seconds;this.milliseconds=l.milliseconds}return this}};
