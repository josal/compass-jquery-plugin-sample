var a;
(function(b){function i(d,g){d._id=d._id||(d.id==aa?"_fc"+Qa++:d.id+"");if(d.date){if(!d.start)d.start=d.date;delete d.date}d._start=G(d.start=hb(d.start));d.end=hb(d.end);if(d.end&&d.end<=d.start)d.end=null;d._end=d.end?G(d.end):null;if(d.allDay==aa)d.allDay=g.allDayDefault;if(d.className){if(typeof d.className=="string")d.className=d.className.split(/\s+/)}else d.className=[]}function m(d,g,o){function n(v,F,ha,Y){Z=v;ca=F;L=g.theme?"ui":"fc";za=g.weekends?0:1;oa=g.firstDay;if(Ha=g.isRTL){La=-1;
Ia=ca-1}else{La=1;Ia=0}var ra=W.start.getMonth(),la=Oa(new Date),fa,X=G(W.visStart);if(ma){B();F=ma.find("tr").length;if(Z<F)ma.find("tr:gt("+(Z-1)+")").remove();else if(Z>F){v="";for(F=F;F<Z;F++){v+="<tr class='fc-week"+F+"'>";for(fa=0;fa<ca;fa++){v+="<td class='fc-"+Ra[X.getDay()]+" "+L+"-state-default fc-new fc-day"+(F*ca+fa)+(fa==Ia?" fc-leftmost":"")+"'>"+(Y?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";C(X,1);za&&
Aa(X)}v+="</tr>"}ma.append(v)}ma.find("td.fc-new").removeClass("fc-new").click(s);X=G(W.visStart);ma.find("td").each(function(){var Ca=b(this);if(Z>1)X.getMonth()==ra?Ca.removeClass("fc-other-month"):Ca.addClass("fc-other-month");+X==+la?Ca.removeClass("fc-not-today").addClass("fc-today").addClass(L+"-state-highlight"):Ca.addClass("fc-not-today").removeClass("fc-today").removeClass(L+"-state-highlight");Ca.find("div.fc-day-number").text(X.getDate());C(X,1);za&&Aa(X)});if(Z==1){X=G(W.visStart);Ba.find("th").each(function(){b(this).text(Ma(X,
ha,g));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+Ra[X.getDay()]);C(X,1);za&&Aa(X)});X=G(W.visStart);ma.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+Ra[X.getDay()]);C(X,1);za&&Aa(X)})}}else{var pa=b("<table/>").appendTo(d);v="<thead><tr>";for(F=0;F<ca;F++){v+="<th class='fc-"+Ra[X.getDay()]+" "+L+"-state-default"+(F==Ia?" fc-leftmost":"")+"'>"+Ma(X,ha,g)+"</th>";C(X,1);za&&Aa(X)}Ba=b(v+"</tr></thead>").appendTo(pa);v="<tbody>";X=G(W.visStart);
for(F=0;F<Z;F++){v+="<tr class='fc-week"+F+"'>";for(fa=0;fa<ca;fa++){v+="<td class='fc-"+Ra[X.getDay()]+" "+L+"-state-default fc-day"+(F*ca+fa)+(fa==Ia?" fc-leftmost":"")+(Z>1&&X.getMonth()!=ra?" fc-other-month":"")+(+X==+la?" fc-today "+L+"-state-highlight":" fc-not-today")+"'>"+(Y?"<div class='fc-day-number'>"+X.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";C(X,1);za&&Aa(X)}v+="</tr>"}ma=b(v+"</tbody>").appendTo(pa);ma.find("td").click(s);
na=b("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(d)}}function s(v){var F=parseInt(this.className.match(/fc\-day(\d+)/)[1]);F=C(G(W.visStart),Math.floor(F/ca)*7+F%ca);W.trigger("dayClick",this,F,true,v)}function z(v){Ga=v;v=ma.find("tr td:first-child");var F=Ga-Ba.height(),ha;if(g.weekMode=="variable")ha=F=Math.floor(F/(Z==1?2:6));else{ha=Math.floor(F/Z);F=F-ha*(Z-1)}if(Va==aa){var Y=ma.find("tr:first").find("td:first");Y.height(ha);Va=ha!=Y.height()}if(Va){v.slice(0,-1).height(ha);
v.slice(-1).height(F)}else{$a(v.slice(0,-1),ha);$a(v.slice(-1),F)}}function w(v){va=v;V.clear();Sa(Ba.find("th").slice(0,-1),Pa=Math.floor(va/ca))}function R(v){W.reportEvents(Fa=v);T(sa(v))}function Q(v){B();T(sa(Fa),v)}function B(){W._clearEvents();na.empty()}function sa(v){var F=G(W.visStart),ha=C(G(F),ca),Y=b.map(v,qa),ra,la,fa,X,pa,Ca,t=[];for(ra=0;ra<Z;ra++){la=l(W.sliceSegs(v,Y,F,ha));for(fa=0;fa<la.length;fa++){X=la[fa];for(pa=0;pa<X.length;pa++){Ca=X[pa];Ca.row=ra;Ca.level=fa;t.push(Ca)}}C(F,
7);C(ha,7)}return t}function T(v,F){c(v,Z,W,0,va,function(ha){return ma.find("tr:eq("+ha+")")},V.left,V.right,na,ba,F)}function qa(v){if(v.end){var F=G(v.end);return v.allDay||F.getHours()||F.getMinutes()?C(F,1):F}else return C(G(v.start),1)}function ba(v,F,ha){W.eventElementHandlers(v,F);if(v.editable||v.editable==aa&&g.editable){Ja(v,F);ha.isEnd&&W.resizableDayEvent(v,F,Pa)}}function Ja(v,F){if(!g.disableDragging&&F.draggable){var ha;F.draggable({zIndex:9,delay:50,opacity:W.option("dragOpacity"),
revertDuration:g.dragRevertDuration,start:function(Y,ra){W.hideEvents(v,F);W.trigger("eventDragStart",F,v,Y,ra);ha=new E(function(la){F.draggable("option","revert",!la||!la.rowDelta&&!la.colDelta);la?W.showOverlay(la):W.hideOverlay()});ma.find("tr").each(function(){ha.row(this)});ra=ma.find("tr:first td");if(Ha)ra=b(ra.get().reverse());ra.each(function(){ha.col(this)});ha.mouse(Y.pageX,Y.pageY)},drag:function(Y){ha.mouse(Y.pageX,Y.pageY)},stop:function(Y,ra){W.hideOverlay();W.trigger("eventDragStop",
F,v,Y,ra);var la=ha.cell;if(!la||!la.rowDelta&&!la.colDelta){b.browser.msie&&F.css("filter","");W.showEvents(v,F)}else{F.find("a").removeAttr("href");W.eventDrop(this,v,la.rowDelta*7+la.colDelta*La,0,v.allDay,Y,ra)}}})}}var L,oa,za,Ha,La,Ia,va,Ga,Z,ca,Pa,Ba,ma,Fa=[],na,V=new ia(function(v){return ma.find("td:eq("+(v-Math.max(oa,za)+ca)%ca+") div div")}),W=b.extend(this,ab,o,{renderGrid:n,renderEvents:R,rerenderEvents:Q,clearEvents:B,setHeight:z,setWidth:w,defaultEventEnd:function(v){return G(v.start)}});
W.init(d,g);d.addClass("fc-grid");d.disableSelection&&d.disableSelection()}function c(d,g,o,n,s,z,w,R,Q,B,sa){var T=o.options,qa=T.isRTL,ba,Ja=d.length,L,oa,za,Ha,La,Ia="",va={},Ga={},Z=[],ca=[];for(ba=0;ba<Ja;ba++){L=d[ba];oa=L.event;za="fc-event fc-event-hori ";if(qa){if(L.isStart)za+="fc-corner-right ";if(L.isEnd)za+="fc-corner-left ";Ha=L.isEnd?w(L.end.getDay()-1):n;La=L.isStart?R(L.start.getDay()):s}else{if(L.isStart)za+="fc-corner-left ";if(L.isEnd)za+="fc-corner-right ";Ha=L.isStart?w(L.start.getDay()):
n;La=L.isEnd?R(L.end.getDay()-1):s}Ia+="<div class='"+za+oa.className.join(" ")+"' style='position:absolute;z-index:8;left:"+Ha+"px'><a"+(oa.url?" href='"+xa(oa.url)+"'":"")+">"+(!oa.allDay&&L.isStart?"<span class='fc-event-time'>"+xa(Wa(oa.start,oa.end,o.option("timeFormat"),T))+"</span>":"")+"<span class='fc-event-title'>"+xa(oa.title)+"</span></a>"+((oa.editable||oa.editable==aa&&T.editable)&&!T.disableResizing&&b.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(qa?"w":"e")+"'></div>":
"")+"</div>";L.left=Ha;L.outerWidth=La-Ha}Q[0].innerHTML=Ia;s=Q.children();for(ba=0;ba<Ja;ba++){L=d[ba];n=b(s[ba]);oa=L.event;w=o.trigger("eventRender",oa,oa,n);if(w===false)n.remove();else{if(w&&w!==true){n.remove();n=b(w).css({position:"absolute",left:L.left}).appendTo(Q)}L.element=n;if(oa._id===sa)B(oa,n,L);else n[0]._fci=ba;o.reportEventElement(oa,n)}}e(Q,d,B);for(ba=0;ba<Ja;ba++){L=d[ba];if(n=L.element){B=va[Q=L.key=ya(n[0])];L.hsides=B==aa?(va[Q]=bb(n[0],true)):B}}for(ba=0;ba<Ja;ba++){L=d[ba];
if(n=L.element)n[0].style.width=L.outerWidth-L.hsides+"px"}for(ba=0;ba<Ja;ba++){L=d[ba];if(n=L.element){B=Ga[Q=L.key];L.outerHeight=n[0].offsetHeight+(B==aa?(Ga[Q]=eb(n[0])):B)}}for(va=ba=0;va<g;va++){for(Ga=Q=B=0;ba<Ja&&(L=d[ba]).row==va;){if(L.level!=Q){Ga+=B;B=0;Q++}B=Math.max(B,L.outerHeight||0);L.top=Ga;ba++}Z[va]=z(va).find("td:first div.fc-day-content > div").height(Ga+B)}for(va=0;va<g;va++)ca[va]=Z[va][0].offsetTop;for(ba=0;ba<Ja;ba++){L=d[ba];if(n=L.element){n[0].style.top=ca[L.row]+L.top+
"px";oa=L.event;o.trigger("eventAfterRender",oa,oa,n)}}}function k(d,g,o){function n(p,u){Fa=p;fa=g.theme?"ui":"fc";pa=g.weekends?0:1;X=g.firstDay;if(Ca=g.isRTL){t=-1;N=Fa-1}else{t=1;N=0}da=ib(g.minTime);$=ib(g.maxTime);p=Ca?C(G(I.visEnd),-1):G(I.visStart);var x=G(p),S=Oa(new Date);if(Z){sa();Z.find("tr:first th").slice(1,-1).each(function(){b(this).text(Ma(x,u,g));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+Ra[x.getDay()]);C(x,t);pa&&Aa(x,t)});x=G(p);ma.find("td").each(function(){this.className=
this.className.replace(/^fc-\w+(?= )/,"fc-"+Ra[x.getDay()]);+x==+S?b(this).removeClass("fc-not-today").addClass("fc-today").addClass(fa+"-state-highlight"):b(this).addClass("fc-not-today").removeClass("fc-today").removeClass(fa+"-state-highlight");C(x,t);pa&&Aa(x,t)})}else{var A,K,M=g.slotMinutes%15==0,U="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(g.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+fa+"-state-default'>&nbsp;</th>";
for(A=0;A<Fa;A++){U+="<th class='fc-"+Ra[x.getDay()]+" "+fa+"-state-default'>"+Ma(x,u,g)+"</th>";C(x,t);pa&&Aa(x,t)}U+="<th class='"+fa+"-state-default'>&nbsp;</th></tr>";if(g.allDaySlot)U+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+fa+"-state-default'>"+g.allDayText+"</th><td colspan='"+Fa+"' class='"+fa+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+fa+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+
(Fa+2)+"' class='"+fa+"-state-default fc-leftmost'><div/></th></tr>";U+="</table></div>";Z=b(U).appendTo(d);Z.find("td").click(R);ra=b("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Z);x=Xa();var ja=J(G(x),$);J(x,da);U="<table>";for(A=0;x<ja;A++){K=x.getMinutes();U+="<tr class='"+(A==0?"fc-first":K==0?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+fa+"-state-default'>"+(!M||K==0?Ma(x,g.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+A+" "+fa+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";
J(x,g.slotMinutes)}U+="</table>";ca=b("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(Pa=b("<div style='position:relative;overflow:hidden'>").append(Ba=b(U))).appendTo(d);ca.find("td").click(R);la=b("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Pa);x=G(p);U="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(A=0;A<Fa;A++){U+="<td class='fc-"+Ra[x.getDay()]+" "+
fa+"-state-default "+(A==0?"fc-leftmost ":"")+(+x==+S?fa+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";C(x,t);pa&&Aa(x,t)}U+="</tr></table></div>";ma=b(U).appendTo(d)}}function s(){var p=Xa(),u=G(p);u.setHours(g.firstHour);var x=va(p,u)+1;p=function(){ca.scrollTop(x)};p();setTimeout(p,0)}function z(p,u){F=p;Da={};ca.height(p-Z.height());W=ca.find("tr:first div").height()+1;ma.css({top:Z.find("tr").height(),height:p});u&&s()}function w(p){v=
p;Ka.clear();ca.width(p);Ba.width("");p=Z.find("tr:first th");var u=ma.find("td"),x=ca[0].clientWidth;Ba.width(x);na=0;Sa(Z.find("tr:lt(2) th:first").add(ca.find("tr:first th")).width("").each(function(){na=Math.max(na,b(this).outerWidth())}),na);V=Math.floor((x-na)/Fa);Sa(u.slice(0,-1),V);Sa(p.slice(1,-2),V);Sa(p.slice(-2,-1),x-na-V*(Fa-1));ma.css({left:na,width:x-na})}function R(p){var u=Math.floor((p.pageX-ma.offset().left)/V);u=C(G(I.visStart),N+t*u);var x=this.className.match(/fc-slot(\d+)/);
if(x){x=parseInt(x[1])*g.slotMinutes;var S=Math.floor(x/60);u.setHours(S);u.setMinutes(x%60+da);I.trigger("dayClick",this,u,false,p)}else I.trigger("dayClick",this,u,true,p)}function Q(p,u){I.reportEvents(Y=p);var x,S=p.length,A=[],K=[];for(x=0;x<S;x++)p[x].allDay?A.push(p[x]):K.push(p[x]);ba(T(A),u);Ja(qa(K),u)}function B(p){sa();Q(Y,p)}function sa(){I._clearEvents();ra.empty();la.empty()}function T(p){p=l(I.sliceSegs(p,b.map(p,L),I.visStart,I.visEnd));var u,x=p.length,S,A,K,M=[];for(u=0;u<x;u++){S=
p[u];for(A=0;A<S.length;A++){K=S[A];K.row=0;K.level=u;M.push(K)}}return M}function qa(p){var u=J(G(I.visStart),da),x=b.map(p,L),S,A,K,M,U,ja,ta=[];for(S=0;S<Fa;S++){A=l(I.sliceSegs(p,x,u,J(G(u),$-da)));f(A);for(K=0;K<A.length;K++){M=A[K];for(U=0;U<M.length;U++){ja=M[U];ja.col=S;ja.level=K;ta.push(ja)}}C(u,1,true)}return ta}function ba(p,u){if(g.allDaySlot){c(p,1,I,na,v,function(){return Z.find("tr.fc-all-day")},function(x){return na+Ka.left(Ga(x))},function(x){return na+Ka.right(Ga(x))},ra,oa,u);
z(F)}}function Ja(p,u){var x,S=p.length,A,K,M,U,ja,ta,ka,Ea,Ta,Ua,jb="",fb={},kb={};for(x=0;x<S;x++){A=p[x];K=A.event;M="fc-event fc-event-vert ";if(A.isStart)M+="fc-corner-top ";if(A.isEnd)M+="fc-corner-bottom ";U=va(A.start,A.start);ja=va(A.start,A.end);ta=A.col;ka=A.level;Ea=A.forward||0;Ta=na+Ka.left(ta*t+N);Ua=na+Ka.right(ta*t+N)-Ta;Ua=Math.min(Ua-6,Ua*0.95);ta=ka?Ua/(ka+Ea+1):Ea?(Ua/(Ea+1)-6)*2:Ua;ka=Ta+Ua/(ka+Ea+1)*ka*t+(Ca?Ua-ta:0);A.top=U;A.left=ka;A.outerWidth=ta;A.outerHeight=ja-U;jb+=
"<div class='"+M+K.className.join(" ")+"' style='position:absolute;z-index:8;top:"+U+"px;left:"+ka+"px'><a"+(K.url?" href='"+xa(K.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+xa(Wa(K.start,K.end,I.option("timeFormat")))+"</span><span class='fc-event-title'>"+xa(K.title)+"</span></a>"+((K.editable||K.editable==aa&&g.editable)&&!g.disableResizing&&b.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}la[0].innerHTML=jb;U=la.children();
for(x=0;x<S;x++){A=p[x];K=A.event;M=b(U[x]);ja=I.trigger("eventRender",K,K,M);if(ja===false)M.remove();else{if(ja&&ja!==true){M.remove();M=b(ja).css({position:"absolute",top:A.top,left:A.left}).appendTo(la)}A.element=M;if(K._id===u)za(K,M,A);else M[0]._fci=x;I.reportEventElement(K,M)}}e(la,p,za);for(x=0;x<S;x++){A=p[x];if(M=A.element){u=fb[K=A.key=ya(M[0])];A.vsides=u==aa?(fb[K]=cb(M[0],true)):u;u=kb[K];A.hsides=u==aa?(kb[K]=bb(M[0],true)):u;K=M.find("span.fc-event-title");if(K.length)A.titleTop=
K[0].offsetTop}}for(x=0;x<S;x++){A=p[x];if(M=A.element){M[0].style.width=A.outerWidth-A.hsides+"px";M[0].style.height=(fb=A.outerHeight-A.vsides)+"px";K=A.event;if(A.titleTop!=aa&&fb-A.titleTop<10){M.find("span.fc-event-time").text(Ma(K.start,I.option("timeFormat"))+" - "+K.title);M.find("span.fc-event-title").remove()}I.trigger("eventAfterRender",K,K,M)}}}function L(p){if(p.allDay)if(p.end){var u=G(p.end);return p.allDay||u.getHours()||u.getMinutes()?C(u,1):u}else return C(G(p.start),1);return p.end?
G(p.end):J(G(p.start),g.defaultEventMinutes)}function oa(p,u,x){I.eventElementHandlers(p,u);if(p.editable||p.editable==aa&&g.editable){Ha(p,u,x.isStart);x.isEnd&&I.resizableDayEvent(p,u,V)}}function za(p,u,x){I.eventElementHandlers(p,u);if(p.editable||p.editable==aa&&g.editable){var S=u.find("span.fc-event-time");La(p,u,S);x.isEnd&&Ia(p,u,S)}}function Ha(p,u,x){if(!g.disableDragging&&u.draggable){var S,A,K,M=true,U;u.draggable({zIndex:9,opacity:I.option("dragOpacity","month"),revertDuration:g.dragRevertDuration,
start:function(ja,ta){I.hideEvents(p,u);I.trigger("eventDragStart",u,p,ja,ta);S=u.position();A=u.width();K=function(){if(!M){u.width(A).height("").draggable("option","grid",null);M=true}};U=new E(function(ka){u.draggable("option","revert",!ka||!ka.rowDelta&&!ka.colDelta);if(ka)if(ka.row){if(x&&M){$a(u.width(V-10),W*Math.round((p.end?(p.end-p.start)/lb:g.defaultEventMinutes)/g.slotMinutes));u.draggable("option","grid",[V,1]);M=false}I.hideOverlay()}else{K();I.showOverlay(ka)}else I.hideOverlay()});
U.row(Z.find("td"));ma.find("td").each(function(){U.col(this)});U.row(ca);U.mouse(ja.pageX,ja.pageY)},drag:function(ja){U.mouse(ja.pageX,ja.pageY)},stop:function(ja,ta){I.hideOverlay();I.trigger("eventDragStop",u,p,ja,ta);var ka=U.cell,Ea=t*(M?ka?ka.colDelta:0:Math.floor((ta.position.left-S.left)/V));if(!ka||!Ea&&!ka.rowDelta){K();b.browser.msie&&u.css("filter","");I.showEvents(p,u)}else{u.find("a").removeAttr("href");I.eventDrop(this,p,Ea,M?0:Math.round((u.offset().top-Pa.offset().top)/W)*g.slotMinutes+
da-(p.start.getHours()*60+p.start.getMinutes()),M,ja,ta)}}})}}function La(p,u,x){if(!g.disableDragging&&u.draggable){var S,A,K,M,U=false,ja;u.draggable({zIndex:9,scroll:false,grid:[V,W],axis:Fa==1?"y":false,opacity:I.option("dragOpacity"),revertDuration:g.dragRevertDuration,start:function(ta,ka){I.hideEvents(p,u);I.trigger("eventDragStart",u,p,ta,ka);b.browser.msie&&u.find("span.fc-event-bg").hide();S=u.position();A=function(){if(U){x.css("display","");u.draggable("option","grid",[V,W]);U=false}};
K=0;ja=new E(function(Ea){u.draggable("option","revert",!Ea);if(Ea)if(!Ea.row&&g.allDaySlot){if(!U){U=true;x.hide();u.draggable("option","grid",null)}I.showOverlay(Ea)}else{A();I.hideOverlay()}else I.hideOverlay()});g.allDaySlot&&ja.row(Z.find("td"));ma.find("td").each(function(){ja.col(this)});ja.row(ca);ja.mouse(ta.pageX,ta.pageY)},drag:function(ta,ka){M=Math.round((ka.position.top-S.top)/W);if(M!=K){if(!U){ka=M*g.slotMinutes;var Ea=J(G(p.start),ka),Ta;if(p.end)Ta=J(G(p.end),ka);x.text(Wa(Ea,Ta,
I.option("timeFormat")))}K=M}ja.mouse(ta.pageX,ta.pageY)},stop:function(ta,ka){I.hideOverlay();I.trigger("eventDragStop",u,p,ta,ka);var Ea=ja.cell,Ta=t*(U?Ea?Ea.colDelta:0:Math.floor((ka.position.left-S.left)/V));if(!Ea||!M&&!Ta){A();b.browser.msie&&u.css("filter","").find("span.fc-event-bg").css("display","");u.css(S);I.showEvents(p,u)}else I.eventDrop(this,p,Ta,U?0:M*g.slotMinutes,U,ta,ka)}})}}function Ia(p,u,x){if(!g.disableResizing&&u.resizable){var S,A;u.resizable({handles:{s:"div.ui-resizable-s"},
grid:W,start:function(K,M){S=A=0;I.hideEvents(p,u);b.browser.msie&&b.browser.version=="6.0"&&u.css("overflow","hidden");u.css("z-index",9);I.trigger("eventResizeStart",this,p,K,M)},resize:function(K,M){S=Math.round((Math.max(W,u.height())-M.originalSize.height)/W);if(S!=A){x.text(Wa(p.start,!S&&!p.end?null:J(I.eventEnd(p),g.slotMinutes*S),I.option("timeFormat")));A=S}},stop:function(K,M){I.trigger("eventResizeStop",this,p,K,M);if(S)I.eventResize(this,p,0,g.slotMinutes*S,K,M);else{u.css("z-index",
8);I.showEvents(p,u)}}})}}function va(p,u){p=G(p,true);if(u<J(G(p),da))return 0;if(u>=J(G(p),$))return Pa.height();p=g.slotMinutes;u=u.getHours()*60+u.getMinutes()-da;var x=Math.floor(u/p),S=Da[x];if(S==aa)S=Da[x]=ca.find("tr:eq("+x+") td div")[0].offsetTop;return Math.max(0,Math.round(S-1+W*(u%p/p)))}function Ga(p){return(p-Math.max(X,pa)+Fa)%Fa*t+N}var Z,ca,Pa,Ba,ma,Fa,na,V,W,v,F,ha,Y=[],ra,la,fa,X,pa,Ca,t,N,da,$,Ka=new ia(function(p){return ma.find("td:eq("+p+") div div")}),Da={},I=b.extend(this,
ab,o,{renderAgenda:n,renderEvents:Q,rerenderEvents:B,clearEvents:sa,setHeight:z,setWidth:w,beforeHide:function(){ha=ca.scrollTop()},afterShow:function(){ca.scrollTop(ha)},defaultEventEnd:function(p){var u=G(p.start);if(p.allDay)return u;return J(u,g.defaultEventMinutes)}});I.init(d,g);d.addClass("fc-agenda");d.disableSelection&&d.disableSelection()}function f(d){var g,o,n,s,z,w;for(g=d.length-1;g>0;g--){s=d[g];for(o=0;o<s.length;o++){z=s[o];for(n=0;n<d[g-1].length;n++){w=d[g-1][n];if(q(z,w))w.forward=
Math.max(w.forward||0,(z.forward||0)+1)}}}}function e(d,g,o){d.unbind("mouseover").mouseover(function(n){for(var s=n.target,z;s!=this;){z=s;s=s.parentNode}if((s=z._fci)!=aa){z._fci=aa;z=g[s];o(z.event,z.element,z);b(n.target).trigger(n)}n.stopPropagation()})}function l(d){var g=[],o,n=d.length,s,z,w,R;for(o=0;o<n;o++){s=d[o];for(z=0;;){w=false;if(g[z])for(R=0;R<g[z].length;R++)if(q(g[z][R],s)){w=true;break}if(w)z++;else break}if(g[z])g[z].push(s);else g[z]=[s]}return g}function j(d,g){return(g.msLength-
d.msLength)*100+(d.event.start-g.event.start)}function q(d,g){return d.end>g.start&&d.start<g.end}function y(d,g,o){d.setFullYear(d.getFullYear()+g);o||Oa(d);return d}function O(d,g,o){if(+d){g=d.getMonth()+g;var n=G(d);n.setDate(1);n.setMonth(g);d.setMonth(g);for(o||Oa(d);d.getMonth()!=n.getMonth();)d.setDate(d.getDate()+(d<n?1:-1))}return d}function C(d,g,o){if(+d){g=d.getDate()+g;var n=G(d);n.setHours(9);n.setDate(g);d.setDate(g);o||Oa(d);ga(d,n)}return d}function ga(d,g){if(+d)for(;d.getDate()!=
g.getDate();)d.setTime(+d+(d<g?1:-1)*mb)}function J(d,g){d.setMinutes(d.getMinutes()+g);return d}function Oa(d){d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0);return d}function G(d,g){if(g)return Oa(new Date(+d));return new Date(+d)}function Xa(){var d=0,g;do g=new Date(1970,d++,1);while(g.getHours()!=0);return g}function Aa(d,g,o){for(g=g||1;d.getDay()==0||o&&d.getDay()==1||!o&&d.getDay()==6;)C(d,g);return d}function Sa(d,g,o){d.each(function(n,s){s.style.width=g-bb(s,o)+"px"})}
function $a(d,g,o){d.each(function(n,s){s.style.height=g-cb(s,o)+"px"})}function bb(d,g){return(parseFloat(jQuery.curCSS(d,"paddingLeft",true))||0)+(parseFloat(jQuery.curCSS(d,"paddingRight",true))||0)+(parseFloat(jQuery.curCSS(d,"borderLeftWidth",true))||0)+(parseFloat(jQuery.curCSS(d,"borderRightWidth",true))||0)+(g?Ya(d):0)}function Ya(d){return(parseFloat(jQuery.curCSS(d,"marginLeft",true))||0)+(parseFloat(jQuery.curCSS(d,"marginRight",true))||0)}function cb(d,g){return(parseFloat(jQuery.curCSS(d,
"paddingTop",true))||0)+(parseFloat(jQuery.curCSS(d,"paddingBottom",true))||0)+(parseFloat(jQuery.curCSS(d,"borderTopWidth",true))||0)+(parseFloat(jQuery.curCSS(d,"borderBottomWidth",true))||0)+(g?eb(d):0)}function eb(d){return(parseFloat(jQuery.curCSS(d,"marginTop",true))||0)+(parseFloat(jQuery.curCSS(d,"marginBottom",true))||0)}function db(d,g){g=typeof g=="number"?g+"px":g;d[0].style.cssText+=";min-height:"+g+";_height:"+g}function D(d){if(gb!==false){var g;if(d.is("th,td"))d=(g=d).parent();if(gb==
aa&&d.is("tr"))gb=d.position().top!=d.children().position().top;if(gb)return d.parent().position().top+(g?d.position().top-g.position().top:0)}return 0}function E(d){var g=this,o=[],n=[],s,z,w,R,Q,B;g.row=function(sa){s=b(sa);o.push(s.offset().top+D(s))};g.col=function(sa){z=b(sa);n.push(z.offset().left)};g.mouse=function(sa,T){if(w==aa){o.push(o[o.length-1]+s.outerHeight());n.push(n[n.length-1]+z.outerWidth());Q=B=-1}var qa;for(qa=0;qa<o.length&&T>=o[qa];qa++);for(T=0;T<n.length&&sa>=n[T];T++);qa=
qa>=o.length?-1:qa-1;T=T>=n.length?-1:T-1;if(qa!=Q||T!=B){Q=qa;B=T;if(qa==-1||T==-1)g.cell=null;else{if(w==aa){w=qa;R=T}g.cell={row:qa,col:T,top:o[qa],left:n[T],width:n[T+1]-n[T],height:o[qa+1]-o[qa],isOrig:qa==w&&T==R,rowDelta:qa-w,colDelta:T-R}}d(g.cell)}}}function H(d){return(d<10?"0":"")+d}function wa(d,g){if(d[g]!=aa)return d[g];g=g.split(/(?=[A-Z])/);for(var o=g.length-1,n;o>=0;o--){n=d[g[o].toLowerCase()];if(n!=aa)return n}return d[""]}function xa(d){return d.replace(/&/g,"&amp;").replace(/</g,
"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")}function ia(d){function g(w){return n[w]=n[w]||d(w)}var o=this,n={},s={},z={};o.left=function(w){return s[w]=s[w]==aa?g(w).position().left:s[w]};o.right=function(w){return z[w]=z[w]==aa?o.left(w)+g(w).width():z[w]};o.clear=function(){n={};s={};z={}}}function ya(d){return d.id+"/"+d.className+"/"+d.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}var P=b.fullCalendar={},ea=P.views={},Na={defaultView:"month",
aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"}},ua={header:{left:"next,prev today",center:"",
right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Za=P.setDefaults=function(d){b.extend(true,Na,d)};b.fn.fullCalendar=function(d){if(typeof d=="string"){var g=Array.prototype.slice.call(arguments,1),o;this.each(function(){var z=b.data(this,"fullCalendar");if(z){z=z[d].apply(this,g);if(o==aa)o=z}});if(o!=aa)return o;return this}var n=d.eventSources||
[];delete d.eventSources;if(d.events){n.push(d.events);delete d.events}n.unshift([]);d=b.extend(true,{},Na,d.isRTL||d.isRTL==aa&&Na.isRTL?ua:{},d);var s=d.theme?"ui":"fc";this.each(function(){function z(t){if(t!=W){na++;var N=v,da;if(N){if(N.eventsChanged){sa();N.eventDirty=N.eventsChanged=false}N.beforeHide&&N.beforeHide();db(Ba,Ba.height());N.element.hide()}else db(Ba,1);Ba.css("overflow","hidden");if(F[t])(v=F[t]).element.show();else v=F[t]=b.fullCalendar.views[t](da=ha=b("<div class='fc-view fc-view-"+
t+"' style='position:absolute'/>").appendTo(Ba),d);if(pa){pa.find("div.fc-button-"+W).removeClass(s+"-state-active");pa.find("div.fc-button-"+t).addClass(s+"-state-active")}v.name=W=t;w();Ba.css("overflow","");N&&db(Ba,1);!da&&v.afterShow&&v.afterShow();na--}}function w(t){if(R()){na++;ma==aa&&La();if(!v.start||t||V<v.start||V>=v.end){v.render(V,t||0);Ia(true);!ra||!d.lazyFetching||v.visStart<ra||v.visEnd>la?L():v.renderEvents(Y)}else if(v.sizeDirty||v.eventsDirty||!d.lazyFetching){v.clearEvents();
v.sizeDirty&&Ia();d.lazyFetching?v.renderEvents(Y):L()}Pa=ca.outerWidth();v.sizeDirty=false;v.eventsDirty=false;if(pa){pa.find("h2.fc-header-title").html(v.title);t=new Date;t>=v.start&&t<v.end?pa.find("div.fc-button-today").addClass(s+"-state-disabled"):pa.find("div.fc-button-today").removeClass(s+"-state-disabled")}na--;v.trigger("viewDisplay",Z)}}function R(){return Z.offsetWidth!==0}function Q(){return b("body")[0].offsetWidth!==0}function B(){sa();if(R()){v.clearEvents();v.renderEvents(Y);v.eventsDirty=
false}}function sa(){b.each(F,function(){this.eventsDirty=true})}function T(){qa();if(R()){La();Ia();v.rerenderEvents();v.sizeDirty=false}}function qa(){b.each(F,function(){this.sizeDirty=true})}function ba(t){Y=[];ra=G(v.visStart);la=G(v.visEnd);for(var N=n.length,da=function(){--N==0&&t&&t(Y)},$=0;$<n.length;$++)Ja(n[$],da)}function Ja(t,N){var da=v.name,$=G(V),Ka=function(p){if(da==v.name&&+$==+V&&b.inArray(t,n)!=-1){for(var u=0;u<p.length;u++){i(p[u],d);p[u].source=t}Y=Y.concat(p);N&&N(p)}},Da=
function(p){Ka(p);za()};if(typeof t=="string"){var I={};I[d.startParam]=Math.round(ra.getTime()/1E3);I[d.endParam]=Math.round(la.getTime()/1E3);if(d.cacheParam)I[d.cacheParam]=(new Date).getTime();oa();b.ajax({url:t,dataType:"json",data:I,cache:d.cacheParam||false,success:Da})}else if(b.isFunction(t)){oa();t(G(ra),G(la),Da)}else Ka(t)}function L(){ba(function(t){v.renderEvents(t)})}function oa(){fa++||v.trigger("loading",Z,true)}function za(){--fa||v.trigger("loading",Z,false)}function Ha(t){if(t){var N=
b("<tr/>");b.each(t.split(" "),function(da){da>0&&N.append("<td><span class='fc-header-space'/></td>");var $;b.each(this.split(","),function(Ka,Da){if(Da=="title"){N.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");$&&$.addClass(s+"-corner-right");$=null}else{var I;if(X[Da])I=X[Da];else if(ea[Da])I=function(){p.removeClass(s+"-state-hover");z(Da)};if(I){$&&$.addClass(s+"-no-right");var p;Ka=d.theme?wa(d.buttonIcons,Da):null;var u=wa(d.buttonText,Da);if(Ka)p=b("<div class='fc-button-"+Da+
" ui-state-default'><a><span class='ui-icon ui-icon-"+Ka+"'/></a></div>");else if(u)p=b("<div class='fc-button-"+Da+" "+s+"-state-default'><a><span>"+u+"</span></a></div>");if(p){p.click(function(){p.hasClass(s+"-state-disabled")||I()}).mousedown(function(){p.not("."+s+"-state-active").not("."+s+"-state-disabled").addClass(s+"-state-down")}).mouseup(function(){p.removeClass(s+"-state-down")}).hover(function(){p.not("."+s+"-state-active").not("."+s+"-state-disabled").addClass(s+"-state-hover")},function(){p.removeClass(s+
"-state-hover").removeClass(s+"-state-down")}).appendTo(b("<td/>").appendTo(N));$?$.addClass(s+"-no-right"):p.addClass(s+"-corner-left");$=p}}}});$&&$.addClass(s+"-corner-right")});return b("<table/>").append(N)}}function La(){ma=d.contentHeight?d.contentHeight:d.height?d.height-(pa?pa.height():0)-cb(Ba[0]):Math.round(Ba.width()/Math.max(d.aspectRatio,0.5))}function Ia(t){na++;v.setHeight(ma,t);if(ha){ha.css("position","relative");ha=null}v.setWidth(Ba.width(),t);na--}function va(){if(!na)if(v.start){var t=
++Fa;setTimeout(function(){if(t==Fa&&!na&&R())if(Pa!=(Pa=ca.outerWidth())){na++;T();v.trigger("windowResize",Z);na--}},200)}else Ga()}function Ga(){setTimeout(function(){!v.start&&Q()&&w()},0)}var Z=this,ca=b(Z).addClass("fc"),Pa,Ba=b("<div class='fc-content "+s+"-widget-content' style='position:relative'/>").prependTo(Z),ma,Fa=0,na=0,V=new Date,W,v,F={},ha;d.isRTL&&ca.addClass("fc-rtl");d.theme&&ca.addClass("ui-widget");if(d.year!=aa&&d.year!=V.getFullYear()){V.setDate(1);V.setMonth(0);V.setFullYear(d.year)}if(d.month!=
aa&&d.month!=V.getMonth()){V.setDate(1);V.setMonth(d.month)}d.date!=aa&&V.setDate(d.date);var Y=[],ra,la,fa=0,X={render:function(){La();qa();sa();w()},changeView:z,getView:function(){return v},getDate:function(){return V},option:function(t,N){if(N==aa)return d[t];if(t=="height"||t=="contentHeight"||t=="aspectRatio"){d[t]=N;T()}},destroy:function(){b(window).unbind("resize",va);pa&&pa.remove();Ba.remove();b.removeData(Z,"fullCalendar")},prev:function(){w(-1)},next:function(){w(1)},prevYear:function(){y(V,
-1);w()},nextYear:function(){y(V,1);w()},today:function(){V=new Date;w()},gotoDate:function(t,N,da){if(typeof t=="object")V=G(t);else{t!=aa&&V.setFullYear(t);N!=aa&&V.setMonth(N);da!=aa&&V.setDate(da)}w()},incrementDate:function(t,N,da){t!=aa&&y(V,t);N!=aa&&O(V,N);da!=aa&&C(V,da);w()},updateEvent:function(t){var N,da=Y.length,$,Ka=t.start-t._start,Da=t.end?t.end-(t._end||v.defaultEventEnd(t)):0;for(N=0;N<da;N++){$=Y[N];if($._id==t._id&&$!=t){$.start=new Date(+$.start+Ka);$.end=t.end?$.end?new Date(+$.end+
Da):new Date(+v.defaultEventEnd($)+Da):null;$.title=t.title;$.url=t.url;$.allDay=t.allDay;$.className=t.className;$.editable=t.editable;i($,d)}}i(t,d);B()},renderEvent:function(t,N){i(t,d);if(!t.source){if(N)(t.source=n[0]).push(t);Y.push(t)}B()},removeEvents:function(t){if(t){if(!b.isFunction(t)){var N=t+"";t=function($){return $._id==N}}Y=b.grep(Y,t,true);for(da=0;da<n.length;da++)if(typeof n[da]=="object")n[da]=b.grep(n[da],t,true)}else{Y=[];for(var da=0;da<n.length;da++)if(typeof n[da]=="object")n[da]=
[]}B()},clientEvents:function(t){if(b.isFunction(t))return b.grep(Y,t);else if(t){t+="";return b.grep(Y,function(N){return N._id==t})}return Y},rerenderEvents:B,addEventSource:function(t){n.push(t);Ja(t,B)},removeEventSource:function(t){n=b.grep(n,function(N){return N!=t});Y=b.grep(Y,function(N){return N.source!=t});B()},refetchEvents:function(){ba(B)}};b.data(this,"fullCalendar",X);var pa,Ca=d.header;if(Ca)pa=b("<table class='fc-header'/>").append(b("<tr/>").append(b("<td class='fc-header-left'/>").append(Ha(Ca.left))).append(b("<td class='fc-header-center'/>").append(Ha(Ca.center))).append(b("<td class='fc-header-right'/>").append(Ha(Ca.right)))).prependTo(ca);
b(window).resize(va);z(d.defaultView);Q()||Ga()});return this};var Qa=0;Za({weekMode:"fixed"});ea.month=function(d,g){return new m(d,g,{render:function(o,n){if(n){O(o,n);o.setDate(1)}o=this.start=G(o,true);o.setDate(1);this.end=O(G(o),1);var s=this.visStart=G(o);n=this.visEnd=G(this.end);var z=g.weekends?0:1;if(z){Aa(s);Aa(n,-1,true)}C(s,-((s.getDay()-Math.max(g.firstDay,z)+7)%7));C(n,(7-n.getDay()+Math.max(g.firstDay,z))%7);s=Math.round((n-s)/(nb*7));if(g.weekMode=="fixed"){C(n,(6-s)*7);s=6}this.title=
Ma(o,this.option("titleFormat"),g);this.renderGrid(s,g.weekends?7:5,this.option("columnFormat"),true)}})};ea.basicWeek=function(d,g){return new m(d,g,{render:function(o,n){n&&C(o,n*7);o=this.visStart=G(this.start=C(G(o),-((o.getDay()-g.firstDay+7)%7)));n=this.visEnd=G(this.end=C(G(o),7));if(!g.weekends){Aa(o);Aa(n,-1,true)}this.title=Wa(o,C(G(n),-1),this.option("titleFormat"),g);this.renderGrid(1,g.weekends?7:5,this.option("columnFormat"),false)}})};ea.basicDay=function(d,g){return new m(d,g,{render:function(o,
n){if(n){C(o,n);g.weekends||Aa(o,n<0?-1:1)}this.title=Ma(o,this.option("titleFormat"),g);this.start=this.visStart=G(o,true);this.end=this.visEnd=C(G(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false)}})};var Va;Za({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});ea.agendaWeek=function(d,g){return new k(d,g,{render:function(o,n){n&&C(o,
n*7);o=this.visStart=G(this.start=C(G(o),-((o.getDay()-g.firstDay+7)%7)));n=this.visEnd=G(this.end=C(G(o),7));if(!g.weekends){Aa(o);Aa(n,-1,true)}this.title=Wa(o,C(G(n),-1),this.option("titleFormat"),g);this.renderAgenda(g.weekends?7:5,this.option("columnFormat"))}})};ea.agendaDay=function(d,g){return new k(d,g,{render:function(o,n){if(n){C(o,n);g.weekends||Aa(o,n<0?-1:1)}this.title=Ma(o,this.option("titleFormat"),g);this.start=this.visStart=G(o,true);this.end=this.visEnd=C(G(this.start),1);this.renderAgenda(1,
this.option("columnFormat"))}})};var ab={init:function(d,g){this.element=d;this.options=g;this.eventsByID={};this.eventElements=[];this.eventElementsByID={}},trigger:function(d,g){if(this.options[d])return this.options[d].apply(g||this,Array.prototype.slice.call(arguments,2).concat([this]))},eventEnd:function(d){return d.end?G(d.end):this.defaultEventEnd(d)},reportEvents:function(d){var g,o=d.length,n,s=this.eventsByID={};for(g=0;g<o;g++){n=d[g];if(s[n._id])s[n._id].push(n);else s[n._id]=[n]}},reportEventElement:function(d,
g){this.eventElements.push(g);var o=this.eventElementsByID;if(o[d._id])o[d._id].push(g);else o[d._id]=[g]},_clearEvents:function(){this.eventElements=[];this.eventElementsByID={}},showEvents:function(d,g){this._eee(d,g,"show")},hideEvents:function(d,g){this._eee(d,g,"hide")},_eee:function(d,g,o){d=this.eventElementsByID[d._id];var n,s=d.length;for(n=0;n<s;n++)d[n][0]!=g[0]&&d[n][o]()},eventDrop:function(d,g,o,n,s,z,w){var R=this,Q=g.allDay,B=g._id;R.moveEvents(R.eventsByID[B],o,n,s);R.trigger("eventDrop",
d,g,o,n,s,function(){R.moveEvents(R.eventsByID[B],-o,-n,Q);R.rerenderEvents()},z,w);R.eventsChanged=true;R.rerenderEvents(B)},eventResize:function(d,g,o,n,s,z){var w=this,R=g._id;w.elongateEvents(w.eventsByID[R],o,n);w.trigger("eventResize",d,g,o,n,function(){w.elongateEvents(w.eventsByID[R],-o,-n);w.rerenderEvents()},s,z);w.eventsChanged=true;w.rerenderEvents(R)},moveEvents:function(d,g,o,n){o=o||0;for(var s,z=d.length,w=0;w<z;w++){s=d[w];if(n!=aa)s.allDay=n;J(C(s.start,g,true),o);if(s.end)s.end=
J(C(s.end,g,true),o);i(s,this.options)}},elongateEvents:function(d,g,o){o=o||0;for(var n,s=d.length,z=0;z<s;z++){n=d[z];n.end=J(C(this.eventEnd(n),g,true),o);i(n,this.options)}},showOverlay:function(d){if(!this.dayOverlay)this.dayOverlay=b("<div class='fc-cell-overlay' style='position:absolute;z-index:3;display:none'/>").appendTo(this.element);var g=this.element.offset();this.dayOverlay.css({top:d.top-g.top,left:d.left-g.left,width:d.width,height:d.height}).show()},hideOverlay:function(){this.dayOverlay&&
this.dayOverlay.hide()},resizableDayEvent:function(d,g,o){var n=this;if(!n.options.disableResizing&&g.resizable)g.resizable({handles:n.options.isRTL?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:o,minWidth:o/2,containment:n.element.parent().parent(),start:function(s,z){g.css("z-index",9);n.hideEvents(d,g);n.trigger("eventResizeStart",this,d,s,z)},stop:function(s,z){n.trigger("eventResizeStop",this,d,s,z);var w=Math.round((g.width()-z.originalSize.width)/o);if(w)n.eventResize(this,d,w,0,s,
z);else{g.css("z-index",8);n.showEvents(d,g)}}})},eventElementHandlers:function(d,g){var o=this;g.click(function(n){if(!g.hasClass("ui-draggable-dragging")&&!g.hasClass("ui-resizable-resizing"))return o.trigger("eventClick",this,d,n)}).hover(function(n){o.trigger("eventMouseover",this,d,n)},function(n){o.trigger("eventMouseout",this,d,n)})},option:function(d,g){d=this.options[d];if(typeof d=="object")return wa(d,g||this.name);return d},sliceSegs:function(d,g,o,n){var s=[],z,w=d.length,R,Q,B,sa,T;
for(z=0;z<w;z++){R=d[z];Q=R.start;B=g[z];if(B>o&&Q<n){if(Q<o){Q=G(o);sa=false}else{Q=Q;sa=true}if(B>n){B=G(n);T=false}else{B=B;T=true}s.push({event:R,start:Q,end:B,isStart:sa,isEnd:T,msLength:B-Q})}}return s.sort(j)}},nb=864E5,mb=36E5,lb=6E4;P.addDays=C;var hb=P.parseDate=function(d){if(typeof d=="object")return d;if(typeof d=="number")return new Date(d*1E3);if(typeof d=="string"){if(d.match(/^\d+$/))return new Date(parseInt(d)*1E3);return ob(d,true)||(d?new Date(d):null)}return null},ob=P.parseISO8601=
function(d,g){d=d.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!d)return null;var o=new Date(d[1],0,1),n=new Date(d[1],0,1,9,0),s=0;if(d[3]){o.setMonth(d[3]-1);n.setMonth(d[3]-1)}if(d[5]){o.setDate(d[5]);n.setDate(d[5])}ga(o,n);d[7]&&o.setHours(d[7]);d[8]&&o.setMinutes(d[8]);d[10]&&o.setSeconds(d[10]);d[12]&&o.setMilliseconds(Number("0."+d[12])*1E3);ga(o,n);if(!g){if(d[14]){s=Number(d[16])*60+Number(d[17]);
s*=d[15]=="-"?1:-1}s-=o.getTimezoneOffset()}return new Date(+o+s*60*1E3)},ib=P.parseTime=function(d){if(typeof d=="number")return d*60;if(typeof d=="object")return d.getHours()*60+d.getMinutes();if(d=d.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var g=parseInt(d[1]);if(d[3]){g%=12;if(d[3].toLowerCase().charAt(0)=="p")g+=12}return g*60+(d[2]?parseInt(d[2]):0)}},Ma=P.formatDate=function(d,g,o){return Wa(d,null,g,o)},Wa=P.formatDates=function(d,g,o,n){n=n||Na;var s=d,z=g,w,R=o.length,Q,B,sa,T="";for(w=0;w<R;w++){Q=
o.charAt(w);if(Q=="'")for(B=w+1;B<R;B++){if(o.charAt(B)=="'"){if(s){T+=B==w+1?"'":o.substring(w+1,B);w=B}break}}else if(Q=="(")for(B=w+1;B<R;B++){if(o.charAt(B)==")"){w=Ma(s,o.substring(w+1,B),n);if(parseInt(w.replace(/\D/,"")))T+=w;w=B;break}}else if(Q=="[")for(B=w+1;B<R;B++){if(o.charAt(B)=="]"){Q=o.substring(w+1,B);w=Ma(s,Q,n);if(w!=Ma(z,Q,n))T+=w;w=B;break}}else if(Q=="{"){s=g;z=d}else if(Q=="}"){s=d;z=g}else{for(B=R;B>w;B--)if(sa=pb[o.substring(w,B)]){if(s)T+=sa(s,n);w=B-1;break}if(B==w)if(s)T+=
Q}}return T},pb={s:function(d){return d.getSeconds()},ss:function(d){return H(d.getSeconds())},m:function(d){return d.getMinutes()},mm:function(d){return H(d.getMinutes())},h:function(d){return d.getHours()%12||12},hh:function(d){return H(d.getHours()%12||12)},H:function(d){return d.getHours()},HH:function(d){return H(d.getHours())},d:function(d){return d.getDate()},dd:function(d){return H(d.getDate())},ddd:function(d,g){return g.dayNamesShort[d.getDay()]},dddd:function(d,g){return g.dayNames[d.getDay()]},
M:function(d){return d.getMonth()+1},MM:function(d){return H(d.getMonth()+1)},MMM:function(d,g){return g.monthNamesShort[d.getMonth()]},MMMM:function(d,g){return g.monthNames[d.getMonth()]},yy:function(d){return(d.getFullYear()+"").substring(2)},yyyy:function(d){return d.getFullYear()},t:function(d){return d.getHours()<12?"a":"p"},tt:function(d){return d.getHours()<12?"am":"pm"},T:function(d){return d.getHours()<12?"A":"P"},TT:function(d){return d.getHours()<12?"AM":"PM"},u:function(d){return Ma(d,
"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(d){d=d.getDate();if(d>10&&d<20)return"th";return["st","nd","rd"][d%10-1]||"th"}},gb,aa,Ra=["sun","mon","tue","wed","thu","fri","sat"]})(jQuery);
(function(b){b.widget("ui.weekCalendar",{options:{date:new Date,timeFormat:"h:i a",dateFormat:"M d, Y",alwaysDisplayTimeMinutes:true,use24Hour:false,daysToShow:7,firstDayOfWeek:0,useShortDayNames:false,timeSeparator:" to ",startParam:"start",endParam:"end",businessHours:{start:8,end:18,limitDisplay:false},newEventText:"New Event",timeslotHeight:20,defaultEventLength:2,timeslotsPerHour:4,buttons:true,buttonText:{today:"today",lastWeek:"&nbsp;&lt;&nbsp;",nextWeek:"&nbsp;&gt;&nbsp;"},scrollToHourMillis:500,
allowCalEventOverlap:false,overlapEventsSeparate:false,readonly:false,draggable:function(){return true},resizable:function(){return true},eventClick:function(){},eventRender:function(c,k){return k},eventAfterRender:function(c,k){return k},eventDrag:function(){},eventDrop:function(){},eventResize:function(){},eventNew:function(){},eventMouseover:function(){},eventMouseout:function(){},calendarBeforeLoad:function(){},calendarAfterLoad:function(){},noEvents:function(){},shortMonths:["Jan","Feb","Mar",
"Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_create:function(){var c=this;c._computeOptions();c._setupEventDelegation();c._renderCalendar();c._loadCalEvents();c._resizeCalendar();c._scrollToHour(c.options.date.getHours());b(window).unbind("resize.weekcalendar");
b(window).bind("resize.weekcalendar",function(){c._resizeCalendar()})},refresh:function(){this._loadCalEvents(this.element.data("startDate"))},clear:function(){this._clearCalendar()},today:function(){this._clearCalendar();this._loadCalEvents(new Date)},prevWeek:function(){var c=new Date(this.element.data("startDate").getTime()-m/6);this._clearCalendar();this._loadCalEvents(c)},nextWeek:function(){var c=new Date(this.element.data("startDate").getTime()+m+m/7);this._clearCalendar();this._loadCalEvents(c)},
gotoWeek:function(c){this._clearCalendar();this._loadCalEvents(c)},removeEvent:function(c){var k=this;k.element.find(".wc-cal-event").each(function(){if(b(this).data("calEvent").id===c){b(this).remove();return false}});k.element.find(".wc-day-column-inner").each(function(){k._adjustOverlappingEvents(b(this))})},removeUnsavedEvents:function(){var c=this;c.element.find(".wc-new-cal-event").each(function(){b(this).remove()});c.element.find(".wc-day-column-inner").each(function(){c._adjustOverlappingEvents(b(this))})},
updateEvent:function(c){this._updateEventInCalendar(c)},getTimeslotTimes:function(c){var k=this.options,f=k.businessHours.limitDisplay?k.businessHours.start:0,e=[];c=(new Date(c.getFullYear(),c.getMonth(),c.getDate(),f)).getTime();for(f=0;f<k.timeslotsPerDay;f++){var l=c+k.millisPerTimeslot;e[f]={start:new Date(c),startFormatted:this._formatDate(new Date(c),k.timeFormat),end:new Date(l),endFormatted:this._formatDate(new Date(l),k.timeFormat)};c=l}return e},formatDate:function(c,k){return k?this._formatDate(c,
k):this._formatDate(c,this.options.dateFormat)},formatTime:function(c,k){return k?this._formatDate(c,k):this._formatDate(c,this.options.timeFormat)},_setOption:function(c,k){var f=this;if(f.options[c]!=k){var e=b.map(f.element.find(".wc-cal-event"),function(){return b(this).data("calEvent")}),l={};l[c]=k;f._renderEvents({events:e,options:l},f.element.find(".wc-day-column-inner"))}},_computeOptions:function(){var c=this.options;if(c.businessHours.limitDisplay){c.timeslotsPerDay=c.timeslotsPerHour*
(c.businessHours.end-c.businessHours.start);c.millisToDisplay=(c.businessHours.end-c.businessHours.start)*60*60*1E3;c.millisPerTimeslot=c.millisToDisplay/c.timeslotsPerDay}else{c.timeslotsPerDay=c.timeslotsPerHour*24;c.millisToDisplay=i;c.millisPerTimeslot=i/c.timeslotsPerDay}},_resizeCalendar:function(){var c=this.options;if(c&&b.isFunction(c.height)){c=c.height(this.element);var k=this.element.find(".wc-header").outerHeight(),f=this.element.find(".wc-nav").outerHeight();this.element.find(".wc-scrollable-grid").height(c-
f-k)}},_setupEventDelegation:function(){var c=this,k=this.options;this.element.click(function(f){var e=b(f.target);if(!e.data("preventClick"))if(e.hasClass("wc-cal-event"))k.eventClick(e.data("calEvent"),e,f);else e.parent().hasClass("wc-cal-event")&&k.eventClick(e.parent().data("calEvent"),e.parent(),f)}).mouseover(function(f){var e=b(f.target);c._isDraggingOrResizing(e)||e.hasClass("wc-cal-event")&&k.eventMouseover(e.data("calEvent"),e,f)}).mouseout(function(f){var e=b(f.target);if(!c._isDraggingOrResizing(e))if(e.hasClass("wc-cal-event"))e.data("sizing")||
k.eventMouseout(e.data("calEvent"),e,f)})},_isDraggingOrResizing:function(c){return c.hasClass("ui-draggable-dragging")||c.hasClass("ui-resizable-resizing")},_renderCalendar:function(){var c,k,f,e=this,l=this.options;c=b('<div class="wc-container">').appendTo(e.element);if(l.buttons){k='<div class="wc-nav">                    <button class="wc-today">'+l.buttonText.today+'</button>                    <button class="wc-prev">'+l.buttonText.lastWeek+'</button>                    <button class="wc-next">'+
l.buttonText.nextWeek+"</button>                    </div>";b(k).appendTo(c);c.find(".wc-nav .wc-today").click(function(){e.element.weekCalendar("today");return false});c.find(".wc-nav .wc-prev").click(function(){e.element.weekCalendar("prevWeek");return false});c.find(".wc-nav .wc-next").click(function(){e.element.weekCalendar("nextWeek");return false})}k='<table class="wc-header"><tbody><tr><td class="wc-time-column-header"></td>';for(var j=1;j<=l.daysToShow;j++)k+='<td class="wc-day-column-header wc-day-'+
j+'"></td>';k+='<td class="wc-scrollbar-shim"></td></tr></tbody></table>';f='<div class="wc-scrollable-grid">                <table class="wc-time-slots">                <tbody>                <tr>                <td class="wc-grid-timeslot-header"></td>                <td colspan="'+l.daysToShow+'">                <div class="wc-time-slot-wrapper">                <div class="wc-time-slots">';var q=l.businessHours.limitDisplay?l.businessHours.start:0,y=l.businessHours.limitDisplay?l.businessHours.end:
24;for(j=q;j<y;j++){for(var O=0;O<l.timeslotsPerHour-1;O++)f+='<div class="wc-time-slot"></div>';f+='<div class="wc-time-slot wc-hour-end"></div>'}f+='</div></div></td></tr><tr><td class="wc-grid-timeslot-header">';for(j=q;j<y;j++){f+='<div class="wc-hour-header '+(l.businessHours.start<=j&&l.businessHours.end>j?"wc-business-hours":"")+'">';f+=l.use24Hour?'<div class="wc-time-header-cell">'+e._24HourForIndex(j)+"</div>":'<div class="wc-time-header-cell">'+e._hourForIndex(j)+'<span class="wc-am-pm">'+
e._amOrPm(j)+"</span></div>";f+="</div>"}f+="</td>";for(j=1;j<=l.daysToShow;j++)f+='<td class="wc-day-column day-'+j+'"><div class="wc-day-column-inner"></div></td>';f+="</tr></tbody></table></div>";b(k+f).appendTo(c);c.find(".wc-day-column-inner").each(function(){b(this).height(l.timeslotHeight*l.timeslotsPerDay);if(!l.readonly){e._addDroppableToWeekDay(b(this));e._setupEventCreationForWeekDay(b(this))}});c.find(".wc-time-slot").height(l.timeslotHeight-1);c.find(".wc-time-header-cell").css({height:l.timeslotHeight*
l.timeslotsPerHour-11,padding:5})},_setupEventCreationForWeekDay:function(c){var k=this,f=this.options;c.mousedown(function(e){var l=b(e.target);if(l.hasClass("wc-day-column-inner")){var j=b('<div class="wc-cal-event wc-new-cal-event wc-new-cal-event-creating"></div>');j.css({lineHeight:f.timeslotHeight-2+"px",fontSize:f.timeslotHeight/2+"px"});l.append(j);var q=l.offset().top;e=e.pageY-q;var y=(e-e%f.timeslotHeight)/f.timeslotHeight*f.timeslotHeight;j.css({top:y});l.bind("mousemove.newevent",function(O){j.show();
j.addClass("ui-resizable-resizing");O=Math.round(O.pageY-q-y);var C=O%f.timeslotHeight;if(C<O/2){O=O-C;j.css("height",O<f.timeslotHeight?f.timeslotHeight:O)}else j.css("height",O+(f.timeslotHeight-C))}).mouseup(function(){l.unbind("mousemove.newevent");j.addClass("ui-corner-all")})}}).mouseup(function(e){e=b(e.target).closest(".wc-day-column-inner");var l=e.find(".wc-new-cal-event-creating");if(l.length){l.hasClass("ui-resizable-resizing")||l.css({height:f.timeslotHeight*f.defaultEventLength}).show();
var j=parseInt(l.css("top"));j=k._getEventDurationFromPositionedEventElement(e,l,j);l.remove();l={start:j.start,end:j.end,title:f.newEventText};var q=k._renderEvent(l,e);if(f.allowCalEventOverlap)k._adjustOverlappingEvents(e);else{k._adjustForEventCollisions(e,q,l,l);k._positionEvent(e,q)}f.eventNew(j,q)}})},_loadCalEvents:function(c){var k,f,e=this,l=this.options;k=c||l.date;c=e._dateFirstDayOfWeek(k);weekEndDate=e._dateLastMilliOfWeek(k);l.calendarBeforeLoad(e.element);e.element.data("startDate",
c);e.element.data("endDate",weekEndDate);f=e.element.find(".wc-day-column-inner");e._updateDayColumnHeader(f);if(typeof l.data=="string"){l.loading&&l.loading(true);k={};k[l.startParam||"start"]=Math.round(c.getTime()/1E3);k[l.endParam||"end"]=Math.round(weekEndDate.getTime()/1E3);b.getJSON(l.data,k,function(j){e._renderEvents(j,f);l.loading&&l.loading(false)})}else if(b.isFunction(l.data))l.data(c,weekEndDate,function(j){e._renderEvents(j,f)});else l.data&&e._renderEvents(l.data,f);e._disableTextSelect(f)},
_updateDayColumnHeader:function(c){var k=this,f=this.options,e=k._cloneDate(k.element.data("startDate"));k.element.find(".wc-header td.wc-day-column-header").each(function(){var l=f.useShortDayNames?f.shortDays[e.getDay()]:f.longDays[e.getDay()];b(this).html(l+"<br/>"+k._formatDate(e,f.dateFormat));k._isToday(e)?b(this).addClass("wc-today"):b(this).removeClass("wc-today");e=k._addDays(e,1)});e=k._dateFirstDayOfWeek(k._cloneDate(k.element.data("startDate")));c.each(function(){b(this).data("startDate",
k._cloneDate(e));b(this).data("endDate",new Date(e.getTime()+i));k._isToday(e)?b(this).parent().addClass("wc-today"):b(this).parent().removeClass("wc-today");e=k._addDays(e,1)})},_renderEvents:function(c,k){this._clearCalendar();var f=this,e=this.options,l;if(b.isArray(c))l=f._cleanEvents(c);else if(c.events)l=f._cleanEvents(c.events);if(c.options){var j=false;b.each(c.options,function(q,y){if(y!==e[q]){e[q]=y;j=true}});f._computeOptions();if(j){f.element.empty();f._renderCalendar();k=f.element.find(".wc-time-slots .wc-day-column-inner");
f._updateDayColumnHeader(k);f._resizeCalendar()}}b.each(l,function(q,y){(q=f._findWeekDayForEvent(y,k))&&f._renderEvent(y,q)});k.each(function(){f._adjustOverlappingEvents(b(this))});e.calendarAfterLoad(f.element);l.length||e.noEvents()},_renderEvent:function(c,k){var f=this,e=this.options;if(!(c.start.getTime()>c.end.getTime())){var l,j;l=b('<div class="'+(c.id?"wc-cal-event":"wc-cal-event wc-new-cal-event")+' ui-corner-all">                <div class="wc-time ui-corner-all"></div>                <div class="wc-title"></div></div>');
l=(j=e.eventRender(c,l))?j.appendTo(k):l.appendTo(k);l.css({lineHeight:e.timeslotHeight-2+"px",fontSize:e.timeslotHeight/2+"px"});f._refreshEventDetails(c,l);f._positionEvent(k,l);l.show();!e.readonly&&e.resizable(c,l)&&f._addResizableToCalEvent(c,l,k);!e.readonly&&e.draggable(c,l)&&f._addDraggableToCalEvent(c,l);e.eventAfterRender(c,l);return l}},_adjustOverlappingEvents:function(c){var k=this;if(k.options.allowCalEventOverlap){c=k._groupOverlappingEventElements(c);b.each(c,function(){var f=this;
b.each(f,function(e){var l=this;if(k.options.overlapEventsSeparate)var j=100/f.length,q=e*j;else{j=100-(f.length-1)*10;q=e*10}b.each(l,function(){k.options.overlapEventsSeparate||b(this).bind("mouseover.z-index",function(){var y=b(this);b.each(l,function(){b(this).css({"z-index":"1"})});y.css({"z-index":"3"})});b(this).css({width:j+"%",left:q+"%",right:0})})})})}},_groupOverlappingEventElements:function(c){c=c.find(".wc-cal-event:visible").sort(function(j,q){return b(j).data("calEvent").start.getTime()-
b(q).data("calEvent").start.getTime()});var k=new Date(0,0,0),f=[],e=[],l;b.each(c,function(){l=b(this);if(e.length>0)if(k.getTime()<=l.data("calEvent").start.getTime()){f.push(e);e=[]}for(var j=0;j<e.length;j++)if(e[j].length>0)if(e[j][e[j].length-1].data("calEvent").end.getTime()<=l.data("calEvent").start.getTime()){e[j].push(l);if(k.getTime()<l.data("calEvent").end.getTime())k=l.data("calEvent").end;return}e.push([l]);if(k.getTime()<l.data("calEvent").end.getTime())k=l.data("calEvent").end});e.length>
0&&f.push(e);return f},_findWeekDayForEvent:function(c,k){var f;k.each(function(){if(b(this).data("startDate").getTime()<=c.start.getTime()&&b(this).data("endDate").getTime()>=c.end.getTime()){f=b(this);return false}});return f},_updateEventInCalendar:function(c){var k=this;k._cleanEvent(c);c.id&&k.element.find(".wc-cal-event").each(function(){if(b(this).data("calEvent").id===c.id||b(this).hasClass("wc-new-cal-event")){b(this).remove();return false}});var f=k._findWeekDayForEvent(c,k.element.find(".wc-time-slots .wc-day-column-inner"));
if(f){var e=k._renderEvent(c,f);k._adjustForEventCollisions(f,e,c,c);k._refreshEventDetails(c,e);k._positionEvent(f,e);k._adjustOverlappingEvents(f)}},_positionEvent:function(c,k){var f=this.options,e=k.data("calEvent");c=c.height()/f.millisToDisplay;f=f.businessHours.limitDisplay?f.businessHours.start:0;f=e.start.getTime()-(new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate(),f)).getTime();e=e.end.getTime()-e.start.getTime();k.css({top:c*f,height:c*e})},_getEventDurationFromPositionedEventElement:function(c,
k,f){var e=this.options,l=e.businessHours.limitDisplay?e.businessHours.start*60*60*1E3:0;c=new Date(c.data("startDate").getTime()+l+Math.round(f/e.timeslotHeight)*e.millisPerTimeslot);k=new Date(c.getTime()+k.height()/e.timeslotHeight*e.millisPerTimeslot);return{start:c,end:k}},_adjustForEventCollisions:function(c,k,f,e,l){if(!this.options.allowCalEventOverlap){var j,q,y=this;c.find(".wc-cal-event").not(k).each(function(){var O=b(this).data("calEvent");if(f.start.getTime()<O.end.getTime()&&f.end.getTime()>=
O.end.getTime())j=O.end;if(f.end.getTime()>O.start.getTime()&&f.start.getTime()<=O.start.getTime())q=O.start;if(e.resizable==false||f.end.getTime()<=O.end.getTime()&&f.start.getTime()>=O.start.getTime()){j=e.start;q=e.end;return false}});f.start=j||f.start;if(j&&l){f.end=new Date(j.getTime()+(e.end.getTime()-e.start.getTime()));y._adjustForEventCollisions(c,k,f,e)}else f.end=q||f.end;if(f.start.getTime()>=f.end.getTime()){f.start=e.start;f.end=e.end}k.data("calEvent",f)}},_addDraggableToCalEvent:function(c,
k){var f=this,e=this.options;f._findWeekDayForEvent(c,f.element.find(".wc-time-slots .wc-day-column-inner"));k.draggable({handle:".wc-time",containment:".wc-scrollable-grid",revert:"valid",opacity:0.5,grid:[k.outerWidth()+1,e.timeslotHeight],start:function(l,j){e.eventDrag(c,j.draggable)}})},_addDroppableToWeekDay:function(c){var k=this,f=this.options;c.droppable({accept:".wc-cal-event",drop:function(e,l){var j=l.draggable;e=Math.round(parseInt(l.position.top));l=k._getEventDurationFromPositionedEventElement(c,
j,e);e=j.data("calEvent");l=b.extend(true,{},e,{start:l.start,end:l.end});k._adjustForEventCollisions(c,j,l,e,true);var q=k.element.find(".wc-day-column-inner");f.eventDrop(l,e,y);var y=k._renderEvent(l,k._findWeekDayForEvent(l,q));j.hide();j.data("preventClick",true);y=k._findWeekDayForEvent(j.data("calEvent"),k.element.find(".wc-time-slots .wc-day-column-inner"));y.data("startDate")!=c.data("startDate")&&k._adjustOverlappingEvents(y);k._adjustOverlappingEvents(c);setTimeout(function(){j.remove()},
1E3)}})},_addResizableToCalEvent:function(c,k,f){var e=this,l=this.options;k.resizable({grid:l.timeslotHeight,containment:f,handles:"s",minHeight:l.timeslotHeight,stop:function(j,q){var y=q.element;j=new Date(y.data("calEvent").start.getTime()+y.height()/l.timeslotHeight*l.millisPerTimeslot);j=b.extend(true,{},c,{start:c.start,end:j});e._adjustForEventCollisions(f,y,j,c);e._refreshEventDetails(j,y);e._positionEvent(f,y);e._adjustOverlappingEvents(f);l.eventResize(j,c,y);y.data("preventClick",true);
setTimeout(function(){y.removeData("preventClick")},500)}})},_refreshEventDetails:function(c,k){var f=this,e=this.options;c.end.getTime()-c.start.getTime()<=36E5/e.timeslotsPerHour?k.find(".wc-time").html(f._formatDate(c.start,e.timeFormat)+": "+c.title):k.find(".wc-time").html(f._formatDate(c.start,e.timeFormat)+e.timeSeparator+f._formatDate(c.end,e.timeFormat));k.find(".wc-title").html(c.title);k.data("calEvent",c)},_clearCalendar:function(){this.element.find(".wc-day-column-inner div").remove()},
_scrollToHour:function(c){var k=this,f=this.options,e=this.element.find(".wc-scrollable-grid"),l=c;if(k.options.businessHours.limitDisplay)l=c<=k.options.businessHours.start?0:c>k.options.businessHours.end?k.options.businessHours.end-k.options.businessHours.start-1:c-k.options.businessHours.start;var j=this.element.find(".wc-grid-timeslot-header .wc-hour-header:eq("+l+")");e.animate({scrollTop:0},0,function(){var q=j.offset().top-e.offset().top-j.outerHeight();e.animate({scrollTop:q},f.scrollToHourMillis)})},
_hourForIndex:function(c){return c===0?12:c<13?c:c-12},_24HourForIndex:function(c){return c===0?"00:00":c<10?"0"+c+":00":c+":00"},_amOrPm:function(c){return c<12?"AM":"PM"},_isToday:function(c){c=this._cloneDate(c);this._clearTime(c);var k=new Date;this._clearTime(k);return k.getTime()===c.getTime()},_cleanEvents:function(c){var k=this;b.each(c,function(f,e){k._cleanEvent(e)});return c},_cleanEvent:function(c){if(c.date)c.start=c.date;c.start=this._cleanDate(c.start);c.end=this._cleanDate(c.end);
if(!c.end)c.end=this._addDays(this._cloneDate(c.start),1)},_disableTextSelect:function(c){c.each(function(){if(b.browser.mozilla)b(this).css("MozUserSelect","none");else b.browser.msie?b(this).bind("selectstart",function(){return false}):b(this).mousedown(function(){return false})})},_dateFirstDayOfWeek:function(c){var k=this;c=new Date(c.getFullYear(),c.getMonth(),c.getDate());var f=new Date(c);f.setDate(f.getDate()-k._getAdjustedDayIndex(c));return f},_dateLastDayOfWeek:function(c){c=new Date(c.getFullYear(),
c.getMonth(),c.getDate());var k=new Date(c);k.setDate(k.getDate()+(6-this._getAdjustedDayIndex(c)));return k},_getAdjustedDayIndex:function(c){c=(new Date(c.getFullYear(),c.getMonth(),c.getDate())).getDay();var k=[0,1,2,3,4,5,6];this._rotate(k,this.options.firstDayOfWeek);return k[c]},_dateLastMilliOfWeek:function(c){c=this._dateLastDayOfWeek(c);return new Date(c.getTime()+i)},_clearTime:function(c){c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);return c},_addDays:function(c,k,
f){c.setDate(c.getDate()+k);if(f)return c;return this._clearTime(c)},_rotate:function(c,k){var f=c.length;k=(Math.abs(k)>=f&&(k%=f),k<0&&(k+=f),k);for(var e,l;k;k=(Math.ceil(f/k)-1)*k-f+(f=k))for(e=f;e>k;l=c[--e],c[e]=c[e-k],c[e-k]=l);return c},_cloneDate:function(c){return new Date(c.getTime())},_cleanDate:function(c){if(typeof c=="string")return b.weekCalendar.parseISO8601(c,true)||Date.parse(c)||new Date(parseInt(c));if(typeof c=="number")return new Date(c);return c},_formatDate:function(c,k){for(var f=
this.options,e="",l=0;l<k.length;l++){var j=k.charAt(l);if(b.isFunction(this._replaceChars[j])){j=this._replaceChars[j](c,f);if(j==="00"&&f.alwaysDisplayTimeMinutes===false)e=e.slice(0,-1);else e+=j}else e+=j}return e},_replaceChars:{d:function(c){return(c.getDate()<10?"0":"")+c.getDate()},D:function(c,k){return k.shortDays[c.getDay()]},j:function(c){return c.getDate()},l:function(c,k){return k.longDays[c.getDay()]},N:function(c){return c.getDay()+1},S:function(c){return c.getDate()%10==1&&c.getDate()!=
11?"st":c.getDate()%10==2&&c.getDate()!=12?"nd":c.getDate()%10==3&&c.getDate()!=13?"rd":"th"},w:function(c){return c.getDay()},z:function(){return"Not Yet Supported"},W:function(){return"Not Yet Supported"},F:function(c,k){return k.longMonths[c.getMonth()]},m:function(c){return(c.getMonth()<9?"0":"")+(c.getMonth()+1)},M:function(c,k){return k.shortMonths[c.getMonth()]},n:function(c){return c.getMonth()+1},t:function(){return"Not Yet Supported"},L:function(){return"Not Yet Supported"},o:function(){return"Not Supported"},
Y:function(c){return c.getFullYear()},y:function(c){return(""+c.getFullYear()).substr(2)},a:function(c){return c.getHours()<12?"am":"pm"},A:function(c){return c.getHours()<12?"AM":"PM"},B:function(){return"Not Yet Supported"},g:function(c){return c.getHours()%12||12},G:function(c){return c.getHours()},h:function(c){return((c.getHours()%12||12)<10?"0":"")+(c.getHours()%12||12)},H:function(c){return(c.getHours()<10?"0":"")+c.getHours()},i:function(c){return(c.getMinutes()<10?"0":"")+c.getMinutes()},
s:function(c){return(c.getSeconds()<10?"0":"")+c.getSeconds()},e:function(){return"Not Yet Supported"},I:function(){return"Not Supported"},O:function(c){return(c.getTimezoneOffset()<0?"-":"+")+(c.getTimezoneOffset()/60<10?"0":"")+c.getTimezoneOffset()/60+"00"},T:function(){return"Not Yet Supported"},Z:function(c){return c.getTimezoneOffset()*60},c:function(){return"Not Yet Supported"},r:function(c){return c.toString()},U:function(c){return c.getTime()/1E3}}});b.extend(b.ui.weekCalendar,{version:"1.2.2-pre"});
var i=864E5,m=i*7;b.weekCalendar=function(){return{parseISO8601:function(c,k){c=c.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?"));if(!c)return null;var f=0,e=new Date(c[1],0,1);c[3]&&e.setMonth(c[3]-1);c[5]&&e.setDate(c[5]);c[7]&&e.setHours(c[7]);c[8]&&e.setMinutes(c[8]);c[10]&&e.setSeconds(c[10]);c[12]&&e.setMilliseconds(Number("0."+c[12])*1E3);if(!k){if(c[14]){f=Number(c[16])*60+Number(c[17]);f*=c[15]==
"-"?1:-1}f-=e.getTimezoneOffset()}return new Date(Number(e)+f*60*1E3)}}}()})(jQuery);
(function(b){function i(D,E,H,wa){this.id=D;this.date=E;this.cell=H;this.label=wa;this.weekNumber=Math.floor(D/7);this.events=[];this.isTooManySet=false;this.vOffset=0;this.echo=function(){alert("Date: "+this.date+" WeekNumber: "+this.weekNumber+" ID: "+this.id)};this.clear=function(){this.events=[];this.isTooManySet=false;this.vOffset=0};this.getCellPosition=function(){if(this.cell)return this.cell.position()};this.getCellBox=function(){if(this.cell)return this.cell};this.getLabelWidth=function(){if(this.label)return this.label.innerWidth()};
this.getLabelHeight=function(){if(this.label)return this.label.height()};this.getDate=function(){return this.date}}var m=[],c={},k=null,f=0,e=null,l=null,j=0,q=0,y=0,O=0,C={startDate:null,endDate:null},ga=[],J={containerId:"#jMonthCalendar",headerHeight:50,firstDayOfWeek:0,calendarStartDate:new Date,dragableEvents:true,dragHoverClass:"DateBoxOver",navLinks:{enableToday:true,enableNextYear:true,enablePrevYear:true,p:"&lsaquo; Prev",n:"Next &rsaquo;",t:"Today",showMore:"Show More"},onMonthChanging:function(){},
onMonthChanged:function(){},onEventLinkClick:function(){},onEventBlockClick:function(){},onEventBlockOver:function(){},onEventBlockOut:function(){},onDayLinkClick:function(){},onDayCellClick:function(){},onDayCellDblClick:function(){},onEventDropped:function(){},onShowMoreClick:function(){}};b.jMonthCalendar=b.J=function(){};var Oa=function(D){var E;if(typeof D=="string"){var H=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})$/,wa=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/;if(E=D.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{7})$/))return new Date(E[1],
E[2]-1,E[3],E[4],E[5],E[6]);else if(E=D.match(H))return new Date(E[1],E[2]-1,E[3],E[4],E[5],E[6]);else if(E=D.match(wa))return new Date(E[1],E[2]-1,E[3]);if(E=D.match(/^\\\/Date\(([0-9]{13})-([0-9]{4})\)\\\/$/))return new Date(E[1]);if(D.match(/^new/))return eval("("+D+")")}},G=function(){if(ga&&ga.length>0){var D=[],E=[];b.each(ga,function(){var H=this;if(H.StartDateTime){if(typeof H.StartDateTime=="object"&&H.StartDateTime.getDate)this.StartDateTime=H.StartDateTime;if(typeof H.StartDateTime=="string"&&
H.StartDateTime.split)this.StartDateTime=Oa(H.StartDateTime)}else if(H.Date){if(typeof H.Date=="object"&&H.Date.getDate)this.StartDateTime=H.Date;if(typeof H.Date=="string"&&H.Date.split)this.StartDateTime=Oa(H.Date)}else return;if(H.EndDateTime){if(typeof H.EndDateTime=="object"&&H.EndDateTime.getDate)this.EndDateTime=H.EndDateTime;if(typeof H.EndDateTime=="string"&&H.EndDateTime.split)this.EndDateTime=Oa(H.EndDateTime)}else this.EndDateTime=this.StartDateTime.clone();if(this.StartDateTime.clone().clearTime().compareTo(this.EndDateTime.clone().clearTime())==
0)E.push(this);else this.StartDateTime.clone().clearTime().compareTo(this.EndDateTime.clone().clearTime())==-1&&D.push(this)});D.sort(Xa);E.sort(Xa);ga=[];b.merge(ga,D);b.merge(ga,E)}},Xa=function(D,E){return D.StartDateTime.compareTo(E.StartDateTime)},Aa=function(){Sa();m=[]},Sa=function(){for(var D=0;D<m.length;D++)m[D].clear();c={}},$a=function(D){var E=J.calendarStartDate;if(D==undefined)k=new Date(E.getFullYear(),E.getMonth(),1);else{k=D;k.setDate(1)}f=k.getDaysInMonth();e=k.clone().moveToFirstDayOfMonth();
l=k.clone().moveToLastDayOfMonth();j=e.getDay()-J.firstDayOfWeek;q=j+f;y=Math.ceil(q/7);O=y*7;C.startDate=e.clone().addDays(-1*j);C.endDate=l.clone().addDays(O-(f+j))},bb=function(){var D=k.clone().addMonths(-1),E=b('<div class="MonthNavPrev"><a class="link-prev">'+J.navLinks.p+"</a></div>").click(function(){b.J.ChangeMonth(D);return false}),H=k.clone().addMonths(1),wa=b('<div class="MonthNavNext"><a class="link-next">'+J.navLinks.n+"</a></div>").click(function(){b.J.ChangeMonth(H);return false}),
xa=k.clone().addYears(-1),ia;if(J.navLinks.enablePrevYear)ia=b('<div class="YearNavPrev"><a>'+xa.getFullYear()+"</a></div>").click(function(){b.J.ChangeMonth(xa);return false});var ya=k.clone().addYears(1),P;if(J.navLinks.enableNextYear)P=b('<div class="YearNavNext"><a>'+ya.getFullYear()+"</a></div>").click(function(){b.J.ChangeMonth(ya);return false});var ea;if(J.navLinks.enableToday)ea=b('<div class="TodayLink"><a class="link-today">'+J.navLinks.t+"</a></div>").click(function(){b.J.ChangeMonth(new Date);
return false});var Na=b('<tr><td colspan="7"><div class="FormHeader MonthNavigation"></div></td></tr>'),ua=b(".MonthNavigation",Na);ua.append(E,wa);J.navLinks.enableToday&&ua.append(ea);ua.append(b('<div class="MonthName"></div>').append(Date.CultureInfo.monthNames[k.getMonth()]+" "+k.getFullYear()));J.navLinks.enablePrevYear&&ua.append(ia);J.navLinks.enableNextYear&&ua.append(P);E=b("<tr></tr>");for(wa=J.firstDayOfWeek;wa<J.firstDayOfWeek+7;wa++){ia=wa%7;P=Date.CultureInfo.dayNames[ia];E.append('<th title="'+
P+'" class="DateHeader'+(ia==0||ia==6?" Weekend":"")+'"><span>'+P+"</span></th>")}E=b('<thead id="CalendarHead"></thead>').css({height:J.headerHeight+"px"}).append(E);return E=E.prepend(Na)};b.J.DrawCalendar=function(D){var E=new Date;E.clearTime();var H=J.calendarStartDate;Aa();$a(D);D=bb();k.getMonth()==H.getMonth()&&(k.getFullYear(),H.getFullYear());var wa=(b(J.containerId).outerHeight()-J.headerHeight)/y,xa=null;H=b('<tbody id="CalendarBody"></tbody>');for(var ia=0;ia<O;ia++){var ya=C.startDate.clone().addDays(ia);
if(ia%7==0||ia==0){xa=b("<tr></tr>");xa.css({height:wa+"px"});H.append(xa)}var P=(J.firstDayOfWeek+ia)%7,ea={"class":"DateBox"+(P==0||P==6?" Weekend ":""),date:ya.toString("M/d/yyyy")};if(ya.compareTo(e)==-1||ya.compareTo(l)==1)ea["class"]+=" Inactive";if(ya.compareTo(E)==0)ea["class"]+=" Today";P=b('<div class="DateLabel"><a>'+ya.getDate()+"</a></div>");P.bind("click",{Date:ya.clone()},J.onDayLinkClick);ea=b("<td></td>").attr(ea).append(P);ea.bind("dblclick",{Date:ya.clone()},J.onDayCellDblClick);
ea.bind("click",{Date:ya.clone()},J.onDayCellClick);J.dragableEvents&&ea.droppable({hoverClass:J.dragHoverClass,tolerance:"pointer",drop:function(Na,ua){var Za=ua.draggable.attr("eventid"),Qa=(new Date(b(this).attr("date"))).clearTime(),Va;b.each(ga,function(){if(this.EventID==Za){var ab=(new TimeSpan(Qa-this.StartDateTime)).days;this.StartDateTime.addDays(ab);this.EndDateTime.addDays(ab);Va=this}});b.J.ClearEventsOnCalendar();Ya();J.onEventDropped.call(this,Va,Qa)}});m.push(new i(ia,ya,ea,P));xa.append(ea)}H.append(xa);
E=b(J.containerId);D=b('<table class="MonthlyCalendar" cellpadding="0" tablespacing="0"></table>').append(D,H);E.hide();E.html(D);E.fadeIn("normal");Ya()};var Ya=function(){G();Sa();if(ga&&ga.length>0){var D=b(J.containerId);b.each(ga,function(){var H=this,wa=H.StartDateTime.clone().clearTime(),xa=H.EndDateTime.clone().clearTime(),ia=(new TimeSpan(wa-C.startDate)).days,ya=(new TimeSpan(xa-C.startDate)).days;ya=ya>m.length-1?m.length-1:ya;for(ia=ia<0?0:ia;ia<=ya;ia++){var P=m[ia],ea=wa.compareTo(P.date),
Na=xa.compareTo(P.date),ua=ia!=0&&ea==-1&&Na>=0&&P.weekNumber!=m[ia-1].weekNumber||ia==0&&ea==-1;if((ea==0||ia==0&&ea==-1||ua||ea==-1&&Na>=0)&&P.vOffset>=P.getCellBox().height()-P.getLabelHeight()-32){if(!P.isTooManySet){ua=b('<div class="MoreEvents" id="ME_'+ia+'">'+J.navLinks.showMore+"</div>");ea=P.getCellPosition();var Za=ia;ua.css({top:ea.top+(P.getCellBox().height()-P.getLabelHeight()),left:ea.left,width:P.getLabelWidth()-7,position:"absolute"});ua.click(function(Va){db(Va,Za)});c[ua.attr("id")]=
ua;P.isTooManySet=true}P.events.push(H)}else if(ea==0||ia==0&&ea==-1||ua){var Qa=cb(H,P.weekNumber);ea=P.getCellPosition();Qa.css({top:ea.top+P.getLabelHeight()+P.vOffset,left:ea.left,width:P.getLabelWidth()-7,position:"absolute"});P.vOffset+=19;if(ua){Qa.prepend(b("<span />").addClass("ui-icon").addClass("ui-icon-triangle-1-w"));(ua=c["Event_"+H.EventID+"_"+(P.weekNumber-1)])&&ua.prepend(b("<span />").addClass("ui-icon").addClass("ui-icon-triangle-1-e"))}c[Qa.attr("id")]=Qa;P.events.push(H)}else if(ea==
-1&&Na>=0)if(ua=c["Event_"+H.EventID+"_"+P.weekNumber]){ea=ua.css("width");ua.css({width:parseInt(ea)+P.getLabelWidth()+1});P.vOffset+=19;P.events.push(H)}if(ia==ya&&Na>0)(ua=c["Event_"+H.EventID+"_"+P.weekNumber])&&ua.prepend(b("<span />").addClass("ui-icon").addClass("ui-icon-triangle-1-e"))}});for(var E in c){c[E].hide();D.append(c[E]);c[E].show()}}},cb=function(D,E){var H=b('<div class="Event" id="Event_'+D.EventID+"_"+E+'" eventid="'+D.EventID+'"></div>');D.CssClass&&H.addClass(D.CssClass);H.bind("click",
{Event:D},J.onEventBlockClick);H.bind("mouseover",{Event:D},J.onEventBlockOver);H.bind("mouseout",{Event:D},J.onEventBlockOut);J.dragableEvents&&eb(D,H,E);E=D.URL&&D.URL.length>0?b('<a href="'+D.URL+'">'+D.Title+"</a>"):b("<a>"+D.Title+"</a>");E.bind("click",{Event:D},J.onEventLinkClick);H.append(E);return H},eb=function(D,E,H){E.draggable({zIndex:4,delay:50,opacity:0.5,revertDuration:1E3,cursorAt:{left:5},start:function(){for(var wa=0;wa<=y;wa++)if(wa!=H){var xa=c["Event_"+D.EventID+"_"+wa];xa&&
xa.hide()}}})},db=function(D,E){J.onShowMoreClick.call(this,m[E].events);D.stopPropagation()};b.J.ClearEventsOnCalendar=function(){Sa();b(".Event",b(J.containerId)).remove();b(".MoreEvents",b(J.containerId)).remove()};b.J.AddEvents=function(D){if(D){D.length>0?b.merge(ga,D):ga.push(D);b.J.ClearEventsOnCalendar();Ya()}};b.J.ReplaceEventCollection=function(D){if(D){ga=[];ga=D}b.J.ClearEventsOnCalendar();Ya()};b.J.ChangeMonth=function(D){if(!J.onMonthChanging.call(this,D)){b.J.DrawCalendar(D);J.onMonthChanged.call(this,
D)}};b.J.Initialize=function(D,E){b.extend(J,D);if(E){b.J.ClearEventsOnCalendar();ga=E}b.J.DrawCalendar()}})(jQuery);
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,
feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,
tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",
PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var i=Date.CultureInfo.monthNames,m=Date.CultureInfo.abbreviatedMonthNames;b=b.toLowerCase();for(var c=0;c<i.length;c++)if(i[c].toLowerCase()==b||m[c].toLowerCase()==b)return c;return-1};
Date.getDayNumberFromName=function(b){var i=Date.CultureInfo.dayNames,m=Date.CultureInfo.abbreviatedDayNames;b=b.toLowerCase();for(var c=0;c<i.length;c++)if(i[c].toLowerCase()==b||m[c].toLowerCase()==b)return c;return-1};Date.isLeapYear=function(b){return b%4===0&&b%100!==0||b%400===0};Date.getDaysInMonth=function(b,i){return[31,Date.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][i]};Date.getTimezoneOffset=function(b,i){return i?Date.CultureInfo.abbreviatedTimeZoneDST[b.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[b.toUpperCase()]};
Date.getTimezoneAbbreviation=function(b,i){i=i?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;var m;for(m in i)if(i[m]===b)return m;return null};a=Date.prototype;a.clone=function(){return new Date(this.getTime())};a.compareTo=function(b){if(isNaN(this))throw new Error(this);if(b instanceof Date&&!isNaN(b))return this>b?1:this<b?-1:0;else throw new TypeError(b);};a.equals=function(b){return this.compareTo(b)===0};
a.between=function(b,i){var m=this.getTime();return m>=b.getTime()&&m<=i.getTime()};a.addMilliseconds=function(b){this.setMilliseconds(this.getMilliseconds()+b);return this};a.addSeconds=function(b){return this.addMilliseconds(b*1E3)};a.addMinutes=function(b){return this.addMilliseconds(b*6E4)};a.addHours=function(b){return this.addMilliseconds(b*36E5)};a.addDays=function(b){return this.addMilliseconds(b*864E5)};a.addWeeks=function(b){return this.addMilliseconds(b*6048E5)};
a.addMonths=function(b){var i=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(i,this.getDaysInMonth()));return this};a.addYears=function(b){return this.addMonths(b*12)};
a.add=function(b){if(typeof b=="number"){this._orient=b;return this}if(b.millisecond||b.milliseconds)this.addMilliseconds(b.millisecond||b.milliseconds);if(b.second||b.seconds)this.addSeconds(b.second||b.seconds);if(b.minute||b.minutes)this.addMinutes(b.minute||b.minutes);if(b.hour||b.hours)this.addHours(b.hour||b.hours);if(b.month||b.months)this.addMonths(b.month||b.months);if(b.year||b.years)this.addYears(b.year||b.years);if(b.day||b.days)this.addDays(b.day||b.days);return this};
Date._validate=function(b,i,m,c){if(typeof b!="number")throw new TypeError(b+" is not a Number.");else if(b<i||b>m)throw new RangeError(b+" is not a valid value for "+c+".");return true};Date.validateMillisecond=function(b){return Date._validate(b,0,999,"milliseconds")};Date.validateSecond=function(b){return Date._validate(b,0,59,"seconds")};Date.validateMinute=function(b){return Date._validate(b,0,59,"minutes")};Date.validateHour=function(b){return Date._validate(b,0,23,"hours")};
Date.validateDay=function(b,i,m){return Date._validate(b,1,Date.getDaysInMonth(i,m),"days")};Date.validateMonth=function(b){return Date._validate(b,0,11,"months")};Date.validateYear=function(b){return Date._validate(b,1,9999,"seconds")};a=Date.prototype;
a.set=function(b){if(!b.millisecond&&b.millisecond!==0)b.millisecond=-1;if(!b.second&&b.second!==0)b.second=-1;if(!b.minute&&b.minute!==0)b.minute=-1;if(!b.hour&&b.hour!==0)b.hour=-1;if(!b.day&&b.day!==0)b.day=-1;if(!b.month&&b.month!==0)b.month=-1;if(!b.year&&b.year!==0)b.year=-1;b.millisecond!=-1&&Date.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());b.second!=-1&&Date.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());b.minute!=-1&&
Date.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());b.hour!=-1&&Date.validateHour(b.hour)&&this.addHours(b.hour-this.getHours());b.month!==-1&&Date.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());b.year!=-1&&Date.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());b.day!=-1&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);
return this};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};a.isLeapYear=function(){var b=this.getFullYear();return b%4===0&&b%100!==0||b%400===0};a.isWeekday=function(){return!(this.is().sat()||this.is().sun())};a.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};a.moveToFirstDayOfMonth=function(){return this.set({day:1})};a.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};
a.moveToDayOfWeek=function(b,i){b=(b-this.getDay()+7*(i||+1))%7;return this.addDays(b===0?(b+=7*(i||+1)):b)};a.moveToMonth=function(b,i){b=(b-this.getMonth()+12*(i||+1))%12;return this.addMonths(b===0?(b+=12*(i||+1)):b)};a.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864E5)};
a.getWeekOfYear=function(b){var i=this.getFullYear(),m=this.getMonth(),c=this.getDate();b=b||Date.CultureInfo.firstDayOfWeek;var k=8-(new Date(i,0,1)).getDay();if(k==8)k=1;m=(Date.UTC(i,m,c,0,0,0)-Date.UTC(i,0,1,0,0,0))/864E5+1;m=Math.floor((m-k+7)/7);if(m===b){i--;i=8-(new Date(i,0,1)).getDay();m=i==2||i==8?53:52}return m};a.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};
a.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};a.setTimezoneOffset=function(b){var i=this.getTimezoneOffset();this.addMinutes(Number(b)*-6/10-i);return this};a.setTimezone=function(b){return this.setTimezoneOffset(Date.getTimezoneOffset(b))};a.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6;if(b<0){b=(b-1E4).toString();return b[0]+b.substr(2)}else{b=(b+1E4).toString();return"+"+b.substr(1)}};
a.getDayName=function(b){return b?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};a.getMonthName=function(b){return b?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};a._toString=Date.prototype.toString;
a.toString=function(b){var i=this,m=function(c){return c.toString().length==1?"0"+c:c};return b?b.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(c){switch(c){case "hh":return m(i.getHours()<13?i.getHours():i.getHours()-12);case "h":return i.getHours()<13?i.getHours():i.getHours()-12;case "HH":return m(i.getHours());case "H":return i.getHours();case "mm":return m(i.getMinutes());case "m":return i.getMinutes();case "ss":return m(i.getSeconds());case "s":return i.getSeconds();
case "yyyy":return i.getFullYear();case "yy":return i.getFullYear().toString().substring(2,4);case "dddd":return i.getDayName();case "ddd":return i.getDayName(true);case "dd":return m(i.getDate());case "d":return i.getDate().toString();case "MMMM":return i.getMonthName();case "MMM":return i.getMonthName(true);case "MM":return m(i.getMonth()+1);case "M":return i.getMonth()+1;case "t":return i.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case "tt":return i.getHours()<
12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case "zzz":case "zz":case "z":return""}}):this._toString()};Date.now=function(){return new Date};Date.today=function(){return Date.now().clearTime()};a=Date.prototype;a._orient=+1;a.next=function(){this._orient=+1;return this};a.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};a._is=false;a.is=function(){this._is=true;return this};Number.prototype._dateElement="day";
Number.prototype.fromNow=function(){var b={};b[this._dateElement]=this;return Date.now().add(b)};Number.prototype.ago=function(){var b={};b[this._dateElement]=this*-1;return Date.now().add(b)};
(function(){for(var b=Date.prototype,i=Number.prototype,m="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),c="january february march april may june july august september october november december".split(/\s/),k="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),f=function(l){return function(){if(this._is){this._is=false;return this.getDay()==l}return this.moveToDayOfWeek(l,this._orient)}},e=0;e<m.length;e++)b[m[e]]=b[m[e].substring(0,3)]=f(e);m=function(l){return function(){if(this._is){this._is=
false;return this.getMonth()===l}return this.moveToMonth(l,this._orient)}};for(f=0;f<c.length;f++)b[c[f]]=b[c[f].substring(0,3)]=m(f);m=function(l){return function(){if(l.substring(l.length-1)!="s")l+="s";return this["add"+l](this._orient)}};f=function(l){return function(){this._dateElement=l;return this}};for(e=0;e<k.length;e++){c=k[e].toLowerCase();b[c]=b[c+"s"]=m(k[e]);i[c]=i[c+"s"]=f(c)}})();a=Date.prototype;a.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};
a.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};a.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};a.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};a.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};
a.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};
(function(){Date.Parsing={Exception:function(f){this.message="Parse error at '"+f.substring(0,10)+" ...'"}};for(var b=Date.Parsing,i=b.Operators={rtoken:function(f){return function(e){var l=e.match(f);if(l)return[l[0],e.substring(l[0].length)];else throw new b.Exception(e);}},token:function(){return function(f){return i.rtoken(new RegExp("^s*"+f+"s*"))(f)}},stoken:function(f){return i.rtoken(new RegExp("^"+f))},until:function(f){return function(e){for(var l=[],j=null;e.length;){try{j=f.call(this,
e)}catch(q){l.push(j[0]);e=j[1];continue}break}return[l,e]}},many:function(f){return function(e){for(var l=[],j=null;e.length;){try{j=f.call(this,e)}catch(q){return[l,e]}l.push(j[0]);e=j[1]}return[l,e]}},optional:function(f){return function(e){var l=null;try{l=f.call(this,e)}catch(j){return[null,e]}return[l[0],l[1]]}},not:function(f){return function(e){try{f.call(this,e)}catch(l){return[null,e]}throw new b.Exception(e);}},ignore:function(f){return f?function(e){var l=null;l=f.call(this,e);return[null,
l[1]]}:null},product:function(){for(var f=arguments[0],e=Array.prototype.slice.call(arguments,1),l=[],j=0;j<f.length;j++)l.push(i.each(f[j],e));return l},cache:function(f){var e={},l=null;return function(j){try{l=e[j]=e[j]||f.call(this,j)}catch(q){l=e[j]=q}if(l instanceof b.Exception)throw l;else return l}},any:function(){var f=arguments;return function(e){for(var l=null,j=0;j<f.length;j++)if(f[j]!=null){try{l=f[j].call(this,e)}catch(q){l=null}if(l)return l}throw new b.Exception(e);}},each:function(){var f=
arguments;return function(e){for(var l=[],j=null,q=0;q<f.length;q++)if(f[q]!=null){try{j=f[q].call(this,e)}catch(y){throw new b.Exception(e);}l.push(j[0]);e=j[1]}return[l,e]}},all:function(){var f=f;return f.each(f.optional(arguments))},sequence:function(f,e,l){e=e||i.rtoken(/^\s*/);l=l||null;if(f.length==1)return f[0];return function(j){for(var q=null,y=null,O=[],C=0;C<f.length;C++){try{q=f[C].call(this,j)}catch(ga){break}O.push(q[0]);try{y=e.call(this,q[1])}catch(J){y=null;break}j=y[1]}if(!q)throw new b.Exception(j);
if(y)throw new b.Exception(y[1]);if(l)try{q=l.call(this,q[1])}catch(Oa){throw new b.Exception(q[1]);}return[O,q?q[1]:j]}},between:function(f,e,l){l=l||f;var j=i.each(i.ignore(f),e,i.ignore(l));return function(q){q=j.call(this,q);return[[q[0][0],r[0][2]],q[1]]}},list:function(f,e,l){e=e||i.rtoken(/^\s*/);l=l||null;return f instanceof Array?i.each(i.product(f.slice(0,-1),i.ignore(e)),f.slice(-1),i.ignore(l)):i.each(i.many(i.each(f,i.ignore(e))),px,i.ignore(l))},set:function(f,e,l){e=e||i.rtoken(/^\s*/);
l=l||null;return function(j){var q=null;for(var y=q=null,O=null,C=[[],j],ga=false,J=0;J<f.length;J++){q=y=null;ga=f.length==1;try{q=f[J].call(this,j)}catch(Oa){continue}O=[[q[0]],q[1]];if(q[1].length>0&&!ga)try{y=e.call(this,q[1])}catch(G){ga=true}else ga=true;if(!ga&&y[1].length===0)ga=true;if(!ga){q=[];for(ga=0;ga<f.length;ga++)J!=ga&&q.push(f[ga]);q=i.set(q,e).call(this,y[1]);if(q[0].length>0){O[0]=O[0].concat(q[0]);O[1]=q[1]}}if(O[1].length<C[1].length)C=O;if(C[1].length===0)break}if(C[0].length===
0)return C;if(l){try{y=l.call(this,C[1])}catch(Xa){throw new b.Exception(C[1]);}C[1]=y[1]}return C}},forward:function(f,e){return function(l){return f[e].call(this,l)}},replace:function(f,e){return function(l){l=f.call(this,l);return[e,l[1]]}},process:function(f,e){return function(l){l=f.call(this,l);return[e.call(this,l[0]),l[1]]}},min:function(f,e){return function(l){var j=e.call(this,l);if(j[0].length<f)throw new b.Exception(l);return j}}},m=function(f){return function(){var e=null,l=[];if(arguments.length>
1)e=Array.prototype.slice.call(arguments);else if(arguments[0]instanceof Array)e=arguments[0];if(e)for(var j=e.shift();0<j.length;){e.unshift(j[0]);l.push(f.apply(null,e));e.shift();return l}else return f.apply(null,arguments)}},c="optional not ignore cache".split(/\s/),k=0;k<c.length;k++)i[c[k]]=m(i[c[k]]);m=function(f){return function(){return arguments[0]instanceof Array?f.apply(null,arguments[0]):f.apply(null,arguments)}};c="each any all".split(/\s/);for(k=0;k<c.length;k++)i[c[k]]=m(i[c[k]])})();
(function(){var b=function(j){for(var q=[],y=0;y<j.length;y++)if(j[y]instanceof Array)q=q.concat(b(j[y]));else j[y]&&q.push(j[y]);return q};Date.Grammar={};Date.Translator={hour:function(j){return function(){this.hour=Number(j)}},minute:function(j){return function(){this.minute=Number(j)}},second:function(j){return function(){this.second=Number(j)}},meridian:function(j){return function(){this.meridian=j.slice(0,1).toLowerCase()}},timezone:function(j){return function(){var q=j.replace(/[^\d\+\-]/g,
"");if(q.length)this.timezoneOffset=Number(q);else this.timezone=j.toLowerCase()}},day:function(j){var q=j[0];return function(){this.day=Number(q.match(/\d+/)[0])}},month:function(j){return function(){this.month=j.length==3?Date.getMonthNumberFromName(j):Number(j)-1}},year:function(j){return function(){var q=Number(j);this.year=j.length>2?q:q+(q+2E3<Date.CultureInfo.twoDigitYearMax?2E3:1900)}},rday:function(j){return function(){switch(j){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0;this.now=true;break}}},finishExact:function(j){j=j instanceof Array?j:[j];var q=new Date;this.year=q.getFullYear();this.month=q.getMonth();this.day=1;for(q=this.second=this.minute=this.hour=0;q<j.length;q++)j[q]&&j[q].call(this);this.hour=this.meridian=="p"&&this.hour<13?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");j=new Date(this.year,this.month,
this.day,this.hour,this.minute,this.second);if(this.timezone)j.set({timezone:this.timezone});else this.timezoneOffset&&j.set({timezoneOffset:this.timezoneOffset});return j},finish:function(j){j=j instanceof Array?b(j):[j];if(j.length===0)return null;for(var q=0;q<j.length;q++)typeof j[q]=="function"&&j[q].call(this);if(this.now)return new Date;j=Date.today();if(this.days!=null||this.orient||this.operator){var y,O;O=this.orient=="past"||this.operator=="subtract"?-1:1;if(this.weekday){this.unit="day";
q=Date.getDayNumberFromName(this.weekday)-j.getDay();y=7;this.days=q?(q+O*y)%y:O*y}if(this.month){this.unit="month";q=this.month-j.getMonth();y=12;this.months=q?(q+O*y)%y:O*y;this.month=null}if(!this.unit)this.unit="day";if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value)this.value=1;if(this.unit=="week"){this.unit="day";this.value*=7}this[this.unit+"s"]=this.value*O}return j.add(this)}else{if(this.meridian&&this.hour)this.hour=this.hour<13&&this.meridian=="p"?this.hour+12:this.hour;
if(this.weekday&&!this.day)this.day=j.addDays(Date.getDayNumberFromName(this.weekday)-j.getDay()).getDate();if(this.month&&!this.day)this.day=1;return j.set(this)}}};var i=Date.Parsing.Operators,m=Date.Grammar,c=Date.Translator,k;m.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/);m.timePartDelimiter=i.stoken(":");m.whiteSpace=i.rtoken(/^\s*/);m.generalDelimiter=i.rtoken(/^(([\s\,]|at|on)+)/);var f={};m.ctoken=function(j){var q=f[j];if(!q){q=Date.CultureInfo.regexPatterns;for(var y=j.split(/\s+/),
O=[],C=0;C<y.length;C++)O.push(i.replace(i.rtoken(q[y[C]]),y[C]));q=f[j]=i.any.apply(null,O)}return q};m.ctoken2=function(j){return i.rtoken(Date.CultureInfo.regexPatterns[j])};m.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),c.hour));m.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),c.hour));m.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),c.hour));m.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),c.hour));m.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),c.minute));
m.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),c.minute));m.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),c.second));m.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),c.second));m.hms=i.cache(i.sequence([m.H,m.mm,m.ss],m.timePartDelimiter));m.t=i.cache(i.process(m.ctoken2("shortMeridian"),c.meridian));m.tt=i.cache(i.process(m.ctoken2("longMeridian"),c.meridian));m.z=i.cache(i.process(i.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),c.timezone));m.zz=i.cache(i.process(i.rtoken(/^(\+|\-)\s*\d\d\d\d/),c.timezone));
m.zzz=i.cache(i.process(m.ctoken2("timezone"),c.timezone));m.timeSuffix=i.each(i.ignore(m.whiteSpace),i.set([m.tt,m.zzz]));m.time=i.each(i.optional(i.ignore(i.stoken("T"))),m.hms,m.timeSuffix);m.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(m.ctoken2("ordinalSuffix"))),c.day));m.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(m.ctoken2("ordinalSuffix"))),c.day));m.ddd=m.dddd=i.cache(i.process(m.ctoken("sun mon tue wed thu fri sat"),function(j){return function(){this.weekday=
j}}));m.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),c.month));m.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),c.month));m.MMM=m.MMMM=i.cache(i.process(m.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),c.month));m.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),c.year));m.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),c.year));m.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),c.year));m.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),c.year));k=function(){return i.each(i.any.apply(null,arguments),
i.not(m.ctoken2("timeContext")))};m.day=k(m.d,m.dd);m.month=k(m.M,m.MMM);m.year=k(m.yyyy,m.yy);m.orientation=i.process(m.ctoken("past future"),function(j){return function(){this.orient=j}});m.operator=i.process(m.ctoken("add subtract"),function(j){return function(){this.operator=j}});m.rday=i.process(m.ctoken("yesterday tomorrow today now"),c.rday);m.unit=i.process(m.ctoken("minute hour day week month year"),function(j){return function(){this.unit=j}});m.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),
function(j){return function(){this.value=j.replace(/\D/g,"")}});m.expression=i.set([m.rday,m.operator,m.value,m.unit,m.orientation,m.ddd,m.MMM]);k=function(){return i.set(arguments,m.datePartDelimiter)};m.mdy=k(m.ddd,m.month,m.day,m.year);m.ymd=k(m.ddd,m.year,m.month,m.day);m.dmy=k(m.ddd,m.day,m.month,m.year);m.date=function(j){return(m[Date.CultureInfo.dateElementOrder]||m.mdy).call(this,j)};m.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),
function(j){if(m[j])return m[j];else throw Date.Parsing.Exception(j);}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(j){return i.ignore(i.stoken(j))}))),function(j){return i.process(i.each.apply(null,j),c.finishExact)});var e={},l=function(j){return e[j]=e[j]||m.format(j)[0]};m.formats=function(j){if(j instanceof Array){for(var q=[],y=0;y<j.length;y++)q.push(l(j[y]));return i.any.apply(null,q)}else return l(j)};m._formats=m.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz",
"d"]);m._start=i.process(i.set([m.date,m.time,m.expression],m.generalDelimiter,m.whiteSpace),c.finish);m.start=function(j){try{var q=m._formats.call({},j);if(q[1].length===0)return q}catch(y){}return m._start.call({},j)}})();Date._parse=Date.parse;Date.parse=function(b){var i=null;if(!b)return null;try{i=Date.Grammar.start.call({},b)}catch(m){return null}return i[1].length===0?i[0]:null};
Date.getParseFunction=function(b){var i=Date.Grammar.formats(b);return function(m){var c=null;try{c=i.call({},m)}catch(k){return null}return c[1].length===0?c[0]:null}};Date.parseExact=function(b,i){return Date.getParseFunction(i)(b)};
TimeSpan=function(b,i,m,c,k){this.milliseconds=this.seconds=this.minutes=this.hours=this.days=0;if(arguments.length==5){this.days=b;this.hours=i;this.minutes=m;this.seconds=c;this.milliseconds=k}else if(arguments.length==1&&typeof b=="number"){var f=b<0?-1:+1;this.milliseconds=Math.abs(b);this.days=Math.floor(this.milliseconds/864E5)*f;this.milliseconds%=864E5;this.hours=Math.floor(this.milliseconds/36E5)*f;this.milliseconds%=36E5;this.minutes=Math.floor(this.milliseconds/6E4)*f;this.milliseconds%=
6E4;this.seconds=Math.floor(this.milliseconds/1E3)*f;this.milliseconds%=1E3;this.milliseconds*=f;return this}else return null};a=TimeSpan.prototype;a.compare=function(b){var i=new Date(1970,1,1,this.hours(),this.minutes(),this.seconds());b=b===null?new Date(1970,1,1,0,0,0):new Date(1970,1,1,b.hours(),b.minutes(),b.seconds());return i>b?1:i<b?-1:0};a.add=function(b){return b===null?this:this.addSeconds(b.getTotalMilliseconds()/1E3)};
a.subtract=function(b){return b===null?this:this.addSeconds(-b.getTotalMilliseconds()/1E3)};a.addDays=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*24*60*60*1E3)};a.addHours=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*60*60*1E3)};a.addMinutes=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*60*1E3)};a.addSeconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+b*1E3)};
a.addMilliseconds=function(b){return new TimeSpan(this.getTotalMilliseconds()+b)};a.getTotalMilliseconds=function(){return this.days()*864E5+this.hours()*36E5+this.minutes()*6E4+this.seconds()*1E3};a.get12HourHour=function(){return(h=this.hours()%12)?h:12};a.getDesignator=function(){return this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};
a.toString=function(b){function i(c){return c.toString().length<2?"0"+c:c}var m=this;return b?b.replace(/d|dd|HH|H|hh|h|mm|m|ss|s|tt|t/g,function(c){switch(c){case "d":return m.days();case "dd":return i(m.days());case "H":return m.hours();case "HH":return i(m.hours());case "h":return m.get12HourHour();case "hh":return i(m.get12HourHour());case "m":return m.minutes();case "mm":return i(m.minutes());case "s":return m.seconds();case "ss":return i(m.seconds());case "t":return(this.hours()<12?Date.CultureInfo.amDesignator:
Date.CultureInfo.pmDesignator).substring(0,1);case "tt":return this.hours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};
var TimePeriod=function(b,i){this.milliseconds=this.seconds=this.minutes=this.hours=this.days=this.months=this.years=0;if(arguments.length==2&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var m=b.clone(),c=i.clone(),k=m.clone(),f=m>c?-1:+1;this.years=c.getFullYear()-m.getFullYear();k.addYears(this.years);if(f==+1)k>c&&this.years!==0&&this.years--;else k<c&&this.years!==0&&this.years++;m.addYears(this.years);if(f==+1)for(;m<c&&m.clone().addDays(m.getDaysInMonth())<c;){m.addMonths(1);this.months++}else for(;m>
c&&m.clone().addDays(-m.getDaysInMonth())>c;){m.addMonths(-1);this.months--}m=c-m;if(m!==0){m=new TimeSpan(m);this.days=m.days;this.hours=m.hours;this.minutes=m.minutes;this.seconds=m.seconds;this.milliseconds=m.milliseconds}return this}};
