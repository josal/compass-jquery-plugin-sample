<!doctype html>
%html{ :lang => "en" }
  %head
    %title
      jQuery UI Droppable - Prevent propagation
    %link{ :href => "../../themes/base/ui.all.css", :rel => "stylesheet", :type => "text/css" }
    %script{ :type => "text/javascript", :src => "../../js/jquery-1.3.2.js" }
    %script{ :type => "text/javascript", :src => "../../ui/ui.core.js" }
    %script{ :type => "text/javascript", :src => "../../ui/ui.draggable.js" }
    %script{ :type => "text/javascript", :src => "../../ui/ui.droppable.js" }
    %link{ :href => "../demos.css", :rel => "stylesheet", :type => "text/css" }
    %style{ :type => "text/css" }
      \#draggable { width: 100px; height: 40px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; }
      \#droppable, #droppable2 { width: 230px; height: 120px; padding: 0.5em; float: left; margin: 10px; }
      \#droppable-inner, #droppable2-inner { width: 170px; height: 60px; padding: 0.5em; float: left; margin: 10px; }
    %script{ :type => "text/javascript" }
      $(function() {
      
      $("#draggable").draggable();
      
      $("#droppable, #droppable-inner").droppable({
      activeClass: 'ui-state-hover',
      hoverClass: 'ui-state-active',
      drop: function(event, ui) {
      $(this).addClass('ui-state-highlight').find('> p').html('Dropped!');
      return false;
      }
      });
      
      $("#droppable2, #droppable2-inner").droppable({
      greedy: true,
      activeClass: 'ui-state-hover',
      hoverClass: 'ui-state-active',
      drop: function(event, ui) {
      $(this).addClass('ui-state-highlight').find('> p').html('Dropped!');
      }
      });
      
      });
  %body
    .demo
      #draggable.ui-widget-content
        %p
          Drag me to my target
      #droppable.ui-widget-header
        %p
          Outer droppable
        #droppable-inner.ui-widget-header
          %p
            Inner droppable (not greedy)
      #droppable2.ui-widget-header
        %p
          Outer droppable
        #droppable2-inner.ui-widget-header
          %p
            Inner droppable (greedy)
    /
      End demo
    .demo-description
      %p
        When working with nested droppables — for example, you may have an editable directory structure displayed as a tree, with folder and document nodes — the
        %code
          greedy
        option set to true prevents event propagation when a draggable is dropped on a child node (droppable).
    /
      End demo-description
