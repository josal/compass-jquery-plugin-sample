<!doctype html>
%html{ :lang => "en" }
  %head
    %title
      jQuery UI Sortable - Portlets
    %link{ :href => "../../themes/base/ui.all.css", :rel => "stylesheet", :type => "text/css" }
    %script{ :type => "text/javascript", :src => "../../js/jquery-1.3.2.js" }
    %script{ :type => "text/javascript", :src => "../../ui/ui.core.js" }
    %script{ :type => "text/javascript", :src => "../../ui/ui.sortable.js" }
    %link{ :href => "../demos.css", :rel => "stylesheet", :type => "text/css" }
    %style{ :type => "text/css" }
      \.column { width: 170px; float: left; padding-bottom: 100px; }
      \.portlet { margin: 0 1em 1em 0; }
      \.portlet-header { margin: 0.3em; padding-bottom: 4px; padding-left: 0.2em; }
      \.portlet-header .ui-icon { float: right; }
      \.portlet-content { padding: 0.4em; }
      \.ui-sortable-placeholder { border: 1px dotted black; visibility: visible !important; height: 50px !important; }
      \.ui-sortable-placeholder * { visibility: hidden; }
    %script{ :type => "text/javascript" }
      $(function() {
      $(".column").sortable({
      connectWith: '.column'
      });
      
      $(".portlet").addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all")
      \.find(".portlet-header")
      \.addClass("ui-widget-header ui-corner-all")
      \.prepend('
      %span.ui-icon.ui-icon-plusthick
      ')
      \.end()
      \.find(".portlet-content");
      
      $(".portlet-header .ui-icon").click(function() {
      $(this).toggleClass("ui-icon-minusthick");
      $(this).parents(".portlet:first").find(".portlet-content").toggle();
      });
      
      $(".column").disableSelection();
      });
  %body
    .demo
      .column
        .portlet
          .portlet-header
            Feeds
          .portlet-content
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        .portlet
          .portlet-header
            News
          .portlet-content
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit
      .column
        .portlet
          .portlet-header
            Shopping
          .portlet-content
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit
      .column
        .portlet
          .portlet-header
            Links
          .portlet-content
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit
        .portlet
          .portlet-header
            Images
          .portlet-content
            Lorem ipsum dolor sit amet, consectetuer adipiscing elit
    /
      End demo
    .demo-description
      %p
        Enable portlets (styled divs) as sortables and use the
        %code
          connectWith
        option to allow sorting between columns.
    /
      End demo-description
