<!doctype html>
%html
  %head
    %title
      jQuery UI Autocomplete Custom Data Demo
    %link{ :href => "../../themes/base/jquery.ui.all.css", :rel => "stylesheet", :type => "text/css" }
    %script{ :type => "text/javascript", :src => "../../jquery-1.4.2.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.core.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.widget.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.position.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.autocomplete.js" }
    %link{ :href => "../demos.css", :rel => "stylesheet", :type => "text/css" }
    %style{ :type => "text/css" }
      \#project-label {
      display: block;
      font-weight: bold;
      margin-bottom: 1em;
      }
      \#project-icon {
      float: left;
      height: 32px;
      width: 32px;
      }
      \#project-description {
      margin: 0;
      padding: 0;
      }
    %script{ :type => "text/javascript" }
      $(function() {
      var projects = [
      {
      value: 'jquery',
      label: 'jQuery',
      desc: 'the write less, do more, JavaScript library',
      icon: 'jquery_32x32.png'
      },
      {
      value: 'jquery-ui',
      label: 'jQuery UI',
      desc: 'the official user interface library for jQuery',
      icon: 'jqueryui_32x32.png'
      },
      {
      value: 'sizzlejs',
      label: 'Sizzle JS',
      desc: 'a pure-JavaScript CSS selector engine',
      icon: 'sizzlejs_32x32.png'
      }
      ];
      
      $('#project').autocomplete({
      minLength: 0,
      source: projects,
      focus: function(event, ui) {
      $('#project').val(ui.item.label);
      return false;
      },
      select: function(event, ui) {
      $('#project').val(ui.item.label);
      $('#project-id').val(ui.item.value);
      $('#project-description').html(ui.item.desc);
      $('#project-icon').attr('src', '../images/' + ui.item.icon);
      
      return false;
      }
      });
      });
  %body
    .demo
      %label#project-label{ :for => "tags" }
        Select a project (type "j" for a start):
      %img#project-icon.ui-state-default{ :src => "../images/transparent_1x1.png" }
        %input#project
          %input#project-id{ :type => "hidden" }
            %p#project-description
    /
      End demo
    .demo-description
      %p
        You can use your own custom data formats and displays by simply overriding the default focus and select actions.
      %p
        Try typing "j" to get a list of projects or just press the down arrow.
    /
      End demo-description
