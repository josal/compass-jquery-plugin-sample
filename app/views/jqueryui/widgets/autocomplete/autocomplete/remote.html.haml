<!doctype html>
%html
  %head
    %title
      jQuery UI Autocomplete Remote datasource demo
    %link{ :href => "../../themes/base/jquery.ui.all.css", :rel => "stylesheet", :type => "text/css" }
    %script{ :type => "text/javascript", :src => "../../jquery-1.4.2.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.core.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.widget.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.position.js" }
    %script{ :type => "text/javascript", :src => "../../ui/jquery.ui.autocomplete.js" }
    %link{ :href => "../demos.css", :rel => "stylesheet", :type => "text/css" }
    %script{ :type => "text/javascript" }
      $(function() {
      function log(message) {
      $("
      %div
      ").text(message).prependTo("#log");
      $("#log").attr("scrollTop", 0);
      }
      
      $("#birds").autocomplete({
      \// TODO doesn't work when loaded from /demos/#autocomplete|remote
      source: "search.php",
      minLength: 2,
      select: function(event, ui) {
      log(ui.item ? ("Selected: " + ui.item.value + " aka " + ui.item.id) : "Nothing selected, input was " + this.value);
      }
      });
      });
  %body
    .demo
      .ui-widget
        %label{ :for => "birds" }
          Birds:
        %input#birds
      .ui-widget{ :style => "margin-top:2em; font-family:Arial" }
        Result:
        #log.ui-widget-content{ :style => "height: 200px; width: 300px; overflow: auto;" }
    /
      End demo
    .demo-description
      %p
        The Autocomplete widgets provides suggestions while you type into the field. Here the suggestions are bird names, displayed when at least two characters are entered into the field.
      %p
        The datasource is a server-side script which returns JSON data, specified via a simple URL for the source-option. In addition, the minLength-option is set to 2 to avoid queries that would return too many results and the select-event is used to display some feedback.
    /
      End demo-description
