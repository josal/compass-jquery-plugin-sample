!!! Strict
%html{:xmlns => "http://www.w3.org/1999/xhtml"}
  %head
    %meta{:content => "text/html; charset=utf-8", "http-equiv" => "Content-Type"}/
    %title jsTree v.1.0 - contextmenu documentation
    %script{:src => "../js/jquery.js", :type => "text/javascript"}
    %script{:src => "../js/jquery.cookie.js", :type => "text/javascript"}
    %script{:src => "../js/jquery.hotkeys.js", :type => "text/javascript"}
    %script{:src => "../js/jquery.jstree.js", :type => "text/javascript"}
    %link{:href => "syntax/!style.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "!style.css", :rel => "stylesheet", :type => "text/css"}/
    %script{:src => "syntax/!script.js", :type => "text/javascript"}
  %body
    #container
      %h1 jsTree v.1.0 - contextmenu plugin
      %h2 Description
      #description
        %p
          The
          %code contextmenu
          plugin enables a contextual menu to be shown, when the user right-clicks a node (or when triggered programatically by the developer).
      %h2#configuration Configuration
      .panel.configuration
        %h3 select_node
        %p.meta
          Boolean. Default is
          = succeed "." do
            %code false
        %p
          Whether to select the right clicked node when showing the context menu. If this is set to
          %code true
          and the node is not selected all currently selected nodes will be deselected.
        %h3 show_at_node
        %p.meta
          Boolean. Default is
          = succeed "." do
            %code true
        %p Whether to show the context menu just below the node, or at the clicked point exactly.
        %h3 items
        %p Expects an object or a function, which should return an object. If a function is used it fired in the tree's context and receives one argument - the node that was right clicked. The object format is:
        %div{:style => "border:1px solid gray"}
          %pre.brush:js
            :preserve
              
              {
              // Some key
              "rename" : {
              	// The item label
              	"label"				: "Rename",
              	// The function to execute upon a click
              	"action"			: function (obj) { this.rename(obj); },
              	// All below are optional 
              	"_disabled"			: true,		// clicking the item won't do a thing
              	"_class"			: "class",	// class is applied to the item LI node
              	"separator_before"	: false,	// Insert a separator before the item
              	"separator_after"	: true,		// Insert a separator after the item
              	// false or string - if does not contain `/` - used as classname
              	"icon"				: false,
              	"submenu"			: { 
              		/* Collection of objects (the same structure) */
              	}
              }
              /* MORE ENTRIES ... */
              }
      %h2#demos Demos
      .panel
        %h3 Using the contextmenu
        #demo1.demo
          %ul
            %li#phtml_1
              %a{:href => "#"} Root node 1
              %ul
                %li#phtml_2
                  %a{:href => "#"} Child node 1
                %li#phtml_3
                  %a{:href => "#"} Child node 2
            %li#phtml_4
              %a{:href => "#"} Root node 2
        %script.source{:type => "text/javascript"}
          $(function () {
          $("#demo1").jstree({
          "plugins" : [ "themes", "html_data", "ui", "crrm", "contextmenu" ]
          });
          });
      %h2#api API
      .panel.api
        %h3#show_contextmenu .show_contextmenu ( node , x, y )
        %p Shows the contextmenu next to a node. Triggered automatically when right-clicking a node.
        %ul.arguments
          %li
            %code.tp mixed
            %strong node
            %p This can be a DOM node, jQuery node or selector pointing to an element within the tree.
          %li
            %code.tp number
            %strong x
            %p
              The X-coordinate to show the menu at - may be overwritten by
              = succeed "." do
                %code show_at_node
              If you omit this the menu is shown aligned with the left of the node.
          %li
            %code.tp number
            %strong y
            %p
              The Y-coordinate to show the menu at - may be overwritten by
              = succeed "." do
                %code show_at_node
              If you omit this the menu is shown just below the node.
