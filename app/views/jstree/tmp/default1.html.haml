-@title = "#{t('txt.dt.name')} - #{t('txt.dt.default')}"
-@jstree_theme = 'jstree.default.css'

- content_for :content_head do
  = render(:partial => "default.js.haml", :format => :js)

.demo
  %h3
    =@title
    
  #mmenu{:style => "height:30px; overflow:auto;"}
  %input#add_folder{:style => "display:block; float:left;", :type => "button", :value => "add folder"}
  %input#add_default{:style => "display:block; float:left;", :type => "button", :value => "add file"}/
  %input#rename{:style => "display:block; float:left;", :type => "button", :value => "rename"}/
  %input#remove{:style => "display:block; float:left;", :type => "button", :value => "remove"}/
  %input#cut{:style => "display:block; float:left;", :type => "button", :value => "cut"}/
  %input#copy{:style => "display:block; float:left;", :type => "button", :value => "copy"}/
  %input#paste{:style => "display:block; float:left;", :type => "button", :value => "paste"}/
  %input#clear_search{:style => "display:block; float:right;", :type => "button", :value => "clear"}/
  %input#search{:style => "display:block; float:right;", :type => "button", :value => "search"}/
  %input#text{:style => "display:block; float:right;", :type => "text", :value => ""}/
  #demo.demo
  
  %div{:style => "position:absolute; right:30px; top:120px; width:220px; border:1px solid silver; min-height:160px;"}
    %input{:onclick => "$.get('./server.php?reconstruct', function () { $('#demo').jstree('refresh',-1); });", :style => "display:block; width:170px; height:24px; margin:5px auto;", :type => "button", :value => "reconstruct"}/
    %input#analyze{:onclick => "$('#alog').load('./server.php?analyze');", :style => "display:block; width:170px; height:24px; margin:5px auto;", :type => "button", :value => "analyze"}/
    %input{:onclick => "$('#demo').jstree('refresh',-1);", :style => "display:block; width:170px; height:24px; margin:5px auto;", :type => "button", :value => "refresh"}/
    #alog
/ End demo
.demo-description
  %p
    This tree uses default options.
/ End demo-description
