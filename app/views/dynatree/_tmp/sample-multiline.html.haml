!!! Strict
%html
  %head
    %meta{:content => "text/html; charset=ISO-8859-1", "http-equiv" => "content-type"}
      %title Dynatree - Example
      %script{:src => "../jquery/jquery.js", :type => "text/javascript"}
      %script{:src => "../jquery/jquery-ui.custom.js", :type => "text/javascript"}
      %script{:src => "../jquery/jquery.cookie.js", :type => "text/javascript"}
      %link{:href => "../src/skin/ui.dynatree.css", :rel => "stylesheet", :type => "text/css"}
        %script{:src => "../src/jquery.dynatree.js", :type => "text/javascript"}
        / Start_Exclude: This block is not part of the sample code
        %link{:href => "prettify.css", :rel => "stylesheet"}
          %script{:src => "prettify.js", :type => "text/javascript"}
          %link{:href => "sample.css", :rel => "stylesheet", :type => "text/css"}
            %script{:src => "sample.js", :type => "text/javascript"}
            / End_Exclude
            :javascript
              function drawCanvas() {
                var canvas = document.getElementById("canvas1");
                if(canvas && canvas.getContext) {
                  canvas = canvas.getContext("2d");
                  var lingrad = canvas.createLinearGradient( 0, 0, 0, 150 );
                  lingrad.addColorStop( 0, "#0099cc" );
                  lingrad.addColorStop( 0.5, "#fff" );
                  lingrad.addColorStop( 0.5, "#99cc00");
                  lingrad.addColorStop( 1, "#0099ff");
                  canvas.fillStyle = lingrad;
                  canvas.fillRect(0, 0, 400 ,100 );
                  canvas.fillStyle = "rgb(200,0,0)";
                  canvas.fillRect( 10, 10, 55, 55 );
                }
              }

              $(function(){
                // Initialize the tree inside the element.
                // The tree structure is read from the contained  tag.
                $("#tree").dynatree({
                  onActivate: function(node) {
                    $("#echoActive").text(node.data.title);
                    if(node.data.key == "canvasNode1")
                      drawCanvas();
                  },
                  onDeactivate: function(node) {
                    $("#echoSelected").text("-");
                  }
                });

                $("#btnAddObject").click(function(){
                  // Sample: add an hierarchic branch using an array
                  var obj = [
                    { title: 'Folder node 3', isFolder: true,
                      children: [
                        { title: 'node 3.1 line1\nline2' },
                        { title: 'node 3.2',
                          children: [
                            { title: 'node 3.2.1' },
                            { title: 'node 3.2.2',
                              children: [
                                { title: 'node 3.2.2.1' }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ];
                  $("#tree").dynatree("getRoot").addChild(obj);
                });

                drawCanvas();
              });
  %body.example
    %h1 Example: formatted and multi-line titles
    %p.description
      This example shows how multi-line and non-text contents is displayed.
      %br
        The 'noLink' node-option is used for single nodes to make the form and
        HTML5 elements clickable.
    #tree
      %ul
        %li
          Using some
          %b bold
          markup in the text (&lt;li&gt; tag only).
          %li
            %span
              Using some
              %b bold
              markup in the text (&lt;li&gt;&lt;span&gt; tag).
            %li.folder
              Long paragraph, with H3, P, and BR
              %ul
                %li
                  %span
                    %h3 Title
                    %p
                      Lorem ipsum dolor sit amet, consectetuer sadipscing elitr, sed
                      diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                      sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
                      %br
                        Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
                        amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
                        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                        sed diam voluptua.
                        %br
                          At vero eos et accusam et justo duo dolores et ea rebum.
                          Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                          Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
                          tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
                          At vero eos et accusam et justo duo dolores et ea rebum.
                          %br
                            Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                  %li
                    Node 2
              %li.folder
                Long line
                %ul
                  %li.noLink
                    %span
                      Lorem ipsum dolor sit amet, consectetuer sadipscing elitr, sed
                      diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                      sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
                      Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
                      amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
                      nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                      sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
                      Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                      Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
                      tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
                      At vero eos et accusam et justo duo dolores et ea rebum.
                      Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                    %li
                      Node 2
                %li.folder
                  Long text using BR and P
                  %ul
                    %li.noLink
                      %span
                        %p
                          Lorem ipsum dolor sit amet, consectetuer sadipscing elitr, sed
                          %br
                            diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                            %br
                              sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
                              %br
                        %p
                          Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
                          %br
                            amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
                            %br
                              nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                              %br
                                sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
                                %br
                                  Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                                  %br
                        %p
                          Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod
                          %br
                            tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
                            %br
                              At vero eos et accusam et justo duo dolores et ea rebum.
                              %br
                        %p
                          Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
                          %br
                      %li
                        Node 2
                  %li.folder
                    Form elements
                    %ul
                      %li.noLink
                        %span
                          Click here:
                          %button{:value => "123"} Click me
                        %li.noLink{:data => "icon: false"}
                          %span
                            %input{:checked => "", :name => "rb1", :type => "radio", :value => "v1"}
                              Umschlag 1
                              %br
                                %input{:name => "rb1", :type => "radio", :value => "v2"}
                                  Umschlag 2
                                  %br
                                    %input{:name => "rb1", :type => "radio", :value => "v3"}
                                      Umschlag 3
                    %li.folder
                      Canvas
                      %ul
                        %li#canvasNode1.noLink{:data => "icon: false"}
                          %span
                            Click below to draw:
                            %br
                              %canvas#canvas1{:height => "100", :width => "400"}
                                Your browser does not support the
                                %code canvas
                                element.
                      %li.folder
                        Video
                        %ul
                          %li.noLink
                            %span
                              %video{:NO_autoplay => "", :controls => "controls", :src => "http://www.w3schools.com/html5/movie.ogg"}
                                Your browser does not support the
                                %code video
                                element.
                        %li.folder
                          Audio
                          %ul
                            %li.noLink
                              %span
                                %audio{:NO_autoplay => "", :controls => "controls", :src => "http://developer.mozilla.org/@api/deki/files/2926/=AudioTest_(1).ogg"}
                                  Your browser does not support the
                                  %code audio
                                  element.
                          %li
                            item3
    %div
      Active node:
      %span#echoActive -
    %p
      %button#btnAddObject Add nodes using arrays
    / Start_Exclude: This block is not part of the sample code
    %hr
      %p.sample-links.no_code
        %a.hideInsideFS{:href => "http://dynatree.googlecode.com"} jquery.dynatree.js project home
        %a.hideOutsideFS{:href => "#"} Link to this page
        %a.hideInsideFS{:href => "samples.html"} Example Browser
        %a.codeExample{:href => "#"} View source code
      / End_Exclude
