!!! Strict
%html
  %head
    %meta{:content => "text/html; charset=ISO-8859-1", "http-equiv" => "content-type"}
      %meta{:content => "noindex,follow", :name => "robots"}
        %title Dynatree - Example
        %script{:src => "../jquery/jquery.js", :type => "text/javascript"}
        %script{:src => "../jquery/jquery-ui.custom.js", :type => "text/javascript"}
        %script{:src => "../jquery/jquery.cookie.js", :type => "text/javascript"}
        %link{:href => "../src/skin/ui.dynatree.css", :rel => "stylesheet", :type => "text/css"}
          %script{:src => "../src/jquery.dynatree.js", :type => "text/javascript"}
          / Add code to initialize the tree when the document is loaded:
          :javascript
            $(function(){
              $("#btnExpand").click(function(){
                var $tree = parent.$("#tree");
                var rootNode = parent.$("#tree").dynatree("getRoot");
                parent.logMsg("%o", rootNode);
                parent.$("#tree").dynatree("getRoot").visit(function(node){
                  node.toggleExpand();
                  });
              });
            });
              %body.example
    %p.description
      This page lives inside an iframe
      %br
        Click a link in the tree to load some content here.
        %br
          This button demonstrates, ho to access a tree in another frame:
          %button#btnExpand Toggle tree
          %br
            View the source of
            = succeed "," do
              %a{:href => "sample-iframe-1.html", :target => "_blank"} this iframe content
            to see how it can be done.
