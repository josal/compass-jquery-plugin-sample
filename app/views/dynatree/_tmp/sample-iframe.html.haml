!!! Strict
%html
  %head
    %meta{:content => "text/html; charset=ISO-8859-1", "http-equiv" => "content-type"}
      %title Dynatree - Example
      %script{:src => "../jquery/jquery.js", :type => "text/javascript"}
      %script{:src => "../jquery/jquery-ui.custom.js", :type => "text/javascript"}
      %script{:src => "../jquery/jquery.cookie.js", :type => "text/javascript"}
      %link{:href => "../src/skin/ui.dynatree.css", :rel => "stylesheet", :type => "text/css"}
        %script{:src => "../src/jquery.dynatree.js", :type => "text/javascript"}
        / Start_Exclude: This block is not part of the sample code
        %link{:href => "prettify.css", :rel => "stylesheet"}
          %script{:src => "prettify.js", :type => "text/javascript"}
          %link{:href => "sample.css", :rel => "stylesheet", :type => "text/css"}
            %script{:src => "sample.js", :type => "text/javascript"}
            / End_Exclude
            :css
              #tree {
                vertical-align: top;
                width: 250px;
              }
              iframe {
                border: 1px dotted gray;
              }
              / Add code to initialize the tree when the document is loaded:
            :javascript
  $(function(){
    // Attach the dynatree widget to an existing  element
    // and pass the tree options as an argument to the dynatree() function:
    $("#tree").dynatree({
//      autoCollapse: true,
      minExpandLevel: 1,
      persist: true,
      onPostInit: function(isReloading, isError) {
         this.reactivate();
      },
      onActivate: function(node) {
        // Use our custom attribute to load the new target content:
        if( node.data.url )
          $("[name=contentFrame]").attr("src", node.data.url);
      },
      children: [
        {title: "Search engines", isFolder: true, expand: true,
          children: [
            {title: "Google", url: "http://www.google.com"},
            {title: "Yahoo", url: "http://yahoo.com"}
          ]
        },
        {title: "jQuery", isFolder: true, expand: true,
          children: [
            {title: "jQuery", url: "http://www.jquery.com"},
            {title: "jQuery UI", url: "http://ui.jquery.com"},
            {title: "API browser", url: "http://api.jquery.com"},
            {title: "dynatree", url: "http://code.google.com/p/dynatree/"}
          ]
        },
        {title: "Misc", isFolder: true, expand: true,
          children: [
            {title: "Welcome", url: "sample-iframe-1.html"}
          ]
        }
      ]
    });
  });
    %body.example
    %h1 Example: iframes
    %p.description
      This sample shows, how to use dynatree as a navigation menu.
      %br
        A custom
        %code url
        attribute is added to the node data
        and set as
        %code src
        for the embedded &lt;iframe>.
        %br
          %br
            The [Toggle tree] button in the embedded welcome page also gives an example on
            how to access a tree that exists outside the own frame.
    %table
      %colgroup
        %col{:valign => "top", :width => "300px"}
          %col{:width => "90%"}
      %tr
        %td{:valign => "top"}
          / Add a <div> element where the tree should appear:
          #tree         %td
          %iframe{:frameborder => "0", :height => "500", :marginheight => "0", :marginwidth => "0", :name => "contentFrame", :scrolling => "yes", :src => "sample-iframe-1.html", :width => "100%"}
            %p Your browser does not support iframes
    / Start_Exclude: This block is not part of the sample code
    %hr
      %p.sample-links.no_code
        %a.hideInsideFS{:href => "http://dynatree.googlecode.com"} jquery.dynatree.js project home
        %a.hideOutsideFS{:href => "#"} Link to this page
        %a.hideInsideFS{:href => "samples.html"} Example Browser
        %a.codeExample{:href => "#"} View source code
      / End_Exclude
