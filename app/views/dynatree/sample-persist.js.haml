!!! Strict
%html
  %head
    %meta{ :content => "text/html; charset=ISO-8859-1", "http-equiv" => "content-type" }
      %title
        Dynatree - Example
      %script{ :src => "../lib/jquery/jquery.js", :type => "text/javascript" }
      %script{ :src => "../lib/jquery/ui.core.js", :type => "text/javascript" }
      %script{ :src => "../lib/jquery/jquery.cookie.js", :type => "text/javascript" }
      %link{ :href => "../src/skin/ui.dynatree.css", :rel => "stylesheet", :type => "text/css" }
        %script{ :src => "../src/jquery.dynatree.js", :type => "text/javascript" }
        /
          Start_Exclude: This block is not part of the sample code
        %link{ :href => "prettify.css", :rel => "stylesheet" }
          %script{ :src => "prettify.js", :type => "text/javascript" }
          %link{ :href => "sample.css", :rel => "stylesheet", :type => "text/css" }
            %script{ :src => "sample.js", :type => "text/javascript" }
            /
              End_Exclude
            %script{ :type => "text/javascript" }
              $(function(){
              $("#tree").dynatree({
              persist: true,
              checkbox: true,
              selectMode: 3,
              onPostInit: function(isReloading, isError) {
              logMsg("onPostInit(%o, %o)", isReloading, isError);
              \// Re-fire onActivate, so the text is update
              this.reactivate();
              },
              onActivate: function(dtnode) {
              $("#echoActive").text(dtnode.data.title);
              },
              onDeactivate: function(dtnode) {
              $("#echoActive").text("-");
              },
              onDblClick: function(dtnode, event) {
              logMsg("onDblClick(%o, %o)", dtnode, event);
              dtnode.toggleExpand();
              }
              });
              });
  %body.example
    %h1
      Example: Persist
    %p.description
      Cookie persistence is enabled here.
      %br
        Also, double-click handler expands document nodes.
        %br
          Select a node and hit [F5] to refresh, to see how the active node and
          expansion and selection states are restored.
          %br
            %br
              NOTE: if this doesn't seem to work, it's probably because the frame
              content is cached by the browser.
              %br
                Try this example as an
                %a{ :href => "#", :target => "_blank" }
                  unframed page
                \.
    /
      Tree container
    #tree
      %ul
        %li#id1{ :title => "Look, a tool tip!" }
          item1 with key and tooltip
          %li#id2
            item2
            %li#id3.folder
              Folder with some children
              %ul
                %li#id3.1
                  Sub-item 3.1
                  %ul
                    %li#id3.1.1
                      Sub-item 3.1.1
                      %li#id3.1.2
                        Sub-item 3.1.2
                  %li#id3.2
                    Sub-item 3.2
                    %ul
                      %li#id3.2.1
                        Sub-item 3.2.1
                        %li#id3.2.2
                          Sub-item 3.2.2
              %li#id4.expanded
                Document with some children (expanded on init)
                %ul
                  %li#id4.1.active.focused
                    Sub-item 4.1 (active and focus on init)
                    %ul
                      %li#id4.1.1
                        Sub-item 4.1.1
                        %li#id4.1.2
                          Sub-item 4.1.2
                    %li#id4.2
                      Sub-item 4.2
                      %ul
                        %li#id4.2.1
                          Sub-item 4.2.1
                          %li#id4.2.2
                            Sub-item 4.2.2
    %div
      Active node:
      %span#echoActive
        \-
    /
      Start_Exclude: This block is not part of the sample code
    %hr
      %p.sample-links.no_code
        %a.hideInsideFS{ :href => "http://dynatree.googlecode.com" }
          jquery.dynatree.js project home
        %a.hideOutsideFS{ :href => "#" }
          Link to this page
        %a.hideInsideFS{ :href => "samples.html" }
          Example Browser
        %a.codeExample{ :href => "#" }
          View source code
      /
        End_Exclude
